{"remainingRequest":"D:\\Demo\\svg\\svg\\node_modules\\babel-loader\\lib\\index.js!D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Demo\\svg\\svg\\src\\components\\gantt\\draglayouter\\box.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Demo\\svg\\svg\\src\\components\\gantt\\draglayouter\\box.vue","mtime":1642751508326},{"path":"D:\\Demo\\svg\\svg\\babel.config.js","mtime":1642127355809},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldERyYWdJdGVtRmxleCgpOwogICAgdGhpcy5kcmFnQ29udHJvbGxlckRpdigpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5aaC5p6cZHJhZ0l0ZW0g5rKh5pyJ5a6a5LmJ5a695bqm77yM5YiZZmxleD0xCiAgICBzZXREcmFnSXRlbUZsZXg6IGZ1bmN0aW9uIHNldERyYWdJdGVtRmxleCgpIHsKICAgICAgdmFyIGRyYWdCb3ggPSB0aGlzLiRyZWZzLmRyYWdCb3g7CiAgICAgIHZhciBjaGlsZHNMZW4gPSBkcmFnQm94LmNoaWxkcmVuLmxlbmd0aDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRzTGVuOyBpKyspIHsKICAgICAgICB2YXIgbm9kZSA9IGRyYWdCb3guY2hpbGRyZW5baV07CgogICAgICAgIGlmICghbm9kZS5zdHlsZS53aWR0aCkgewogICAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5a6a5LmJ5a695bqm77yM5YiZZmxleD0xCiAgICAgICAgICBub2RlLnN0eWxlLmZsZXggPSAxOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRyYWdDb250cm9sbGVyRGl2OiBmdW5jdGlvbiBkcmFnQ29udHJvbGxlckRpdigpIHsKICAgICAgdmFyIHJlc2l6ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jlc2l6ZScpOyAvLyDmi5bmi73mnaEKICAgICAgLy8g5b6q546v5Li65q+P5Liq5ouW5ou95p2h5re75Yqg5LqL5Lu2CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc2l6ZS5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIOm8oOagh+aMieS4i+S6i+S7tgogICAgICAgIHJlc2l6ZVtpXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTsKICAgICAgfQogICAgfSwKICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7CiAgICAgIHRoaXMucmVzaXplQm94ID0gZS50YXJnZXQ7CiAgICAgIHRoaXMuY3VycmVudEJveCA9IHRoaXMucmVzaXplQm94LnBhcmVudE5vZGU7IC8vIOW9k+WJjeebkuWtkAoKICAgICAgdGhpcy5yaWdodEJveCA9IHRoaXMuZ2V0TmV4dEVsZW1lbnQodGhpcy5jdXJyZW50Qm94KTsgLy8g5b2T5YmN55uS5a2Q55qE5LiL5Liq5YWE5byf6IqC54K5CgogICAgICBpZiAoIXRoaXMucmlnaHRCb3gpIHJldHVybjsKICAgICAgdGhpcy5jdXJMZW4gPSB0aGlzLmN1cnJlbnRCb3guY2xpZW50V2lkdGg7CiAgICAgIHRoaXMub3RoZXJCb3hXaWR0aCA9IHRoaXMuJHJlZnMuZHJhZ0JveC5jbGllbnRXaWR0aCAtIHRoaXMuY3VycmVudEJveC5jbGllbnRXaWR0aCAtIHRoaXMucmlnaHRCb3guY2xpZW50V2lkdGg7IC8vIOWFtuS7luebkuWtkOeahOWuveW6pgogICAgICAvLyDpopzoibLmlLnlj5jmj5DphpIKCiAgICAgIHRoaXMucmVzaXplQm94LnN0eWxlLmJhY2tncm91bmQgPSAnIzgxODE4MSc7CiAgICAgIHRoaXMuc3RhcnRYID0gZS5jbGllbnRYOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2Vtb3ZlKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZXVwKTsKICAgIH0sCiAgICAvLyDojrflj5bkuIvkuIDkuKrlhYTlvJ/lhYPntKDnmoTlhbzlrrnlh73mlbAKICAgIGdldE5leHRFbGVtZW50OiBmdW5jdGlvbiBnZXROZXh0RWxlbWVudChlbGVtZW50KSB7CiAgICAgIGlmIChlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykgewogICAgICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZzsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbmV4dCA9IGVsZW1lbnQubmV4dFNpYmxpbmc7IC8vIOS4i+S4gOS4quWFhOW8n+iKgueCuQoKICAgICAgICB3aGlsZSAobmV4dCAmJiBuZXh0Lm5vZGVUeXBlICE9PSAxKSB7CiAgICAgICAgICAvLyDmnIkg5bm25LiUIOS4jeaYr+aIkeaDs+imgeeahAogICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgfQogICAgfSwKICAgIG9uTW91c2Vtb3ZlOiBmdW5jdGlvbiBvbk1vdXNlbW92ZShlKSB7CiAgICAgIHZhciBlbmRYID0gZS5jbGllbnRYOwogICAgICB2YXIgbW92ZUxlbiA9IGVuZFggLSB0aGlzLnN0YXJ0WDsgLy8g77yIZW5keC1zdGFydHjvvIk9IOenu+WKqOeahOi3neemuwoKICAgICAgdmFyIEN1ckJveExlbiA9IHRoaXMuY3VyTGVuICsgbW92ZUxlbjsgLy8gcmVzaXplW2ldLmxlZnQr56e75Yqo55qE6Led56a7PeW3pui+ueWMuuWfn+acgOWQjueahOWuveW6pgoKICAgICAgdmFyIHJpZ2h0Qm94TGVuID0gdGhpcy4kcmVmcy5kcmFnQm94LmNsaWVudFdpZHRoIC0gQ3VyQm94TGVuIC0gdGhpcy5vdGhlckJveFdpZHRoOyAvLyDlj7Pkvqflrr3luqY95oC75a695bqmLeW3puS+p+WuveW6pi3lhbblroPnm5LlrZDlrr3luqYKICAgICAgLy8g5b2T5pyA5bCP5a695bqm5pe277yM5peg5rOV57un57ut5ouW5YqoCgogICAgICBpZiAoQ3VyQm94TGVuIDw9IDIwMCB8fCByaWdodEJveExlbiA8PSAyMDApIHJldHVybjsKICAgICAgdGhpcy5jdXJyZW50Qm94LnN0eWxlLndpZHRoID0gQ3VyQm94TGVuICsgJ3B4JzsgLy8g5b2T5YmN55uS5a2Q55qE5a695bqmCgogICAgICB0aGlzLnJlc2l6ZUJveC5zdHlsZS5sZWZ0ID0gQ3VyQm94TGVuOyAvLyDorr7nva7lt6bkvqfljLrln5/nmoTlrr3luqYKCiAgICAgIHRoaXMucmlnaHRCb3guc3R5bGUud2lkdGggPSByaWdodEJveExlbiArICdweCc7CiAgICB9LAogICAgb25Nb3VzZXVwOiBmdW5jdGlvbiBvbk1vdXNldXAoKSB7CiAgICAgIC8vIOminOiJsuaBouWkjQogICAgICB0aGlzLnJlc2l6ZUJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNkNmQ2ZDYnOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlbW92ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["box.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div ref='dragBox' style='display: flex; width: 100%;height:100%'>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  mounted () {\r\n    this.setDragItemFlex()\r\n    this.dragControllerDiv()\r\n  },\r\n  methods: {\r\n    // 如果dragItem 没有定义宽度，则flex=1\r\n    setDragItemFlex () {\r\n      const dragBox = this.$refs.dragBox\r\n      const childsLen = dragBox.children.length\r\n\r\n      for (let i = 0; i < childsLen; i++) {\r\n        const node = dragBox.children[i]\r\n        if (!node.style.width) {\r\n          // 如果没有定义宽度，则flex=1\r\n          node.style.flex = 1\r\n        }\r\n      }\r\n    },\r\n    dragControllerDiv () {\r\n      const resize = document.getElementsByClassName('resize') // 拖拽条\r\n      // 循环为每个拖拽条添加事件\r\n      for (let i = 0; i < resize.length; i++) {\r\n        // 鼠标按下事件\r\n        resize[i].addEventListener('mousedown', this.onMouseDown)\r\n      }\r\n    },\r\n    onMouseDown (e) {\r\n      this.resizeBox = e.target\r\n      this.currentBox = this.resizeBox.parentNode// 当前盒子\r\n      this.rightBox = this.getNextElement(this.currentBox)// 当前盒子的下个兄弟节点\r\n      if (!this.rightBox) return\r\n      this.curLen = this.currentBox.clientWidth\r\n      this.otherBoxWidth = this.$refs.dragBox.clientWidth - this.currentBox.clientWidth - this.rightBox.clientWidth // 其他盒子的宽度\r\n      // 颜色改变提醒\r\n      this.resizeBox.style.background = '#818181'\r\n      this.startX = e.clientX\r\n      document.addEventListener('mousemove', this.onMousemove)\r\n      document.addEventListener('mouseup', this.onMouseup)\r\n    },\r\n    // 获取下一个兄弟元素的兼容函数\r\n    getNextElement (element) {\r\n      if (element.nextElementSibling) {\r\n        return element.nextElementSibling\r\n      } else {\r\n        var next = element.nextSibling// 下一个兄弟节点\r\n        while (next && next.nodeType !== 1) { // 有 并且 不是我想要的\r\n          next = next.nextSibling\r\n        }\r\n        return next\r\n      }\r\n    },\r\n    onMousemove (e) {\r\n      const endX = e.clientX\r\n      const moveLen = endX - this.startX // （endx-startx）= 移动的距离\r\n      const CurBoxLen = this.curLen + moveLen // resize[i].left+移动的距离=左边区域最后的宽度\r\n      const rightBoxLen = this.$refs.dragBox.clientWidth - CurBoxLen - this.otherBoxWidth // 右侧宽度=总宽度-左侧宽度-其它盒子宽度\r\n      // 当最小宽度时，无法继续拖动\r\n      if (CurBoxLen <= 200 || rightBoxLen <= 200) return\r\n      this.currentBox.style.width = CurBoxLen + 'px'// 当前盒子的宽度\r\n      this.resizeBox.style.left = CurBoxLen // 设置左侧区域的宽度\r\n      this.rightBox.style.width = rightBoxLen + 'px'\r\n    },\r\n    onMouseup () {\r\n      // 颜色恢复\r\n      this.resizeBox.style.background = '#d6d6d6'\r\n      document.removeEventListener('mousedown', this.onMouseDown)\r\n      document.removeEventListener('mousemove', this.onMousemove)\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/gantt/draglayouter"}]}