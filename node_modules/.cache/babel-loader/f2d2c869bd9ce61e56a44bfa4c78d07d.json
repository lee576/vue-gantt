{"remainingRequest":"D:\\MyCode\\vue-gantt\\node_modules\\babel-loader\\lib\\index.js!D:\\MyCode\\vue-gantt\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\MyCode\\vue-gantt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyCode\\vue-gantt\\src\\components\\gantt\\virtual-ruler.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyCode\\vue-gantt\\src\\components\\gantt\\virtual-ruler.vue","mtime":1649753719058},{"path":"D:\\MyCode\\vue-gantt\\babel.config.js","mtime":1649728992709},{"path":"D:\\MyCode\\vue-gantt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649728994235},{"path":"D:\\MyCode\\vue-gantt\\node_modules\\babel-loader\\lib\\index.js","mtime":1649728994097},{"path":"D:\\MyCode\\vue-gantt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649728994235},{"path":"D:\\MyCode\\vue-gantt\\node_modules\\vue-loader\\lib\\index.js","mtime":1649729006096}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxNeUNvZGVcXHZ1ZS1nYW50dFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxNeUNvZGVcXHZ1ZS1nYW50dFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDpcXE15Q29kZVxcdnVlLWdhbnR0XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBpZCA9IDA7CgpmdW5jdGlvbiBnZXROZXh0SWQoKSB7CiAgaWQgKz0gMTsKICByZXR1cm4gU3RyaW5nKGlkKTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaXJ0dWFsUnVsZXInLAogIHByb3BzOiB7CiAgICAvLyDpu5jorqTlgLwKICAgIGRlZmF1bHRWYWx1ZTogTnVtYmVyLAogICAgLy8g5pyA5bCP5Yi75bqm5YC8CiAgICBtaW46IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgLy8g5pyA5aSn5Yi75bqm5YC8CiAgICBtYXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICAvLyDliLvluqbpl7TpmpQKICAgIGdhcDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8g5Yi75bqm57q/5a695bqmCiAgICBpdGVtV2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIC8vIOWIu+W6pue6v+minOiJsgogICAgaXRlbUNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJyNjY2NjY2MnCiAgICB9LAogICAgLy8g5Yi75bqm57q/6auY5bqm5Ye95pWw6buY6K6k5Li6IDgvMTUvMjAKICAgIGl0ZW1IZWlnaHQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KGluZGV4KSB7CiAgICAgICAgaWYgKGluZGV4ICUgMTAgPT09IDApIHsKICAgICAgICAgIHJldHVybiAyMDsKICAgICAgICB9CgogICAgICAgIGlmIChpbmRleCAlIDUgPT09IDApIHsKICAgICAgICAgIHJldHVybiAxNTsKICAgICAgICB9CgogICAgICAgIHJldHVybiA4OwogICAgICB9CiAgICB9LAogICAgLy8g5Yi75bqm57q/5pyA6auY6auY5bqmIOm7mOiupOS4uiBpdGVtSGVpZ2h0IOeahOacgOmrmOmrmOW6pgogICAgaXRlbU1heEhlaWdodDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB2YXIgYWxsID0gQXJyYXkuZnJvbSh7CiAgICAgICAgICBsZW5ndGg6IHRoaXMubWF4ICsgMSAtIHRoaXMubWluCiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLml0ZW1IZWlnaHQoaW5kZXgpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkoYWxsKSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliLvluqbmoIfnur/lrr3luqYKICAgIHBvaW50V2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIC8vIOWIu+W6puagh+e6v+minOiJsgogICAgcG9pbnRDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcjMDBDNUNEJwogICAgfSwKICAgIC8vIOWIu+W6puagh+e6v+agt+W8jwogICAgcG9pbnRTdHlsZTogT2JqZWN0LAogICAgLy8g5Yi75bqm5YC8bGFiZWzpl7TpmpQKICAgIGxhYmVsR2FwOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTAKICAgIH0sCiAgICAvLyDmmK/lkKbmmL7npLrliLvluqblgLxsYWJlbAogICAgc2hvd0xhYmVsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICAvLyDliLvluqblgLznmoTlgI3mlbDvvIzkvovlpoLliLvluqblgLzkuLogMTAw77yM6Ze06ZqU5Li6MC4x5YiZ5YC85Li6MTAwICogMC4xLOm7mOiupOS4ujEKICAgIHZhbHVlR2FwOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIC8vIOe8k+WGsuaVsOmHj++8jOmihOWFiOa4suafkwogICAgYnVmZmVyOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTAKICAgIH0sCiAgICAvLyDliLvluqblsLrpq5jluqYKICAgIGhlaWdodDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIC8vIOWIu+W6puWwuuS4iui+ueahhgogICAgdG9wQm9yZGVyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g5Yi75bqm5bC65LiK6L655qGG5a695bqmCiAgICB0b3BCb3JkZXJXaWR0aDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiAxCiAgICB9LAogICAgLy8g5Yi75bqm5bC65LiK6L655qGG6aKc6ImyCiAgICB0b3BCb3JkZXJDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcjY2NjY2NjJwogICAgfSwKICAgIC8vIOWIu+W6puWwuuiDjOaZr+a4kOWPmAogICAgbGluZWFyR3JhZGllbnQ6IEJvb2xlYW4sCiAgICAvLyDliLvluqblsLrog4zmma/muJDlj5jmlrnlkJEKICAgIGxpbmVhckdyYWRpZW50RGlyZWN0aW9uVmFyOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gWyd0bycsICdyaWdodCddOwogICAgICB9CiAgICB9LAogICAgLy8g5Yi75bqm5bC66IOM5pmv5riQ5Y+Y6aKc6ImyCiAgICBsaW5lYXJHcmFkaWVudENvbG9yVmFyOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gWydyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpJywgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCkgMjUlJywgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCkgODUlJywgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMSkgMTAwJSddOwogICAgICB9CiAgICB9LAogICAgLy8g5piv5ZCm6Ieq5Yqo55uR5ZCs5YWD57Sg5aSn5bCP5pS55Y+Y5LqL5Lu2CiAgICBhdXRvUmVzaXplOiBCb29sZWFuLAogICAgLy8g5Yi75bqm5YC8bGFiZWzmoLflvI8KICAgIGxhYmVsU3R5bGU6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0SW5kZXg6IDAsCiAgICAgIHNjcm9sbFRpbWVyOiBudWxsLAogICAgICB2YWw6IHRoaXMuZGVmYXVsdFZhbHVlIHx8IHRoaXMubWluLAogICAgICBpc1RvdWNoOiBmYWxzZSwKICAgICAgZmlyZVNjcm9sbEVuZDogbnVsbCwKICAgICAgd2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsCiAgICAgIG9ic2VydmVyOiBudWxsLAogICAgICBpZDogZ2V0TmV4dElkKCksCiAgICAgIHN0eWxlU2hlZXQ6IHRoaXMuZ2V0U3R5bGVTaGVldCgpCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8qKg0KICAgICAqIOS4gOWNiuWPr+inhuWuveW6pg0KICAgICAqIEByZXR1cm5zIHtudW1iZXJ9DQogICAgICovCiAgICBoYWxmV2lkdGg6IGZ1bmN0aW9uIGhhbGZXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMud2lkdGggLyAyOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmiYDmnInliLvluqblsLrliJfooagNCiAgICAgKiBAcmV0dXJucyB7e2dhcFZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIHZhbHVlOiBudW1iZXJ9W119DQogICAgICovCiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBBcnJheS5mcm9tKHsKICAgICAgICBsZW5ndGg6IHRoaXMubWF4ICsgMSAtIHRoaXMubWluCiAgICAgIH0pLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHsKICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCArIF90aGlzMi5taW47CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgIGdhcFZhbHVlOiBfdGhpczIuZ2V0UmVhbFZhbHVlKHZhbHVlKQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGRlY2ltYWxDb3VudDogZnVuY3Rpb24gZGVjaW1hbENvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5nZXREZWNpbWFsQ291bnQodGhpcy52YWx1ZUdhcCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWPr+inhuWIu+W6puWwuuaVsOmHjw0KICAgICAqIEByZXR1cm5zIHtudW1iZXJ9DQogICAgICovCiAgICB2aWV3Q291bnQ6IGZ1bmN0aW9uIHZpZXdDb3VudCgpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy53aWR0aCAvIHRoaXMuZ2FwKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Y+v6KeG6IyD5Zu05byA5aeL5Yi75bqm5bC65YC855qE5LiL5qCHDQogICAgICogQHJldHVybnMge251bWJlcn0NCiAgICAgKi8KICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGguZmxvb3IodGhpcy5zdGFydEluZGV4IC0gdGhpcy52aWV3Q291bnQgLyAyIC0gdGhpcy5idWZmZXIpKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Y+v6KeG6IyD5Zu057uT5p2f5Yi75bqm5bC65YC855qE5LiL5qCHDQogICAgICogQHJldHVybnMge251bWJlcn0NCiAgICAgKi8KICAgIGVuZDogZnVuY3Rpb24gZW5kKCkgewogICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5zdGFydCArIHRoaXMudmlld0NvdW50ICsgdGhpcy5idWZmZXIgKiAyLCB0aGlzLmxpc3QubGVuZ3RoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog5Y+v6KeG6IyD5Zu055qE5Yi75bqm5bC65YiX6KGoDQogICAgICogQHJldHVybnMge3tnYXBWYWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyfVtdfQ0KICAgICAqLwogICAgcG9vbDogZnVuY3Rpb24gcG9vbCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGlzdC5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOaAu+WIu+W6puWwuueahOWFg+e0oOWkp+Wwjw0KICAgICAqIEByZXR1cm5zIHtudW1iZXJ9DQogICAgICovCiAgICBzaXplOiBmdW5jdGlvbiBzaXplKCkgewogICAgICByZXR1cm4gdGhpcy5saXN0Lmxlbmd0aCAqIHRoaXMuZ2FwICsgdGhpcy53aWR0aCAtIHRoaXMuZ2FwOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliLvluqblsLrmnIDlpKfpq5jluqYNCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfQ0KICAgICAqLwogICAgaXRlbURJVkhlaWdodDogZnVuY3Rpb24gaXRlbURJVkhlaWdodCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0UHgodGhpcy5pdGVtTWF4SGVpZ2h0KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5q+P5Liq5Yi75bqm5bC65a695bqmDQogICAgICogQHJldHVybnMge3N0cmluZ30NCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqLwogICAgX2l0ZW1XaWR0aDogZnVuY3Rpb24gX2l0ZW1XaWR0aCgpIHsKICAgICAgdmFyIGl0ZW1XaWR0aCA9IHRoaXMuaXRlbVdpZHRoOwogICAgICByZXR1cm4gdGhpcy5nZXRQeChpdGVtV2lkdGgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliLvluqblsLrmoIfnur/moLflvI8NCiAgICAgKiBAcmV0dXJucyB7e2JvcmRlckxlZnQ6IHN0cmluZywgbGVmdDogc3RyaW5nLCBoZWlnaHQ6IHN0cmluZ319DQogICAgICogQHByaXZhdGUNCiAgICAgKi8KICAgIF9wb2ludFN0eWxlOiBmdW5jdGlvbiBfcG9pbnRTdHlsZSgpIHsKICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRQeCh0aGlzLnBvaW50V2lkdGgpOwogICAgICB2YXIgbnVtYmVyV2lkdGggPSBwYXJzZUZsb2F0KHRoaXMucG9pbnRXaWR0aCk7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICBib3JkZXJMZWZ0OiAiIi5jb25jYXQod2lkdGgsICIgc29saWQgIikuY29uY2F0KHRoaXMucG9pbnRDb2xvciksCiAgICAgICAgbGVmdDogImNhbGMoNTAlIC0gIi5jb25jYXQobnVtYmVyV2lkdGggLyAyIC0gMSwgInB4KSIpLAogICAgICAgIGhlaWdodDogdGhpcy5pdGVtRElWSGVpZ2h0CiAgICAgIH0sIHRoaXMucG9pbnRTdHlsZSB8fCB7fSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIu+W6puWwuuWuueWZqOagt+W8jw0KICAgICAqIEByZXR1cm5zIHt7Ym9yZGVyVG9wOiBzdHJpbmcsIGhlaWdodDogc3RyaW5nfX0NCiAgICAgKi8KICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBoZWlnaHQ6IHRoaXMuZ2V0UHgodGhpcy5oZWlnaHQpLAogICAgICAgIGJvcmRlclRvcDogdGhpcy50b3BCb3JkZXIgPyAiIi5jb25jYXQodGhpcy5nZXRQeCh0aGlzLnRvcEJvcmRlcldpZHRoKSwgIiBzb2xpZCAiKS5jb25jYXQodGhpcy50b3BCb3JkZXJDb2xvcikgOiAnbm9uZScKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvKioNCiAgICAgKiDlrp7ml7blj5HpgIHlvZPliY3lgLzlj5jljJYNCiAgICAgKiBAcGFyYW0gdmFsdWUNCiAgICAgKi8KICAgIHZhbDogZnVuY3Rpb24gdmFsKHZhbHVlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuZ2V0UmVhbFZhbHVlKHZhbHVlKSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiuvue9ruiDjOaZr+a4kOWPmA0KICAgICAqLwogICAgbGluZWFyR3JhZGllbnQ6IGZ1bmN0aW9uIGxpbmVhckdyYWRpZW50KCkgewogICAgICB0aGlzLnNldEFmdGVyU3R5bGUoKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6K6+572u6IOM5pmv5riQ5Y+Y5pa55ZCRDQogICAgICovCiAgICBsaW5lYXJHcmFkaWVudERpcmVjdGlvblZhcjogZnVuY3Rpb24gbGluZWFyR3JhZGllbnREaXJlY3Rpb25WYXIoKSB7CiAgICAgIHRoaXMuc2V0QWZ0ZXJTdHlsZSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDorr7nva7og4zmma/muJDlj5jpopzoibINCiAgICAgKi8KICAgIGxpbmVhckdyYWRpZW50Q29sb3JWYXI6IGZ1bmN0aW9uIGxpbmVhckdyYWRpZW50Q29sb3JWYXIoKSB7CiAgICAgIHRoaXMuc2V0QWZ0ZXJTdHlsZSgpOwogICAgfSwKICAgIGF1dG9TaXplOiBmdW5jdGlvbiBhdXRvU2l6ZSgpIHsKICAgICAgdGhpcy5zZXRBdXRvUmVzaXplKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy5zZXRBdXRvUmVzaXplKCk7CiAgICB0aGlzLnJlc2l6ZSgpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpczMuc2V0VmFsdWUoX3RoaXMzLnZhbCk7CiAgICB9KTsKICAgIHRoaXMuc2V0QWZ0ZXJTdHlsZSgpOwogICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMudG91Y2hTdGFydC5iaW5kKHRoaXMpKTsKICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy50b3VjaEVuZC5iaW5kKHRoaXMpKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFN0eWxlU2hlZXQ6IGZ1bmN0aW9uIGdldFN0eWxlU2hlZXQoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgc2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0cy5pdGVtKGkpOwoKICAgICAgICBpZiAoIXNoZWV0LmhyZWYpIHsKICAgICAgICAgIHJldHVybiBzaGVldDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICByZXR1cm4gdGhpcy5nZXRTdHlsZVNoZWV0KCk7CiAgICB9LAogICAgc2V0QXV0b1Jlc2l6ZTogZnVuY3Rpb24gc2V0QXV0b1Jlc2l6ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBlbGVtZW50UmVzaXplRGV0ZWN0b3JNYWtlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC5hdXRvUmVzaXplKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnQoJ2VsZW1lbnQtcmVzaXplLWRldGVjdG9yJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGVsZW1lbnRSZXNpemVEZXRlY3Rvck1ha2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5vYnNlcnZlciA9IGVsZW1lbnRSZXNpemVEZXRlY3Rvck1ha2VyLmRlZmF1bHQoKTsKCiAgICAgICAgICAgICAgICBfdGhpczQub2JzZXJ2ZXIudW5pbnN0YWxsKF90aGlzNC4kZWwpOwoKICAgICAgICAgICAgICAgIF90aGlzNC5vYnNlcnZlci5saXN0ZW5UbyhfdGhpczQuJGVsLCBfdGhpczQucmVzaXplLmJpbmQoX3RoaXM0KSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGlmIChfdGhpczQub2JzZXJ2ZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0Lm9ic2VydmVyLnVuaW5zdGFsbChfdGhpczQuJGVsKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgdGhpcy53aWR0aCA9IHRoaXMuJHJlZnMuc2Nyb2xsLmNsaWVudFdpZHRoOwogICAgfSwKICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uIHRvdWNoU3RhcnQoKSB7CiAgICAgIHRoaXMuaXNUb3VjaCA9IHRydWU7CiAgICB9LAogICAgdG91Y2hFbmQ6IGZ1bmN0aW9uIHRvdWNoRW5kKCkgewogICAgICB0aGlzLmlzVG91Y2ggPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLmZpcmVTY3JvbGxFbmQpIHsKICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLmZpcmVTY3JvbGxFbmQ7CiAgICAgICAgdGhpcy5maXJlU2Nyb2xsRW5kID0gbnVsbDsKICAgICAgICB0aGlzLnNjcm9sbEVuZChldmVudCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSZWFsVmFsdWU6IGZ1bmN0aW9uIGdldFJlYWxWYWx1ZSh2YWx1ZSkgewogICAgICByZXR1cm4gTnVtYmVyKCh2YWx1ZSAqIHRoaXMudmFsdWVHYXApLnRvRml4ZWQodGhpcy5kZWNpbWFsQ291bnQpKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5YOP57Sg5qC35byPDQogICAgICogQHBhcmFtIHZhbHVlDQogICAgICogQHBhcmFtIHVuaXQNCiAgICAgKiBAcmV0dXJucyB7Kn0NCiAgICAgKi8KICAgIGdldFB4OiBmdW5jdGlvbiBnZXRQeCh2YWx1ZSkgewogICAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3B4JzsKICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgPyAiIi5jb25jYXQodmFsdWUpLmNvbmNhdCh1bml0KSA6IHZhbHVlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDojrflj5bliLvluqbnur/moLflvI8NCiAgICAgKiBAcGFyYW0gaW5kZXgNCiAgICAgKiBAcmV0dXJucyB7e318e2JvcmRlckxlZnQ6IHN0cmluZywgaGVpZ2h0OiAqfX0NCiAgICAgKi8KICAgIGdldEl0ZW1TdHlsZTogZnVuY3Rpb24gZ2V0SXRlbVN0eWxlKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA8IDApIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KCiAgICAgIHZhciBpdGVtQ29sb3IgPSB0aGlzLml0ZW1Db2xvciwKICAgICAgICAgIGl0ZW1IZWlnaHQgPSB0aGlzLml0ZW1IZWlnaHQ7CiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldFB4KGl0ZW1IZWlnaHQoaW5kZXgpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBib3JkZXJMZWZ0OiAiIi5jb25jYXQodGhpcy5faXRlbVdpZHRoLCAiIHNvbGlkICIpLmNvbmNhdChpdGVtQ29sb3IpLAogICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgIH07CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWIu+W6puWAvGxhYmVs5piv5ZCm5pi+56S6DQogICAgICogQHBhcmFtIGluZGV4DQogICAgICogQHJldHVybnMge2Jvb2xlYW58Ym9vbGVhbn0NCiAgICAgKi8KICAgIGxhYmVsU2hvdzogZnVuY3Rpb24gbGFiZWxTaG93KGluZGV4KSB7CiAgICAgIHJldHVybiB0aGlzLnNob3dMYWJlbCAmJiBpbmRleCAlIHRoaXMubGFiZWxHYXAgPT09IDA7CiAgICB9LAogICAgc2V0QWZ0ZXJTdHlsZTogZnVuY3Rpb24gc2V0QWZ0ZXJTdHlsZSgpIHsKICAgICAgdmFyIHN0eWxlOwoKICAgICAgaWYgKCF0aGlzLmxpbmVhckdyYWRpZW50KSB7CiAgICAgICAgc3R5bGUgPSAnY29udGVudDogbm9uZSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMubGluZWFyR3JhZGllbnREaXJlY3Rpb25WYXIuam9pbignICcpOwogICAgICAgIHZhciBjb2xvciA9IHRoaXMubGluZWFyR3JhZGllbnRDb2xvclZhci5qb2luKCcsJyk7CiAgICAgICAgc3R5bGUgPSAiYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KCIuY29uY2F0KGRpcmVjdGlvbiwgIiwgIikuY29uY2F0KGNvbG9yLCAiKTsgY29udGVudDogXCJcIiIpOwogICAgICB9CgogICAgICB2YXIgc2VsZWN0b3IgPSAiLnZpcnR1YWwtcnVsZXJbZGF0YS12ci1pZD1cIiIuY29uY2F0KHRoaXMuaWQsICJcIl06OmFmdGVyIik7CiAgICAgIHRoaXMuZGVsZXRlQWZ0ZXJDU1NSdWxlKHNlbGVjdG9yKTsKICAgICAgdGhpcy5zdHlsZVNoZWV0LmFkZFJ1bGUoc2VsZWN0b3IsIHN0eWxlKTsKICAgIH0sCiAgICBkZWxldGVBZnRlckNTU1J1bGU6IGZ1bmN0aW9uIGRlbGV0ZUFmdGVyQ1NTUnVsZShzZWxlY3RvcikgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3R5bGVTaGVldC5ydWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnN0eWxlU2hlZXQucnVsZXMuaXRlbShpKS5zZWxlY3RvclRleHQgPT09IHNlbGVjdG9yKSB7CiAgICAgICAgICB0aGlzLnN0eWxlU2hlZXQuZGVsZXRlUnVsZShpKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXREZWNpbWFsQ291bnQ6IGZ1bmN0aW9uIGdldERlY2ltYWxDb3VudChudW0pIHsKICAgICAgdmFyIHN0ciA9IFN0cmluZyhudW0pOwogICAgICB2YXIgaW5kZXggPSBzdHIuaW5kZXhPZignLicpOwogICAgICByZXR1cm4gTWF0aC5tYXgoc3RyLmxlbmd0aCAtIDEgLSBpbmRleCwgMCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiuvue9ruWIu+W6puWAvOW5tua7keWKqOWIu+W6puWwuuagh+e6v+WIsOivpeS9jee9rg0KICAgICAqIEBwYXJhbSB2YWx1ZQ0KICAgICAqLwogICAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7CiAgICAgIHZhciB2YWx1ZUdhcCA9IHRoaXMudmFsdWVHYXA7CgogICAgICBpZiAodmFsdWVHYXAgPiAwICYmIHZhbHVlR2FwIDwgMSkgewogICAgICAgIHRoaXMuX3NldFZhbHVlKE1hdGguY2VpbCh2YWx1ZSAvIHZhbHVlR2FwKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fc2V0VmFsdWUodmFsdWUgLyB2YWx1ZUdhcCk7CiAgICAgIH0KICAgIH0sCiAgICBfc2V0VmFsdWU6IGZ1bmN0aW9uIF9zZXRWYWx1ZSh2YWx1ZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHZhbHVlOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsTGVmdCA9IGluZGV4ICogdGhpcy5nYXA7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxFbmQ6IGZ1bmN0aW9uIHNjcm9sbEVuZCgpIHsKICAgICAgdGhpcy5fc2V0VmFsdWUodGhpcy52YWwpOwogICAgfSwKICAgIHNjcm9sbDogZnVuY3Rpb24gc2Nyb2xsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHNjcm9sbExlZnQgPSBldmVudC50YXJnZXQuc2Nyb2xsTGVmdDsKCiAgICAgIGlmIChzY3JvbGxMZWZ0ID49IHRoaXMubGlzdC5sZW5ndGggKiB0aGlzLmdhcCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVGltZXIpOwogICAgICB0aGlzLnZhbCA9IE1hdGgucm91bmQoc2Nyb2xsTGVmdCAvIHRoaXMuZ2FwICsgdGhpcy5taW4pOwogICAgICB0aGlzLnN0YXJ0SW5kZXggPSBNYXRoLmZsb29yKHNjcm9sbExlZnQgLyB0aGlzLmdhcCk7CiAgICAgIHRoaXMuc2Nyb2xsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXM1LmlzVG91Y2gpIHsKICAgICAgICAgIF90aGlzNS5maXJlU2Nyb2xsRW5kID0gZXZlbnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNS5zY3JvbGxFbmQoZXZlbnQpOwogICAgICAgIH0KICAgICAgfSwgMjAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["virtual-ruler.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"virtual-ruler\" :data-vr-id=\"id\">\r\n        <div ref=\"scroll\" class=\"virtual-ruler-scroll\" :style=\"style\" @scroll=\"scroll\">\r\n            <div class=\"virtual-ruler-body\" :style=\"{minWidth: getPx(size)}\">\r\n                <div class=\"virtual-ruler-body-item\" :style=\"{transform: 'translateX(0)'}\"/>\r\n                <div class=\"virtual-ruler-body-item\" :style=\"{transform: `translateX(${getPx(halfWidth)})`}\"/>\r\n                <div\r\n                    v-for=\"(item, index) of pool\"\r\n                    :key=\"index\"\r\n                    :style=\"{transform: `translateX(${item.index * gap + halfWidth}px)`}\"\r\n                    class=\"virtual-ruler-body-item\">\r\n                    <div class=\"virtual-ruler-body-item-wrapper\" :data-id=\"item.index\">\r\n                        <div class=\"ruler-wrapper\" :style=\"{height: itemDIVHeight}\">\r\n                            <div :style=\"getItemStyle(item.index)\"/>\r\n                        </div>\r\n                        <div v-if=\"labelShow(item.index)\" :style=\"labelStyle\" class=\"virtual-ruler-label\">\r\n                            <slot name=\"label\" :value=\"item.gapValue\" :index=\"item.index\">\r\n                                {{item.gapValue}}\r\n                            </slot>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"virtual-ruler-point\" :style=\"_pointStyle\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nlet id = 0;\r\nfunction getNextId () {\r\n    id += 1;\r\n    return String(id);\r\n}\r\nexport default {\r\n    name: 'VirtualRuler',\r\n    props: {\r\n        // 默认值\r\n        defaultValue: Number,\r\n        // 最小刻度值\r\n        min: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        // 最大刻度值\r\n        max: {\r\n            type: Number,\r\n            default: 100\r\n        },\r\n        // 刻度间隔\r\n        gap: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        // 刻度线宽度\r\n        itemWidth: {\r\n            type: [Number, String],\r\n            default: 1\r\n        },\r\n        // 刻度线颜色\r\n        itemColor: {\r\n            type: String,\r\n            default: '#cccccc'\r\n        },\r\n        // 刻度线高度函数默认为 8/15/20\r\n        itemHeight: {\r\n            type: Function,\r\n            default: (index) => {\r\n                if (index % 10 === 0) {\r\n                    return 20;\r\n                }\r\n                if (index % 5 === 0) {\r\n                    return 15;\r\n                }\r\n                return 8;\r\n            }\r\n        },\r\n        // 刻度线最高高度 默认为 itemHeight 的最高高度\r\n        itemMaxHeight: {\r\n            type: [Number, String],\r\n            default () {\r\n                const all = Array.from({ length: this.max + 1 - this.min }).map((_, index) => this.itemHeight(index));\r\n                return Math.max(...all);\r\n            }\r\n        },\r\n        // 刻度标线宽度\r\n        pointWidth: {\r\n            type: [Number, String],\r\n            default: 1\r\n        },\r\n        // 刻度标线颜色\r\n        pointColor: {\r\n            type: String,\r\n            default: '#00C5CD'\r\n        },\r\n        // 刻度标线样式\r\n        pointStyle: Object,\r\n        // 刻度值label间隔\r\n        labelGap: {\r\n            type: Number,\r\n            default: 10\r\n        },\r\n        // 是否显示刻度值label\r\n        showLabel: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        // 刻度值的倍数，例如刻度值为 100，间隔为0.1则值为100 * 0.1,默认为1\r\n        valueGap: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        // 缓冲数量，预先渲染\r\n        buffer: {\r\n            type: Number,\r\n            default: 10\r\n        },\r\n        // 刻度尺高度\r\n        height: {\r\n            type: [Number, String],\r\n            required: true\r\n        },\r\n        // 刻度尺上边框\r\n        topBorder: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 刻度尺上边框宽度\r\n        topBorderWidth: {\r\n            type: [Number, String],\r\n            default: 1\r\n        },\r\n        // 刻度尺上边框颜色\r\n        topBorderColor: {\r\n            type: String,\r\n            default: '#cccccc'\r\n        },\r\n        // 刻度尺背景渐变\r\n        linearGradient: Boolean,\r\n        // 刻度尺背景渐变方向\r\n        linearGradientDirectionVar: {\r\n            type: Array,\r\n            default: () => [\r\n                'to', 'right'\r\n            ]\r\n        },\r\n        // 刻度尺背景渐变颜色\r\n        linearGradientColorVar: {\r\n            type: Array,\r\n            default: () => [\r\n                'rgba(255, 255, 255, 1)',\r\n                'rgba(255, 255, 255, 0) 25%',\r\n                'rgba(255, 255, 255, 0) 85%',\r\n                'rgba(255, 255, 255, 1) 100%'\r\n            ]\r\n        },\r\n        // 是否自动监听元素大小改变事件\r\n        autoResize: Boolean,\r\n        // 刻度值label样式\r\n        labelStyle: Object\r\n    },\r\n    data () {\r\n        return {\r\n            startIndex: 0,\r\n            scrollTimer: null,\r\n            val: this.defaultValue || this.min,\r\n            isTouch: false,\r\n            fireScrollEnd: null,\r\n            width: document.body.clientWidth,\r\n            observer: null,\r\n            id: getNextId(),\r\n            styleSheet: this.getStyleSheet()\r\n        };\r\n    },\r\n    computed: {\r\n        /**\r\n         * 一半可视宽度\r\n         * @returns {number}\r\n         */\r\n        halfWidth () {\r\n            return this.width / 2;\r\n        },\r\n        /**\r\n         * 所有刻度尺列表\r\n         * @returns {{gapValue: number, index: number, value: number}[]}\r\n         */\r\n        list () {\r\n            return Array.from({ length: this.max + 1 - this.min }).map((_, index) => {\r\n                const value = index + this.min;\r\n                return {\r\n                    value,\r\n                    index,\r\n                    gapValue: this.getRealValue(value)\r\n                };\r\n            });\r\n        },\r\n        decimalCount () {\r\n            return this.getDecimalCount(this.valueGap);\r\n        },\r\n        /**\r\n         * 可视刻度尺数量\r\n         * @returns {number}\r\n         */\r\n        viewCount () {\r\n            return Math.round(this.width / this.gap);\r\n        },\r\n        /**\r\n         * 可视范围开始刻度尺值的下标\r\n         * @returns {number}\r\n         */\r\n        start () {\r\n            return Math.max(0, Math.floor(this.startIndex - this.viewCount / 2 - this.buffer));\r\n        },\r\n        /**\r\n         * 可视范围结束刻度尺值的下标\r\n         * @returns {number}\r\n         */\r\n        end () {\r\n            return Math.min(this.start + this.viewCount + this.buffer * 2, this.list.length);\r\n        },\r\n        /**\r\n         * 可视范围的刻度尺列表\r\n         * @returns {{gapValue: number, index: number, value: number}[]}\r\n         */\r\n        pool () {\r\n            return this.list.slice(this.start, this.end);\r\n        },\r\n        /**\r\n         * 总刻度尺的元素大小\r\n         * @returns {number}\r\n         */\r\n        size () {\r\n            return this.list.length * this.gap + this.width - this.gap;\r\n        },\r\n        /**\r\n         * 刻度尺最大高度\r\n         * @returns {string}\r\n         */\r\n        itemDIVHeight () {\r\n            return this.getPx(this.itemMaxHeight);\r\n        },\r\n        /**\r\n         * 每个刻度尺宽度\r\n         * @returns {string}\r\n         * @private\r\n         */\r\n        _itemWidth () {\r\n            const { itemWidth } = this;\r\n            return this.getPx(itemWidth);\r\n        },\r\n        /**\r\n         * 刻度尺标线样式\r\n         * @returns {{borderLeft: string, left: string, height: string}}\r\n         * @private\r\n         */\r\n        _pointStyle () {\r\n            const width = this.getPx(this.pointWidth);\r\n            const numberWidth = parseFloat(this.pointWidth);\r\n            return {\r\n                borderLeft: `${width} solid ${this.pointColor}`,\r\n                left: `calc(50% - ${numberWidth / 2 - 1}px)`,\r\n                height: this.itemDIVHeight,\r\n                ...(this.pointStyle || {})\r\n            };\r\n        },\r\n        /**\r\n         * 刻度尺容器样式\r\n         * @returns {{borderTop: string, height: string}}\r\n         */\r\n        style () {\r\n            return {\r\n                height: this.getPx(this.height),\r\n                borderTop: this.topBorder ? `${this.getPx(this.topBorderWidth)} solid ${this.topBorderColor}` : 'none'\r\n            };\r\n        },\r\n    },\r\n    watch: {\r\n        /**\r\n         * 实时发送当前值变化\r\n         * @param value\r\n         */\r\n        val (value) {\r\n            this.$emit('change', this.getRealValue(value));\r\n        },\r\n        /**\r\n         * 设置背景渐变\r\n         */\r\n        linearGradient () {\r\n            this.setAfterStyle();\r\n        },\r\n        /**\r\n         * 设置背景渐变方向\r\n         */\r\n        linearGradientDirectionVar () {\r\n            this.setAfterStyle();\r\n        },\r\n        /**\r\n         * 设置背景渐变颜色\r\n         */\r\n        linearGradientColorVar () {\r\n            this.setAfterStyle();\r\n        },\r\n        autoSize () {\r\n            this.setAutoResize();\r\n        }\r\n    },\r\n    mounted () {\r\n        this.setAutoResize();\r\n        this.resize();\r\n        setTimeout(() => this.setValue(this.val));\r\n        this.setAfterStyle();\r\n        this.$el.addEventListener('touchstart', this.touchStart.bind(this));\r\n        this.$el.addEventListener('touchend', this.touchEnd.bind(this));\r\n    },\r\n    methods: {\r\n        getStyleSheet () {\r\n            for (let i = 0; i < document.styleSheets.length; i++) {\r\n                const sheet = document.styleSheets.item(i);\r\n                if (!sheet.href) {\r\n                    return sheet;\r\n                }\r\n            }\r\n            const style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            return this.getStyleSheet();\r\n        },\r\n        async setAutoResize () {\r\n            if (this.autoResize) {\r\n                const elementResizeDetectorMaker = await import('element-resize-detector');\r\n                this.observer = elementResizeDetectorMaker.default();\r\n                this.observer.uninstall(this.$el);\r\n                this.observer.listenTo(this.$el, this.resize.bind(this));\r\n            } else {\r\n                if (this.observer) {\r\n                    this.observer.uninstall(this.$el);\r\n                }\r\n            }\r\n        },\r\n        resize () {\r\n            this.width = this.$refs.scroll.clientWidth;\r\n        },\r\n        touchStart () {\r\n            this.isTouch = true;\r\n        },\r\n        touchEnd () {\r\n            this.isTouch = false;\r\n            if (this.fireScrollEnd) {\r\n                const event = this.fireScrollEnd;\r\n                this.fireScrollEnd = null;\r\n                this.scrollEnd(event);\r\n            }\r\n        },\r\n        getRealValue (value) {\r\n            return Number((value * this.valueGap).toFixed(this.decimalCount));\r\n        },\r\n        /**\r\n         * 获取像素样式\r\n         * @param value\r\n         * @param unit\r\n         * @returns {*}\r\n         */\r\n        getPx(value, unit = 'px') {\r\n            return typeof value === 'number' ? `${value}${unit}` : value;\r\n        },\r\n        /**\r\n         * 获取刻度线样式\r\n         * @param index\r\n         * @returns {{}|{borderLeft: string, height: *}}\r\n         */\r\n        getItemStyle (index) {\r\n            if (index < 0) {\r\n                return {};\r\n            }\r\n            const { itemColor, itemHeight } = this;\r\n            const height = this.getPx(itemHeight(index));\r\n            return {\r\n                borderLeft: `${this._itemWidth} solid ${itemColor}`,\r\n                height\r\n            };\r\n        },\r\n        /**\r\n         * 刻度值label是否显示\r\n         * @param index\r\n         * @returns {boolean|boolean}\r\n         */\r\n        labelShow (index) {\r\n            return this.showLabel && (index % this.labelGap === 0);\r\n        },\r\n        setAfterStyle () {\r\n            let style;\r\n            if (!this.linearGradient) {\r\n                style = 'content: none';\r\n            } else {\r\n                const direction = this.linearGradientDirectionVar.join(' ');\r\n                const color = this.linearGradientColorVar.join(',');\r\n                style = `background: linear-gradient(${direction}, ${color}); content: \"\"`;\r\n            }\r\n            const selector = `.virtual-ruler[data-vr-id=\"${this.id}\"]::after`;\r\n            this.deleteAfterCSSRule(selector);\r\n            this.styleSheet.addRule(selector, style);\r\n        },\r\n        deleteAfterCSSRule (selector) {\r\n            for (let i = 0; i < this.styleSheet.rules.length; i++) {\r\n                if (this.styleSheet.rules.item(i).selectorText === selector) {\r\n                    this.styleSheet.deleteRule(i);\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n        getDecimalCount (num) {\r\n            const str = String(num);\r\n            const index = str.indexOf('.');\r\n            return Math.max(str.length - 1 - index, 0);\r\n        },\r\n        /**\r\n         * 设置刻度值并滑动刻度尺标线到该位置\r\n         * @param value\r\n         */\r\n        setValue (value) {\r\n            const {valueGap} = this;\r\n            if (valueGap > 0 && valueGap < 1) {\r\n                this._setValue(Math.ceil(value / valueGap));\r\n            } else {\r\n                this._setValue(value / valueGap);\r\n            }\r\n        },\r\n        _setValue (value) {\r\n            const index = this.list.findIndex(item => item.value === value);\r\n            if (index > -1) {\r\n                this.$refs.scroll.scrollLeft = index * this.gap;\r\n            }\r\n        },\r\n        scrollEnd () {\r\n            this._setValue(this.val);\r\n        },\r\n        scroll (event) {\r\n            const {scrollLeft} = event.target;\r\n            if (scrollLeft >= this.list.length * this.gap) {\r\n                return;\r\n            }\r\n            clearTimeout(this.scrollTimer);\r\n            this.val = Math.round(scrollLeft / this.gap + this.min);\r\n            this.startIndex = Math.floor(scrollLeft / this.gap);\r\n            this.scrollTimer = setTimeout(() => {\r\n                if (this.isTouch) {\r\n                    this.fireScrollEnd = event;\r\n                } else {\r\n                    this.scrollEnd(event);\r\n                }\r\n            }, 200);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    .virtual-ruler {\r\n        position: relative;\r\n        width: 100%;\r\n        &::after {\r\n            content: \"\";\r\n            position: absolute;\r\n            z-index: 1;\r\n            top: 0;\r\n            right: 0;\r\n            pointer-events: none;\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n        .virtual-ruler-scroll {\r\n            overflow-x: auto;\r\n            position: relative;\r\n            &::-webkit-scrollbar {\r\n                display: none;\r\n            }\r\n        }\r\n        &-point {\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 0;\r\n        }\r\n        &-body {\r\n            position: relative;\r\n            display: flex;\r\n            height: 100%;\r\n            &-item {\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                will-change: transform;\r\n            }\r\n        }\r\n        &-label {\r\n            position: absolute;\r\n            text-align: center;\r\n            width: 50px;\r\n            left: -25px;\r\n            color: #cccccc;\r\n            font-size: 15px;\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/components/gantt"}]}