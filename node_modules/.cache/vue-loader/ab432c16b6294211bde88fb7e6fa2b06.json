{"remainingRequest":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Demo\\svg\\svg\\src\\components\\gantt\\Gantt.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Demo\\svg\\svg\\src\\components\\gantt\\Gantt.vue","mtime":1644371372825},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICcuL0RhdGVQaWNrZXIudnVlJw0KaW1wb3J0IFNwbGl0UGFuZSBmcm9tICcuL1NwbGl0UGFuZS52dWUnDQppbXBvcnQgR2FudHRUYWJsZSBmcm9tICcuL1RhYmxlLnZ1ZScNCmltcG9ydCBUYXNrVGFibGUgZnJvbSAnLi90YXNrL1Rhc2tUYWJsZS52dWUnDQppbXBvcnQgeyBtdXRhdGlvbnMgfSBmcm9tICdAL2NvbXBvbmVudHMvZ2FudHQvc3RvcmUuanMnDQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHMgOiB7DQogICAgaGVhZGVyczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiBbXQ0KICAgIH0sDQogICAgdGFza0hlYWRlcnM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdDogKCkgPT4gW10NCiAgICB9LA0KICAgIGhlYWRlcnNIZWlnaHQgOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA1MA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhbmVMZW5ndGhQZXJjZW50OiAyNSwNCiAgICAgIGJ1dHRvbkNsYXNzOiBbImJ1dHRvbiBpcy1hY3RpdmUiLCJidXR0b24iLCJidXR0b24iXSwNCiAgICAgIG1vZGU6ICfmnIgnLA0KICAgICAgDQogICAgICBzdGFydERhdGU6ICcyMDE3LTA5LTExJywNCiAgICAgIG1pblN0YXJ0RGF0ZTogJzIwMDAtMDktMTEnLA0KICAgICAgbWF4U3RhcnREYXRlOiAnMjAyMC0wOS0xMScsDQogICAgICBzaG93U3RhcnREYXRlUGlja2VyOiBmYWxzZSwNCiAgICAgIHNlbGVjdGVkU3RhcnREYXRlOiAn54K55Ye76YCJ5oup5pel5pyfJywNCg0KICAgICAgZW5kRGF0ZTogJzIwMTctMDktMTEnLA0KICAgICAgbWluRW5kRGF0ZTogdGhpcy5taW5TdGFydERhdGUsDQogICAgICBtYXhFbmREYXRlOiAnMjAyMC0wOS0xMScsDQogICAgICBzaG93RW5kRGF0ZVBpY2tlcjogZmFsc2UsDQogICAgICBzZWxlY3RlZEVuZERhdGU6ICfngrnlh7vpgInmi6nml6XmnJ8nLA0KICAgIH0NCiAgfSwNCgljb21wb25lbnRzOiB7IEdhbnR0VGFibGUsIFRhc2tUYWJsZSwgU3BsaXRQYW5lLCBEYXRlUGlja2VyIH0sDQoJd2F0Y2g6IHsNCiAgICAvLyDml7bpl7TooajlpLQNCiAgICBoZWFkZXJzOiBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIGlmIChuZXdWYWwgIT0gb2xkVmFsKSB7DQogICAgICAgIHRoaXMuc2V0SGVhZGVycyhuZXdWYWwpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDku7vliqHooajlpLQNCiAgICB0YXNrSGVhZGVyczogZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICBpZiAobmV3VmFsICE9IG9sZFZhbCkgew0KICAgICAgICB0aGlzLnNldFRhc2tIZWFkZXJzKG5ld1ZhbCkNCiAgICAgIH0NCiAgICB9DQogIH0sDQoJY3JlYXRlZCgpIHsNCiAgICB0aGlzLnNldEhlYWRlcnModGhpcy5oZWFkZXJzKQ0KICAgIHRoaXMuc2V0VGFza0hlYWRlcnModGhpcy50YXNrSGVhZGVycykNCiAgfSwNCgltb3VudGVkKCkgew0KCX0sDQogIG1ldGhvZHM6ew0KICAgIHNldEhlYWRlcnM6IG11dGF0aW9ucy5zZXRIZWFkZXJzLA0KICAgIHNldFRhc2tIZWFkZXJzOiBtdXRhdGlvbnMuc2V0VGFza0hlYWRlcnMsDQogICAgdGltZU1vZGUgKG1vZGUpIHsNCiAgICAgIGZvcihsZXQgYnV0dG9uIG9mIHRoaXMuYnV0dG9uQ2xhc3Mpew0KICAgICAgICBWdWUuc2V0KHRoaXMuYnV0dG9uQ2xhc3MsdGhpcy5idXR0b25DbGFzcy5pbmRleE9mKGJ1dHRvbiksJ2J1dHRvbicpDQogICAgICB9DQogICAgICBzd2l0Y2ggKG1vZGUpDQogICAgICB7DQogICAgICAgIGNhc2UgJ+aciCc6IHsNCiAgICAgICAgICBWdWUuc2V0KHRoaXMuYnV0dG9uQ2xhc3MsMCwnYnV0dG9uIGlzLWFjdGl2ZScpDQogICAgICAgICAgYnJlYWs7ICAgICAgIA0KICAgICAgICB9DQogICAgICAgIGNhc2UgJ+WRqCc6IHsNCiAgICAgICAgICBWdWUuc2V0KHRoaXMuYnV0dG9uQ2xhc3MsMSwnYnV0dG9uIGlzLWFjdGl2ZScpDQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgICAgY2FzZSAn5pelJzogew0KICAgICAgICAgIFZ1ZS5zZXQodGhpcy5idXR0b25DbGFzcywyLCdidXR0b24gaXMtYWN0aXZlJykNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5tb2RlID0gbW9kZQ0KICAgIH0sDQogICAgb3BlbkVuZERhdGVQaWNrZXIoKSB7DQogICAgICB0aGlzLnNob3dFbmREYXRlUGlja2VyID0gdHJ1ZTsNCiAgICB9LA0KICAgIG9wZW5TdGFydERhdGVQaWNrZXIoKSB7DQogICAgICB0aGlzLnNob3dTdGFydERhdGVQaWNrZXIgPSB0cnVlOw0KICAgIH0sDQogICAgY29uZmlybUVuZCh2YWx1ZSkgew0KICAgICAgdGhpcy5zaG93RW5kRGF0ZVBpY2tlciA9IGZhbHNlOw0KICAgICAgdGhpcy5zZWxlY3RlZEVuZERhdGUgPSB2YWx1ZS5kYXRlOw0KICAgICAgdGhpcy5lbmREYXRlID0gdmFsdWUuZGF0ZTsNCiAgICB9LA0KICAgIGNvbmZpcm1TdGFydCh2YWx1ZSkgew0KICAgICAgdGhpcy5zaG93U3RhcnREYXRlUGlja2VyID0gZmFsc2U7DQogICAgICB0aGlzLnNlbGVjdGVkU3RhcnREYXRlID0gdmFsdWUuZGF0ZTsNCiAgICAgIHRoaXMuc3RhcnREYXRlID0gdmFsdWUuZGF0ZTsNCiAgICB9LA0KICAgIGNhbmNlbEVuZCgpIHsNCiAgICAgIHRoaXMuc2hvd0VuZERhdGVQaWNrZXIgPSBmYWxzZTsNCiAgICB9LA0KICAgIGNhbmNlbFN0YXJ0KCkgew0KICAgICAgdGhpcy5zaG93U3RhcnREYXRlUGlja2VyID0gZmFsc2U7DQogICAgfSwNCiAgfQ0KfQ0K"},{"version":3,"sources":["Gantt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Gantt.vue","sourceRoot":"src/components/gantt","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class=\"toolbar\">\r\n      <div class=\"dateInput\">\r\n        <div @click=\"openStartDatePicker\">{{selectedStartDate}}</div>\r\n        <span style=\"margin-right:20px;margin-left:20px;color:#606266\">至</span>\r\n        <div @click=\"openDatePicker\">{{selectedDate}}</div>\r\n      </div>\r\n      <date-picker\r\n        v-if=\"showEndDatePicker\"\r\n        :date=\"endDate\"\r\n        :min-date=\"minEndDate\"\r\n        :max-date=\"maxEndDate\"\r\n        @confirm=\"confirmEnd\"\r\n        @cancel=\"cancelEnd\">\r\n      </date-picker>\r\n      <date-picker\r\n        v-if=\"showStartDatePicker\"\r\n        :date=\"startDate\"\r\n        :min-date=\"minStartDate\"\r\n        :max-date=\"maxStartDate\"\r\n        @confirm=\"confirmStart\"\r\n        @cancel=\"cancelStart\">\r\n      </date-picker>\r\n      <div class=\"buttonGroup\">\r\n        <div :class=\"buttonClass[0]\" style=\"border-radius:10px 0 0 10px;\" @click=\"timeMode('月')\"><div class=\"text\">月</div></div>\r\n        <div :class=\"buttonClass[1]\" style=\"border-left:0;border-right:0\" @click=\"timeMode('周')\"><div class=\"text\">周</div></div>\r\n        <div :class=\"buttonClass[2]\" style=\"border-radius:0 10px 10px 0;\" @click=\"timeMode('日')\"><div class=\"text\">日</div></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"gantt\">\r\n      <SplitPane direction=\"row\" :min=\"10\" :max=\"80\" :triggerLength=\"10\" :paneLengthPercent.sync=\"paneLengthPercent\">\r\n        <template v-slot:one>\r\n          <task-table :headersHeight='headersHeight'></task-table>      \r\n        </template>\r\n        <template v-slot:two>\r\n          <gantt-table :headersHeight='headersHeight'></gantt-table>\r\n        </template>\r\n      </SplitPane>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DatePicker from './DatePicker.vue'\r\nimport SplitPane from './SplitPane.vue'\r\nimport GanttTable from './Table.vue'\r\nimport TaskTable from './task/TaskTable.vue'\r\nimport { mutations } from '@/components/gantt/store.js'\r\nimport Vue from 'vue'\r\nexport default {\r\n  props : {\r\n    headers: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    taskHeaders: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    headersHeight : {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      paneLengthPercent: 25,\r\n      buttonClass: [\"button is-active\",\"button\",\"button\"],\r\n      mode: '月',\r\n      \r\n      startDate: '2017-09-11',\r\n      minStartDate: '2000-09-11',\r\n      maxStartDate: '2020-09-11',\r\n      showStartDatePicker: false,\r\n      selectedStartDate: '点击选择日期',\r\n\r\n      endDate: '2017-09-11',\r\n      minEndDate: this.minStartDate,\r\n      maxEndDate: '2020-09-11',\r\n      showEndDatePicker: false,\r\n      selectedEndDate: '点击选择日期',\r\n    }\r\n  },\r\n\tcomponents: { GanttTable, TaskTable, SplitPane, DatePicker },\r\n\twatch: {\r\n    // 时间表头\r\n    headers: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setHeaders(newVal)\r\n      }\r\n    },\r\n    // 任务表头\r\n    taskHeaders: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setTaskHeaders(newVal)\r\n      }\r\n    }\r\n  },\r\n\tcreated() {\r\n    this.setHeaders(this.headers)\r\n    this.setTaskHeaders(this.taskHeaders)\r\n  },\r\n\tmounted() {\r\n\t},\r\n  methods:{\r\n    setHeaders: mutations.setHeaders,\r\n    setTaskHeaders: mutations.setTaskHeaders,\r\n    timeMode (mode) {\r\n      for(let button of this.buttonClass){\r\n        Vue.set(this.buttonClass,this.buttonClass.indexOf(button),'button')\r\n      }\r\n      switch (mode)\r\n      {\r\n        case '月': {\r\n          Vue.set(this.buttonClass,0,'button is-active')\r\n          break;       \r\n        }\r\n        case '周': {\r\n          Vue.set(this.buttonClass,1,'button is-active')\r\n          break;\r\n        }\r\n        case '日': {\r\n          Vue.set(this.buttonClass,2,'button is-active')\r\n          break;\r\n        }\r\n      }\r\n      this.mode = mode\r\n    },\r\n    openEndDatePicker() {\r\n      this.showEndDatePicker = true;\r\n    },\r\n    openStartDatePicker() {\r\n      this.showStartDatePicker = true;\r\n    },\r\n    confirmEnd(value) {\r\n      this.showEndDatePicker = false;\r\n      this.selectedEndDate = value.date;\r\n      this.endDate = value.date;\r\n    },\r\n    confirmStart(value) {\r\n      this.showStartDatePicker = false;\r\n      this.selectedStartDate = value.date;\r\n      this.startDate = value.date;\r\n    },\r\n    cancelEnd() {\r\n      this.showEndDatePicker = false;\r\n    },\r\n    cancelStart() {\r\n      this.showStartDatePicker = false;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@toolbarHeight: 70px;\r\n.page {\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .toolbar {\r\n    height: @toolbarHeight;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-items: flex-start;\r\n    padding: (@toolbarHeight / 2);\r\n    .dateInput {\r\n      cursor: pointer;\r\n      border: 1px solid #dcdfe6;\r\n      height: (@toolbarHeight / 1.5);\r\n      width: 250px;\r\n      display: flex;\r\n      flex-direction: row;\r\n      display: -webkit-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-right: 20px;\r\n      border-radius: 5px;\r\n      color:#00BCD4;\r\n      font-size: 14px;\r\n    }\r\n    .buttonGroup {\r\n      height: (@toolbarHeight / 1.5);\r\n      display: flex;\r\n      flex-direction: row;\r\n      .is-active:not(.text), :active:not(.text) {\r\n        background:#3a8ee6;\r\n        border-color:#3a8ee6;\r\n        color:#FFF\r\n      }\r\n      :hover:not(.text) {\r\n        background:#66b1ff;\r\n        border-color:#66b1ff;\r\n        color:#FFF\r\n      }\r\n      .button {\r\n        width: 80px;\r\n        font-size: 15px;\r\n        height: (@toolbarHeight / 1.5);\r\n        border: 1px solid #dcdfe6;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n  .gantt {\r\n    height: calc(100% - @toolbarHeight);\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"]}]}