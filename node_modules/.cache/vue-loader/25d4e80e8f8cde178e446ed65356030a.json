{"remainingRequest":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Demo\\svg\\svg\\src\\Sample.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Demo\\svg\\svg\\src\\Sample.vue","mtime":1642644062410},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU25hcCBmcm9tICdzbmFwc3ZnLWNqcycNCmltcG9ydCBpbnRlcmFjdCBmcm9tICdpbnRlcmFjdGpzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQXBwJywNCgljb21wb25lbnRzOiB7fSwNCglkYXRhKCkgew0KCQlyZXR1cm4ge307DQoJfSwNCgljb21wdXRlZDoge30sDQoJd2F0Y2g6IHt9LA0KCWNyZWF0ZWQ6IGZ1bmN0aW9uKCkge30sDQoJbW91bnRlZDogZnVuY3Rpb24oKSB7DQogICAgbGV0IHRoYXQgPSB0aGlzDQogICAgbGV0IHN2ZyA9IFNuYXAoJy5kcmFnZ2FibGUnKTsNCiAgICAvLyDlrprkuYnkuIDkuKrmlpzmnaHnurnnmoTnlLvnrJQNCiAgICBsZXQgcCA9IHN2Zy5wYXRoKCJNMTAtNS0xMCwxNU0xNSwwLDAsMTVNMC01LTIwLDE1IikuYXR0cih7DQogICAgICAgIGZpbGw6ICJub25lIiwNCiAgICAgICAgc3Ryb2tlT3BhY2l0eTogJy40JywNCiAgICAgICAgc3Ryb2tlOiAiZ3JheSIsDQogICAgICAgIHN0cm9rZVdpZHRoOiA1DQogICAgfSkucGF0dGVybigwLCAwLCAxMCwgMTApDQogICAgc3ZnLnJlY3QoMCwgMCwgNTAsIDUwLCAxMCkuYXR0cih7ZmlsbDogcH0pDQogICAgbGV0IGcgPSBzdmcuZygpOw0KICAgIGxldCBpbm5lclJlY3QgPSBzdmcucmVjdCgwLCAwLCAyNSwgNTAsIDEwKQ0KICAgIC8vIOWNiumAj+aYjg0KICAgIGlubmVyUmVjdC5hdHRyKHtmaWxsOiAncmVkJyxmaWxsT3BhY2l0eTogJy40J30pDQogICAgLy8g5bGF5Lit5pi+56S65paH5a2XDQogICAgbGV0IHRleHQgPSBzdmcudGV4dChpbm5lclJlY3Qubm9kZS53aWR0aC5iYXNlVmFsLnZhbHVlIC8gMiwgJzUwJScsICI1MCUiKS5hdHRyKHsNCiAgICAgICAgc3Ryb2tlOiAid2hpdGUiLA0KICAgICAgICBkb21pbmFudEJhc2VsaW5lOiAnbWlkZGxlJywNCiAgICAgICAgZm9udFNpemU6ICcxNXB4Jw0KICAgIH0pOw0KDQogICAgLy8g5paH5pys5bGF5LitDQogICAgbGV0IHhQb3NpdGlvbiA9IGlubmVyUmVjdC5ub2RlLndpZHRoLmJhc2VWYWwudmFsdWUgLyAyIC0gdGV4dC5nZXRCQm94KCkud2lkdGggLyAyDQogICAgaWYoIHhQb3NpdGlvbiA8IDApIHsNCiAgICAgIHRleHQuYXR0cigneCcsIGlubmVyUmVjdC5ub2RlLndpZHRoLmJhc2VWYWwudmFsdWUgLyAyKQ0KICAgIH0gZWxzZSB7DQogICAgICB0ZXh0LmF0dHIoJ3gnLCB4UG9zaXRpb24pDQogICAgfQ0KDQogICAgZy5hZGQoaW5uZXJSZWN0KQ0KICAgIGcuYWRkKHRleHQpDQoNCiAgICBpbnRlcmFjdCgnLmRyYWdnYWJsZScpLmRyYWdnYWJsZSh7DQogICAgICAgIC8vIGVuYWJsZSBpbmVydGlhbCB0aHJvd2luZw0KICAgICAgICBpbmVydGlhOiB0cnVlLA0KICAgICAgICAvLyBrZWVwIHRoZSBlbGVtZW50IHdpdGhpbiB0aGUgYXJlYSBvZiAjYXBwDQogICAgICAgIG1vZGlmaWVyczogWw0KICAgICAgICAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnJlc3RyaWN0UmVjdCh7DQogICAgICAgICAgICAgICAgcmVzdHJpY3Rpb246ICcjYXBwJywgLy8gcmVzdHJpY3Rpb246ICdwYXJlbnQnLA0KICAgICAgICAgICAgICAgIGVuZE9ubHk6IHRydWUNCiAgICAgICAgICAgIH0pDQogICAgICAgIF0sDQogICAgICAgIC8vIGVuYWJsZSBhdXRvU2Nyb2xsDQogICAgICAgIGF1dG9TY3JvbGw6IHRydWUsDQogICAgICAgIGxpc3RlbmVyczogew0KICAgICAgICAgICAgLy8gY2FsbCB0aGlzIGZ1bmN0aW9uIG9uIGV2ZXJ5IGRyYWdtb3ZlIGV2ZW50DQogICAgICAgICAgICBtb3ZlOiBkcmFnTW92ZUxpc3RlbmVyLA0KICAgICAgICAgICAgLy8gY2FsbCB0aGlzIGZ1bmN0aW9uIG9uIGV2ZXJ5IGRyYWdlbmQgZXZlbnQNCiAgICAgICAgICAgIC8vIGVuZChldmVudCkgew0KICAgICAgICAgICAgLy8gICAgIC8v5ouW5ou955qE6Led56a7DQogICAgICAgICAgICAvLyAgICAgbGV0IGRpc3RhbmNlID0gKE1hdGguc3FydChNYXRoLnBvdyhldmVudC5wYWdlWCAtIGV2ZW50LngwLCAyKSArDQogICAgICAgICAgICAvLyAgICAgICAgICAgICBNYXRoLnBvdyhldmVudC5wYWdlWSAtIGV2ZW50LnkwLCAyKSB8IDApKQ0KICAgICAgICAgICAgLy8gICAgICAgICAudG9GaXhlZCgyKQ0KICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGRpc3RhbmNlKQ0KICAgICAgICAgICAgLy8gfQ0KICAgICAgICB9DQogICAgfSkNCiAgICANCiAgICBpbnRlcmFjdCgnLmRyYWdnYWJsZScpLnJlc2l6YWJsZSh7DQogICAgICAvLyByZXNpemUgZnJvbSBhbGwgZWRnZXMgYW5kIGNvcm5lcnMNCiAgICAgIGVkZ2VzOiB7IGxlZnQ6IHRydWUsIHJpZ2h0OiB0cnVlLCBib3R0b206IGZhbHNlLCB0b3A6IGZhbHNlIH0sDQogICAgICBsaXN0ZW5lcnM6IHsNCiAgICAgICAgbW92ZSAoZXZlbnQpIHsNCiAgICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0DQogICAgICAgICAgbGV0IHggPSAocGFyc2VGbG9hdCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKSkgfHwgMCkNCiAgICAgICAgICBsZXQgeSA9IChwYXJzZUZsb2F0KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpKSB8fCAwKQ0KDQogICAgICAgICAgLy8gdXBkYXRlIHRoZSBlbGVtZW50J3Mgc3R5bGUNCiAgICAgICAgICB0YXJnZXQuc3R5bGUud2lkdGggPSBldmVudC5yZWN0LndpZHRoICsgJ3B4Jw0KICAgICAgICAgIHRhcmdldC5zdHlsZS5oZWlnaHQgPSBldmVudC5yZWN0LmhlaWdodCArICdweCcNCg0KICAgICAgICAgIC8vIHRyYW5zbGF0ZSB3aGVuIHJlc2l6aW5nIGZyb20gdG9wIG9yIGxlZnQgZWRnZXMNCiAgICAgICAgICB4ICs9IGV2ZW50LmRlbHRhUmVjdC5sZWZ0DQogICAgICAgICAgeSArPSBldmVudC5kZWx0YVJlY3QudG9wDQoNCiAgICAgICAgICB0YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgeCArICdweCwnICsgeSArICdweCknDQoNCiAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCB4KQ0KICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEteScsIHkpDQogICAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gTWF0aC5yb3VuZChldmVudC5yZWN0LndpZHRoKSArICdcdTAwRDcnICsgTWF0aC5yb3VuZChldmVudC5yZWN0LmhlaWdodCkNCg0KICAgICAgICAgIGxldCBzdmcgPSBTbmFwKCcjc3ZnJyk7DQogICAgICAgICAgLy8g5a6a5LmJ5LiA5Liq5pac5p2h57q555qE55S756yUDQogICAgICAgICAgbGV0IHAgPSBzdmcucGF0aCgiTTEwLTUtMTAsMTVNMTUsMCwwLDE1TTAtNS0yMCwxNSIpLmF0dHIoew0KICAgICAgICAgICAgICBmaWxsOiAibm9uZSIsDQogICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6ICcuNCcsDQogICAgICAgICAgICAgIHN0cm9rZTogImdyYXkiLA0KICAgICAgICAgICAgICBzdHJva2VXaWR0aDogNQ0KICAgICAgICAgIH0pLnBhdHRlcm4oMCwgMCwgMTAsIDEwKQ0KDQogICAgICAgICAgc3ZnLnJlY3QoMCwgMCxldmVudC5yZWN0LndpZHRoLCBldmVudC5yZWN0LmhlaWdodCwgMTApLmF0dHIoe2ZpbGw6IHB9KQ0KICAgICAgICAgIGxldCBnID0gc3ZnLmcoKTsNCiAgICAgICAgICBsZXQgaW5uZXJSZWN0ID0gc3ZnLnJlY3QoMCwgMCwgZXZlbnQucmVjdC53aWR0aCAvIDIsIGV2ZW50LnJlY3QuaGVpZ2h0LCAxMCkNCg0KICAgICAgICAgIC8vIOWNiumAj+aYjg0KICAgICAgICAgIGlubmVyUmVjdC5hdHRyKHtmaWxsOiAncmVkJyxmaWxsT3BhY2l0eTogJy40J30pDQogICAgICAgICAgbGV0IHRleHQgPSBzdmcudGV4dChpbm5lclJlY3Qubm9kZS53aWR0aC5iYXNlVmFsLnZhbHVlIC8gMiwgJzUwJScsICI1MCUiKS5hdHRyKHsNCiAgICAgICAgICAgICAgc3Ryb2tlOiAid2hpdGUiLAkvLyDok53oibINCiAgICAgICAgICAgICAgZG9taW5hbnRCYXNlbGluZTogJ21pZGRsZScsDQogICAgICAgICAgICAgIGZvbnRTaXplOiAnMTVweCcNCiAgICAgICAgICB9KTsNCg0KICAgICAgICAgIC8vIOaWh+acrOWxheS4rQ0KICAgICAgICAgIGxldCB4UG9zaXRpb24gPSBpbm5lclJlY3Qubm9kZS53aWR0aC5iYXNlVmFsLnZhbHVlIC8gMiAtIHRleHQuZ2V0QkJveCgpLndpZHRoIC8gMg0KICAgICAgICAgIGlmKCB4UG9zaXRpb24gPCAwKSB7DQogICAgICAgICAgICB0ZXh0LmF0dHIoJ3gnLCBpbm5lclJlY3Qubm9kZS53aWR0aC5iYXNlVmFsLnZhbHVlIC8gMikNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGV4dC5hdHRyKCd4JywgeFBvc2l0aW9uKQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGcuYWRkKGlubmVyUmVjdCkNCiAgICAgICAgICBnLmFkZCh0ZXh0KQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgbW9kaWZpZXJzOiBbDQogICAgICAgIC8vIGtlZXAgdGhlIGVkZ2VzIGluc2lkZSB0aGUgcGFyZW50DQogICAgICAgIGludGVyYWN0Lm1vZGlmaWVycy5yZXN0cmljdEVkZ2VzKHsNCiAgICAgICAgICBvdXRlcjogJyNhcHAnDQogICAgICAgIH0pLA0KDQogICAgICAgIC8vIG1pbmltdW0gc2l6ZQ0KICAgICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RTaXplKHsNCiAgICAgICAgICBtaW46IHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiA1MCB9DQogICAgICAgIH0pDQogICAgICBdLA0KICAgICAgaW5lcnRpYTogdHJ1ZQ0KICAgIH0pDQoNCiAgICBpbnRlcmFjdCgnLmRyb3B6b25lJykuZHJvcHpvbmUoew0KICAgICAgYWNjZXB0OiAnLmRyYWdnYWJsZScsDQogICAgICBvdmVybGFwOiAncG9pbnRlcicsDQogICAgICBvbmRyb3A6IGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgICBsZXQgaXNFeHNpdCA9IHRoYXQuaXNDaGlsZE9mKGV2ZW50LnJlbGF0ZWRUYXJnZXQsIGV2ZW50LnRhcmdldCkNCiAgICAgICAgaWYgKCFpc0V4c2l0KQ0KICAgICAgICB7DQogICAgICAgICAgZXZlbnQudGFyZ2V0LmFwcGVuZChldmVudC5yZWxhdGVkVGFyZ2V0KQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSkNCiAgICAvLyDmi5bliqjlj6rmlLnlj5h46L2055qE5Z2Q5qCHDQogICAgZnVuY3Rpb24gZHJhZ01vdmVMaXN0ZW5lcihldmVudCkgew0KICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0DQogICAgICAgIC8vIGtlZXAgdGhlIGRyYWdnZWQgcG9zaXRpb24gaW4gdGhlIGRhdGEteC9kYXRhLXkgYXR0cmlidXRlcw0KICAgICAgICBsZXQgeCA9IChwYXJzZUZsb2F0KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteCcpKSB8fCAwKSArIGV2ZW50LmR4DQogICAgICAgIC8vbGV0IHkgPSAocGFyc2VGbG9hdCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXknKSkgfHwgMCkgKyBldmVudC5keQ0KDQogICAgICAgIC8vIHRyYW5zbGF0ZSB0aGUgZWxlbWVudA0KICAgICAgICB0YXJnZXQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0NCiAgICAgICAgICAgIHRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPQ0KICAgICAgICAgICAgJ3RyYW5zbGF0ZSgnICsgeCArICdweCwgMHB4KScNCg0KICAgICAgICAvLyB1cGRhdGUgdGhlIHBvc2lpb24gYXR0cmlidXRlcw0KICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCB4KQ0KICAgICAgICAvL3RhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEteScsIHkpDQogICAgfQ0KCX0sDQoJbWV0aG9kczogew0KICAgIGlzQ2hpbGRPZihjaGlsZCwgcGFyZW50KSB7DQogICAgICBpZihjaGlsZCAmJiBwYXJlbnQpIHsNCiAgICAgICAgICBsZXQgcGFyZW50Tm9kZSA9IGNoaWxkLnBhcmVudE5vZGU7DQogICAgICAgICAgd2hpbGUocGFyZW50Tm9kZSkgew0KICAgICAgICAgICAgICBpZihwYXJlbnQgPT09IHBhcmVudE5vZGUpIHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Sample.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Sample.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <svg class=\"draggable\" id=\"svg\" width=\"50px\" height=\"50px\"></svg>\r\n    <div class=\"dropzone\" style=\"width:100%;min-height:50px;border:2px solid #F1F4F5;margin:2px;padding:5px\"></div>\r\n    <div class=\"dropzone\" style=\"width:100%;min-height:50px;border:2px solid #F1F4F5;margin:2px;padding:5px\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Snap from 'snapsvg-cjs'\r\nimport interact from 'interactjs'\r\nexport default {\r\n  name: 'App',\r\n\tcomponents: {},\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {},\r\n\twatch: {},\r\n\tcreated: function() {},\r\n\tmounted: function() {\r\n    let that = this\r\n    let svg = Snap('.draggable');\r\n    // 定义一个斜条纹的画笔\r\n    let p = svg.path(\"M10-5-10,15M15,0,0,15M0-5-20,15\").attr({\r\n        fill: \"none\",\r\n        strokeOpacity: '.4',\r\n        stroke: \"gray\",\r\n        strokeWidth: 5\r\n    }).pattern(0, 0, 10, 10)\r\n    svg.rect(0, 0, 50, 50, 10).attr({fill: p})\r\n    let g = svg.g();\r\n    let innerRect = svg.rect(0, 0, 25, 50, 10)\r\n    // 半透明\r\n    innerRect.attr({fill: 'red',fillOpacity: '.4'})\r\n    // 居中显示文字\r\n    let text = svg.text(innerRect.node.width.baseVal.value / 2, '50%', \"50%\").attr({\r\n        stroke: \"white\",\r\n        dominantBaseline: 'middle',\r\n        fontSize: '15px'\r\n    });\r\n\r\n    // 文本居中\r\n    let xPosition = innerRect.node.width.baseVal.value / 2 - text.getBBox().width / 2\r\n    if( xPosition < 0) {\r\n      text.attr('x', innerRect.node.width.baseVal.value / 2)\r\n    } else {\r\n      text.attr('x', xPosition)\r\n    }\r\n\r\n    g.add(innerRect)\r\n    g.add(text)\r\n\r\n    interact('.draggable').draggable({\r\n        // enable inertial throwing\r\n        inertia: true,\r\n        // keep the element within the area of #app\r\n        modifiers: [\r\n            interact.modifiers.restrictRect({\r\n                restriction: '#app', // restriction: 'parent',\r\n                endOnly: true\r\n            })\r\n        ],\r\n        // enable autoScroll\r\n        autoScroll: true,\r\n        listeners: {\r\n            // call this function on every dragmove event\r\n            move: dragMoveListener,\r\n            // call this function on every dragend event\r\n            // end(event) {\r\n            //     //拖拽的距离\r\n            //     let distance = (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +\r\n            //             Math.pow(event.pageY - event.y0, 2) | 0))\r\n            //         .toFixed(2)\r\n            //     console.log(distance)\r\n            // }\r\n        }\r\n    })\r\n    \r\n    interact('.draggable').resizable({\r\n      // resize from all edges and corners\r\n      edges: { left: true, right: true, bottom: false, top: false },\r\n      listeners: {\r\n        move (event) {\r\n          let target = event.target\r\n          let x = (parseFloat(target.getAttribute('data-x')) || 0)\r\n          let y = (parseFloat(target.getAttribute('data-y')) || 0)\r\n\r\n          // update the element's style\r\n          target.style.width = event.rect.width + 'px'\r\n          target.style.height = event.rect.height + 'px'\r\n\r\n          // translate when resizing from top or left edges\r\n          x += event.deltaRect.left\r\n          y += event.deltaRect.top\r\n\r\n          target.style.transform = 'translate(' + x + 'px,' + y + 'px)'\r\n\r\n          target.setAttribute('data-x', x)\r\n          target.setAttribute('data-y', y)\r\n          target.textContent = Math.round(event.rect.width) + '\\u00D7' + Math.round(event.rect.height)\r\n\r\n          let svg = Snap('#svg');\r\n          // 定义一个斜条纹的画笔\r\n          let p = svg.path(\"M10-5-10,15M15,0,0,15M0-5-20,15\").attr({\r\n              fill: \"none\",\r\n              strokeOpacity: '.4',\r\n              stroke: \"gray\",\r\n              strokeWidth: 5\r\n          }).pattern(0, 0, 10, 10)\r\n\r\n          svg.rect(0, 0,event.rect.width, event.rect.height, 10).attr({fill: p})\r\n          let g = svg.g();\r\n          let innerRect = svg.rect(0, 0, event.rect.width / 2, event.rect.height, 10)\r\n\r\n          // 半透明\r\n          innerRect.attr({fill: 'red',fillOpacity: '.4'})\r\n          let text = svg.text(innerRect.node.width.baseVal.value / 2, '50%', \"50%\").attr({\r\n              stroke: \"white\",\t// 蓝色\r\n              dominantBaseline: 'middle',\r\n              fontSize: '15px'\r\n          });\r\n\r\n          // 文本居中\r\n          let xPosition = innerRect.node.width.baseVal.value / 2 - text.getBBox().width / 2\r\n          if( xPosition < 0) {\r\n            text.attr('x', innerRect.node.width.baseVal.value / 2)\r\n          } else {\r\n            text.attr('x', xPosition)\r\n          }\r\n\r\n          g.add(innerRect)\r\n          g.add(text)\r\n        }\r\n      },\r\n      modifiers: [\r\n        // keep the edges inside the parent\r\n        interact.modifiers.restrictEdges({\r\n          outer: '#app'\r\n        }),\r\n\r\n        // minimum size\r\n        interact.modifiers.restrictSize({\r\n          min: { width: 100, height: 50 }\r\n        })\r\n      ],\r\n      inertia: true\r\n    })\r\n\r\n    interact('.dropzone').dropzone({\r\n      accept: '.draggable',\r\n      overlap: 'pointer',\r\n      ondrop: function (event) {\r\n        let isExsit = that.isChildOf(event.relatedTarget, event.target)\r\n        if (!isExsit)\r\n        {\r\n          event.target.append(event.relatedTarget)\r\n        }\r\n      }\r\n    })\r\n    // 拖动只改变x轴的坐标\r\n    function dragMoveListener(event) {\r\n        let target = event.target\r\n        // keep the dragged position in the data-x/data-y attributes\r\n        let x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx\r\n        //let y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy\r\n\r\n        // translate the element\r\n        target.style.webkitTransform =\r\n            target.style.transform =\r\n            'translate(' + x + 'px, 0px)'\r\n\r\n        // update the posiion attributes\r\n        target.setAttribute('data-x', x)\r\n        //target.setAttribute('data-y', y)\r\n    }\r\n\t},\r\n\tmethods: {\r\n    isChildOf(child, parent) {\r\n      if(child && parent) {\r\n          let parentNode = child.parentNode;\r\n          while(parentNode) {\r\n              if(parent === parentNode) {\r\n                  return true;\r\n              }\r\n              parentNode = parentNode.parentNode;\r\n          }\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: left;\r\n  color: #2c3e50;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n#app, html, body {\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n\r\n"]}]}