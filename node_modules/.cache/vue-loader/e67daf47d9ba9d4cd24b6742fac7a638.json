{"remainingRequest":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Demo\\svg\\svg\\src\\components\\gantt\\Datepicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Demo\\svg\\svg\\src\\components\\gantt\\Datepicker.vue","mtime":1644204291244},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\svg\\svg\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgZmllbGQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfSwNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycsDQogICAgICB0d29XYXk6IHRydWUNCiAgICB9LA0KICAgIG1heGRhdGU6ew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIG1pbmRhdGU6ew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIGZvcm1hdDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3l5eXktbW0tZGQnDQogICAgfSwNCiAgICBwbGFjZWhvbGRlcjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIHdlZWt0eXBlOnsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdzdGFydCcNCiAgICB9LA0KICAgIHR5cGU6ew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ21pbnV0ZScgLy9taW51dGXooajnpLrpgInmi6nliLDliIbpkp8saG91cuihqOekuumAieaLqeWIsOWwj+aXtixkYXnooajnpLrpgInmi6nliLDlpKksbW9udGjooajnpLrpgInmi6nliLDmnIgNCiAgICB9LA0KICAgIGNvbmY6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4ge307DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIGxldCB7DQogICAgICB2YWx1ZSwNCiAgICAgIGNvbmYNCiAgICB9ID0gdGhpcywNCiAgICBkYXRlT2JqLCB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwNCiAgICBsYW5nQ29uZiA9IHsNCiAgICAgIHdlZWs6IFsn5pelJywgJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJ10sDQogICAgICBtb250aDogWyfkuIDmnIgnLCAn5LqM5pyIJywgJ+S4ieaciCcsICflm5vmnIgnLCAn5LqU5pyIJywgJ+WFreaciCcsICfkuIPmnIgnLCAn5YWr5pyIJywgJ+S5neaciCcsICfljYHmnIgnLCAn5Y2B5LiA5pyIJywgJ+WNgeS6jOaciCddDQogICAgfTsNCiAgICBpZiAodmFsdWUpIHsNCiAgICAgIGRhdGVPYmogPSBuZXcgRGF0ZSh2YWx1ZS5yZXBsYWNlKC8tL2csICIvIikpOw0KICAgIH0gZWxzZSB7DQogICAgICBkYXRlT2JqID0gbmV3IERhdGUoKTsNCiAgICB9DQogICAgaWYgKGNvbmYpIHsNCiAgICAgIGxhbmdDb25mID0gT2JqZWN0LmFzc2lnbihsYW5nQ29uZiwgY29uZik7DQogICAgfQ0KICAgIHllYXIgPSBkYXRlT2JqLmdldEZ1bGxZZWFyKCk7DQogICAgbW9udGggPSBkYXRlT2JqLmdldE1vbnRoKCkrMTsNCiAgICBkYXkgPSBkYXRlT2JqLmdldERhdGUoKTsNCiAgICBob3VyID0gZGF0ZU9iai5nZXRIb3VycygpOw0KICAgIG1pbnV0ZSA9IGRhdGVPYmouZ2V0TWludXRlcygpOw0KICAgIHNlY29uZCA9IGRhdGVPYmouZ2V0U2Vjb25kcygpOw0KICAgIHJldHVybiB7DQogICAgICBsYW5nQ29uZiwNCiAgICAgIGRheVBhbmVsSXNTaG93OiBmYWxzZSwNCiAgICAgIHdlZWtQYW5lbElzU2hvdzpmYWxzZSwNCiAgICAgIG1vbnRoUGFuZWxJc1Nob3c6IGZhbHNlLA0KICAgICAgaG91clBhbmVsSXNTaG93OmZhbHNlLA0KICAgICAgbWludXRlUGFuZWxJc1Nob3c6ZmFsc2UsDQogICAgICBpc01vdXNlT3ZlcjogZmFsc2UsDQogICAgICBpY29uQ2xhc3M6J2VsLWljb24tZGF0ZScsDQogICAgICBpY29uU3RhdGU6ZmFsc2UsDQogICAgICB3ZWVrOm51bGwsDQogICAgICB3ZWVrU2hvcnRUZXh0OiIiLA0KICAgICAgbW9udGhTaG9ydFRleHQ6IiIsDQogICAgICBkYXlTaG9ydFRleHQ6IiIsDQogICAgICBob3VyU2hvcnRUZXh0OiIiLA0KICAgICAgbWludXRlU2hvcnRUZXh0OiIiLA0KICAgICAgd2Vla0RhdGE6W10sDQogICAgICB5ZWFyLA0KICAgICAgbW9udGgsDQogICAgICBkYXksDQogICAgICBob3VyLA0KICAgICAgbWludXRlLA0KICAgICAgc2Vjb25kDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6ew0KICAgIHR5cGUodmFsKXsNCiAgICAgIGlmKHZhbCA9PSAid2VlayIpew0KICAgICAgICB0aGlzLndlZWtEYXRhID0gZ2V0V2Vla0RhdGEodGhpcy55ZWFyKTsNCiAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSh0aGlzLnZhbHVlKTsNCiAgICAgICAgdGhpcy53ZWVrU2hvcnRUZXh0ID0gdGhpcy5nZXRXZWVrU2hvcnRUZXh0KHRpbWUuZ2V0VGltZSgpKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbHVlKHZhbCl7DQogICAgICBpZighIXZhbCl7DQogICAgICAgIGxldCB0aW1lID0gbmV3IERhdGUodmFsKTsNCiAgICAgICAgbGV0IHRpbWVEYXRlID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aW1lLmdldEZ1bGxZZWFyKCksdGltZS5nZXRNb250aCgpKzEsdGltZS5nZXREYXRlKCksdGltZS5nZXRIb3VycygpLHRpbWUuZ2V0TWludXRlcygpLHRpbWUuZ2V0U2Vjb25kcygpLCd5eXl5LU1NLWRkIGhoOm1tOnNzJyk7DQogICAgICAgIHRoaXMubW9udGhTaG9ydFRleHQgPSB0aGlzLmRhdGVUaW1lRm9ybWF0KHRpbWUuZ2V0RnVsbFllYXIoKSx0aW1lLmdldE1vbnRoKCkrMSx0aW1lLmdldERhdGUoKSx0aW1lLmdldEhvdXJzKCksdGltZS5nZXRNaW51dGVzKCksdGltZS5nZXRTZWNvbmRzKCksJ3l5eXktTU0nKTsNCiAgICAgICAgdGhpcy5kYXlTaG9ydFRleHQgPSB0aGlzLmRhdGVUaW1lRm9ybWF0KHRpbWUuZ2V0RnVsbFllYXIoKSx0aW1lLmdldE1vbnRoKCkrMSx0aW1lLmdldERhdGUoKSx0aW1lLmdldEhvdXJzKCksdGltZS5nZXRNaW51dGVzKCksdGltZS5nZXRTZWNvbmRzKCksJ3l5eXktTU0tZGQnKTsNCiAgICAgICAgdGhpcy5ob3VyU2hvcnRUZXh0ID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aW1lLmdldEZ1bGxZZWFyKCksdGltZS5nZXRNb250aCgpKzEsdGltZS5nZXREYXRlKCksdGltZS5nZXRIb3VycygpLHRpbWUuZ2V0TWludXRlcygpLHRpbWUuZ2V0U2Vjb25kcygpLCd5eXl5LU1NLWRkIGhoJyk7DQogICAgICAgIHRoaXMubWludXRlU2hvcnRUZXh0ID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aW1lLmdldEZ1bGxZZWFyKCksdGltZS5nZXRNb250aCgpKzEsdGltZS5nZXREYXRlKCksdGltZS5nZXRIb3VycygpLHRpbWUuZ2V0TWludXRlcygpLHRpbWUuZ2V0U2Vjb25kcygpLCd5eXl5LU1NLWRkIGhoOm1tJyk7DQogICAgICAgIHRoaXMud2Vla1Nob3J0VGV4dCA9IHRoaXMuZ2V0V2Vla1Nob3J0VGV4dCh0aW1lLmdldFRpbWUoKSk7DQogICAgICAgIHRoaXMueWVhciA9IHRpbWUuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgdGhpcy5tb250aCA9IHRpbWUuZ2V0TW9udGgoKSsxOw0KICAgICAgICB0aGlzLmRheSA9IHRpbWUuZ2V0RGF0ZSgpOw0KICAgICAgICB0aGlzLmhvdXIgPSB0aW1lLmdldEhvdXJzKCk7DQogICAgICAgIHRoaXMubWludXRlID0gdGltZS5nZXRNaW51dGVzKCk7DQogICAgICAgIHRoaXMuc2Vjb25kID0gdGltZS5nZXRTZWNvbmRzKCk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5tb250aFNob3J0VGV4dCA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICAgIHRoaXMuZGF5U2hvcnRUZXh0ID0gdGhpcy5wbGFjZWhvbGRlcjsNCiAgICAgICAgdGhpcy5ob3VyU2hvcnRUZXh0ID0gdGhpcy5wbGFjZWhvbGRlcjsNCiAgICAgICAgdGhpcy5taW51dGVTaG9ydFRleHQgPSB0aGlzLnBsYWNlaG9sZGVyOw0KICAgICAgICB0aGlzLndlZWtTaG9ydFRleHQgPSB0aGlzLnBsYWNlaG9sZGVyOw0KICAgICAgICB0aGlzLnllYXIgPSAtMTsNCiAgICAgICAgdGhpcy5tb250aCA9IC0xOw0KICAgICAgICB0aGlzLmRheSA9IC0xOw0KICAgICAgICB0aGlzLmhvdXIgPSAtMTsNCiAgICAgICAgdGhpcy5taW51dGUgPSAtMTsNCiAgICAgICAgdGhpcy5zZWNvbmQgPSAtMTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1vdW50ZWQ6IGZ1bmN0aW9uKCkgew0KICAgICAgaWYodGhpcy50eXBlID09ICJ3ZWVrIil7DQogICAgICAgIHRoaXMud2Vla0RhdGEgPSBnZXRXZWVrRGF0YSh0aGlzLnllYXIpOw0KICAgICAgfQ0KICAgICAgbGV0IHRoYXQgPSB0aGlzOw0KICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXsNCiAgICAgICAgICB0aGF0LmltbUVuZENob2ljZSgpOw0KICAgICAgfSk7DQogICAgICB0aGlzLndlZWtTaG9ydFRleHQgPSB0aGlzLnBsYWNlaG9sZGVyOw0KICAgICAgdGhpcy5tb250aFNob3J0VGV4dCA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICB0aGlzLmRheVNob3J0VGV4dCA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICB0aGlzLmhvdXJTaG9ydFRleHQgPSB0aGlzLnBsYWNlaG9sZGVyOw0KICAgICAgdGhpcy5taW51dGVTaG9ydFRleHQgPSB0aGlzLnBsYWNlaG9sZGVyOw0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC8vCeaXpeacn+S6jOe7tOaVsOe7hO+8iDMqNO+8ie+8jOa4suafk+eUqA0KICAgIG1vbnRoQXJyKCkgew0KICAgICAgbGV0IHsNCiAgICAgICAgbW9udGgNCiAgICAgIH0gPSB0aGlzLmxhbmdDb25mLA0KICAgICAgICByZXMgPSBbXTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDM7IGkrKykgew0KICAgICAgICBsZXQgdGVtcCA9IFtdOw0KICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSAzOyBqKyspIHsNCiAgICAgICAgICBsZXQgaWQgPSBpICogMyArIGogLSAxOw0KICAgICAgICAgIHRlbXAucHVzaCh7DQogICAgICAgICAgICBpZCwNCiAgICAgICAgICAgIG5hbWU6IG1vbnRoW2lkXQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIHJlcy5wdXNoKHRlbXApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJlczsNCiAgICB9LA0KICAgIC8vIOW9k+WJjeaXpeacnw0KICAgIGN1cnIoKSB7DQogICAgICBsZXQgew0KICAgICAgICB2YWx1ZQ0KICAgICAgfSA9IHRoaXMsDQogICAgICBkYXRlT2JqLA0KICAgICAgeWVhciA9ICIiLA0KICAgICAgbW9udGggPSAiIiwNCiAgICAgIGRheSA9ICIiLA0KICAgICAgaG91ciA9ICIiLA0KICAgICAgbWludXRlID0gIiIsDQogICAgICBzZWNvbmQgPSAiIjsNCiAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUodmFsdWUucmVwbGFjZSgvLS9nLCAiLyIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGRhdGVPYmogPSBuZXcgRGF0ZSgpOw0KICAgICAgfQ0KICAgICAgeWVhciA9IGRhdGVPYmouZ2V0RnVsbFllYXIoKTsNCiAgICAgIG1vbnRoID0gZGF0ZU9iai5nZXRNb250aCgpKzE7DQogICAgICBkYXkgPSBkYXRlT2JqLmdldERhdGUoKTsNCiAgICAgIGhvdXIgPSBkYXRlT2JqLmdldEhvdXJzKCk7DQogICAgICBtaW51dGUgPSBkYXRlT2JqLmdldE1pbnV0ZXMoKTsNCiAgICAgIHNlY29uZCA9IGRhdGVPYmouZ2V0U2Vjb25kcygpOw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgeWVhciwNCiAgICAgICAgbW9udGgsDQogICAgICAgIGRheSwNCiAgICAgICAgaG91ciwNCiAgICAgICAgbWludXRlLA0KICAgICAgICBzZWNvbmQNCiAgICAgIH07DQogICAgfSwNCiAgICAvLyDov5Tlm57lvZPliY3mnIjnmoTlpKnmlbDmlbDnu4QNCiAgICBtb250aERheXMoKSB7DQogICAgICBsZXQgew0KICAgICAgICB5ZWFyLA0KICAgICAgICBtb250aA0KICAgICAgfSA9IHRoaXMsDQogICAgICBkYXlOdW07DQogICAgICAvL21vbnRoKys7DQogICAgICAvLyDliKTmlq3kuIDkuKrmnIjmnInlh6DlpKkNCiAgICAgIGlmIChtb250aCA9PSAyKSB7DQogICAgICAgIGlmICh5ZWFyICUgNCA9PSAwICYmICEoeWVhciAlIDEwMCA9PSAwICYmIHllYXIgJSA0MDAgIT0gMCkpIHsNCiAgICAgICAgICBkYXlOdW0gPSAyOTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBkYXlOdW0gPSAyODsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKFsxLCAzLCA1LCA3LCA4LCAxMCwgMTJdLmluY2x1ZGVzKG1vbnRoKSkgew0KICAgICAgICAgIGRheU51bSA9IDMxOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGRheU51bSA9IDMwOw0KICAgICAgICB9DQogICAgICB9DQogICAgICAvLyDnlJ/miJDlr7nlupTmmJ/mnJ/nmoTml6XmnJ/mlbDnu4QNCiAgICAgIGxldCBmaXJzdERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMSkuZ2V0RGF5KCksDQogICAgICAgIGRheUFyciA9IGdldERheUFycig2LCA3KSwNCiAgICAgICAgcm93ID0gMCwNCiAgICAgICAgY29sID0gZmlyc3REYXk7DQogICAgICBmb3IgKGxldCBkID0gMTsgZCA8PSBkYXlOdW07IGQrKykgew0KICAgICAgICBkYXlBcnJbcm93XVtjb2xdID0gZDsNCiAgICAgICAgaWYgKGNvbCA8IDYpIHsNCiAgICAgICAgICBjb2wrKzsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb2wgPSAwOw0KICAgICAgICAgIHJvdysrOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gZGF5QXJyOw0KICAgIH0sDQogICAgbm93KCkgew0KICAgICAgbGV0IGRhdGVPYmogPSBuZXcgRGF0ZSgpDQogICAgICBsZXQgeWVhciA9IGRhdGVPYmouZ2V0RnVsbFllYXIoKQ0KICAgICAgbGV0IG1vbnRoID0gZGF0ZU9iai5nZXRNb250aCgpKzENCiAgICAgIGxldCBkYXkgPSBkYXRlT2JqLmdldERhdGUoKQ0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgeWVhciwNCiAgICAgICAgbW9udGgsDQogICAgICAgIGRheQ0KICAgICAgfTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAgIC8v54K55Ye75paH5pys5qGG5by55Ye65pel5pyf6YCJ5oupDQogICAgICBzdGFydENob2ljZShlKSB7DQogICAgICAgIGlmIChlICYmIGUudHlwZSA9PSAna2V5cHJlc3MnKSB7DQogICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGlmICghdGhpcy5kYXlQYW5lbElzU2hvdyAmJiAhdGhpcy5tb250aFBhbmVsSXNTaG93ICYmICF0aGlzLndlZWtQYW5lbElzU2hvdyAmJiAhdGhpcy5ob3VyUGFuZWxJc1Nob3cgJiYgIXRoaXMubWludXRlUGFuZWxJc1Nob3cpIHsNCiAgICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkgew0KICAgICAgICAgICAgY2FzZSAibW9udGgiOg0KICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q2hvaWNlTW9udGgoKTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJ3ZWVrIjoNCiAgICAgICAgICAgICAgdGhpcy5zdGFydENob2ljZVdlZWsoKTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJkYXRlIjoNCiAgICAgICAgICAgIGNhc2UgImhvdXIiOg0KICAgICAgICAgICAgY2FzZSAibWludXRlIjoNCiAgICAgICAgICAgICAgdGhpcy5zdGFydENob2ljZURhdGUoKTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q2hvaWNlRGF0ZSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGlsbGVnYWwgKGV2ZW50KSB7DQogICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTsNCiAgICAgICAgbGV0IGNsYXNzTmFtZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7DQogICAgICAgIGlmKCEhY2xhc3NOYW1lKXsNCiAgICAgICAgICByZXR1cm4gY2xhc3NOYW1lLnRvU3RyaW5nKCkuaW5kZXhPZignei1pbnZhbGlkJykgIT0gLTE7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSwNCiAgICAgIGNob2ljZU1vbnRoKG0sZXZlbnQpIHsNCiAgICAgICAgaWYodGhpcy5pbGxlZ2FsKGV2ZW50KSl7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMubW9udGggPSBtKzE7DQogICAgICAgIGlmKHRoaXMuZGF5ICE9IDEpew0KICAgICAgICAgIC8v6K+05piO5piv5pyA5ZCO55So5oi35biM5pyb5Y+W5Yqe5ZGi5LiO5pyA5ZCO5LiA5aSpDQogICAgICAgICAgbGV0IG15RGF0ZSA9IG5ldyBEYXRlKHRoaXMueWVhciwgdGhpcy5tb250aCwgMCk7DQogICAgICAgICAgdGhpcy5kYXkgPSBteURhdGUuZ2V0RGF0ZSgpOw0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKCJGR0hERDoiLHRoaXMuZGF5KQ0KICAgICAgICBpZih0aGlzLnR5cGUgPT0gIm1vbnRoIil7DQogICAgICAgICAgdGhpcy5tb250aFNob3J0VGV4dCA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NJyk7DQogICAgICAgICAgbGV0IGRheSA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NLWRkJyk7DQogICAgICAgICAgdGhpcy5sb2FkVmFsdWUoKTsNCiAgICAgICAgICB0aGlzLmNob29zZU1vbnRoKHRoaXMubW9udGhTaG9ydFRleHQsZGF5KTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zdGFydENob2ljZURhdGUoKTsNCiAgICAgIH0sDQogICAgICBjaG9pY2VXZWVrKHcsZXZlbnQsc0RhdGUsZURhdGUsc2hvcnRUZXh0KSB7DQogICAgICAgIGlmKHRoaXMuaWxsZWdhbChldmVudCkpew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLndlZWsgPSB3Ow0KICAgICAgICB0aGlzLndlZWtTaG9ydFRleHQgPSBzaG9ydFRleHQ7DQogICAgICAgIGxldCBzdGFydERhdGUgPSB7fSwNCiAgICAgICAgICAgIHN0YXJ0RGF0ZXRpbWUgPSBuZXcgRGF0ZShzRGF0ZSk7DQogICAgICAgIHN0YXJ0RGF0ZS55ZWFyID0gc3RhcnREYXRldGltZS5nZXRGdWxsWWVhcigpOw0KICAgICAgICBzdGFydERhdGUubW9udGggPSBzdGFydERhdGV0aW1lLmdldE1vbnRoKCkrMTsNCiAgICAgICAgc3RhcnREYXRlLmRheSA9IHN0YXJ0RGF0ZXRpbWUuZ2V0RGF0ZSgpOw0KICAgICAgICBzdGFydERhdGUuaG91ciA9IHN0YXJ0RGF0ZXRpbWUuZ2V0SG91cnMoKTsNCiAgICAgICAgc3RhcnREYXRlLm1pbnV0ZSA9IHN0YXJ0RGF0ZXRpbWUuZ2V0TWludXRlcygpOw0KICAgICAgICBzdGFydERhdGUuc2Vjb25kID0gc3RhcnREYXRldGltZS5nZXRTZWNvbmRzKCk7DQogICAgICAgIGxldCBlbmREYXRlID0ge30sDQogICAgICAgICAgICBlbmREYXRldGltZSA9IG5ldyBEYXRlKGVEYXRlKTsNCiAgICAgICAgZW5kRGF0ZS55ZWFyID0gZW5kRGF0ZXRpbWUuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgZW5kRGF0ZS5tb250aCA9IGVuZERhdGV0aW1lLmdldE1vbnRoKCkrMTsNCiAgICAgICAgZW5kRGF0ZS5kYXkgPSBlbmREYXRldGltZS5nZXREYXRlKCk7DQogICAgICAgIGVuZERhdGUuaG91ciA9IGVuZERhdGV0aW1lLmdldEhvdXJzKCk7DQogICAgICAgIGVuZERhdGUubWludXRlID0gZW5kRGF0ZXRpbWUuZ2V0TWludXRlcygpOw0KICAgICAgICBlbmREYXRlLnNlY29uZCA9IGVuZERhdGV0aW1lLmdldFNlY29uZHMoKTsNCiAgICAgICAgaWYodGhpcy53ZWVrdHlwZSA9PSAic3RhcnQiKXsNCiAgICAgICAgICB0aGlzLnllYXIgPSBzdGFydERhdGUueWVhcjsNCiAgICAgICAgICB0aGlzLm1vbnRoID0gc3RhcnREYXRlLm1vbnRoOw0KICAgICAgICAgIHRoaXMuZGF5ID0gc3RhcnREYXRlLmRheTsNCiAgICAgICAgICB0aGlzLmhvdXIgPSAwOw0KICAgICAgICAgIHRoaXMubWludXRlID0gMDsNCiAgICAgICAgICB0aGlzLnNlY29uZCA9IDA7DQogICAgICAgICAgY29uc29sZS5sb2codGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQpDQogICAgICAgIH0NCiAgICAgICAgaWYodGhpcy53ZWVrdHlwZSA9PSAiZW5kIil7DQogICAgICAgICAgdGhpcy55ZWFyID0gZW5kRGF0ZS55ZWFyOw0KICAgICAgICAgIHRoaXMubW9udGggPSBlbmREYXRlLm1vbnRoOw0KICAgICAgICAgIHRoaXMuZGF5ID0gZW5kRGF0ZS5kYXk7DQogICAgICAgICAgdGhpcy5ob3VyID0gMjM7DQogICAgICAgICAgdGhpcy5taW51dGUgPSA1OTsNCiAgICAgICAgICB0aGlzLnNlY29uZCA9IDU5Ow0KICAgICAgICB9DQogICAgICAgIGxldCBzZGF5ID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aGlzLnllYXIsIHRoaXMubW9udGgsIHRoaXMuZGF5LCB0aGlzLmhvdXIsIHRoaXMubWludXRlLCB0aGlzLnNlY29uZCwgJ3l5eXktTU0tZGQnKTsNCiAgICAgICAgbGV0IGVkYXkgPSB0aGlzLmRhdGVUaW1lRm9ybWF0KGVuZERhdGUueWVhciwgZW5kRGF0ZS5tb250aCwgZW5kRGF0ZS5kYXksIGVuZERhdGUuaG91ciwgZW5kRGF0ZS5taW51dGUsIGVuZERhdGUuc2Vjb25kLCAneXl5eS1NTS1kZCcpOw0KICAgICAgICB0aGlzLmxvYWRWYWx1ZSgpOw0KICAgICAgICB0aGlzLmNob29zZVdlZWsoc2RheSxlZGF5LHcpOw0KICAgICAgfSwNCiAgICAgIGNsZWFySG9sZGVyKCl7DQogICAgICAgIHRoaXMud2Vla1Nob3J0VGV4dCA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICAgIHRoaXMubW9udGhTaG9ydFRleHQgPSB0aGlzLnBsYWNlaG9sZGVyOw0KICAgICAgICB0aGlzLmRheVNob3J0VGV4dCA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICAgIHRoaXMuaG91clNob3J0VGV4dCA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICAgIHRoaXMubWludXRlU2hvcnRUZXh0ID0gdGhpcy5wbGFjZWhvbGRlcjsNCiAgICAgIH0sDQogICAgICBjaG9pY2VEYXkoZCxldmVudCkgew0KICAgICAgICBpZih0aGlzLmlsbGVnYWwoZXZlbnQpKXsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5kYXkgPSBkOw0KICAgICAgICBpZih0aGlzLnR5cGUgPT0gImRheSIpew0KICAgICAgICAgIHRoaXMuZGF5U2hvcnRUZXh0ID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aGlzLnllYXIsIHRoaXMubW9udGgsIHRoaXMuZGF5LCB0aGlzLmhvdXIsIHRoaXMubWludXRlLCB0aGlzLnNlY29uZCwgJ3l5eXktTU0tZGQnKTsNCiAgICAgICAgICBsZXQgZGF5ID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aGlzLnllYXIsIHRoaXMubW9udGgsIHRoaXMuZGF5LCB0aGlzLmhvdXIsIHRoaXMubWludXRlLCB0aGlzLnNlY29uZCwgJ3l5eXktTU0tZGQnKTsNCiAgICAgICAgICB0aGlzLmxvYWRWYWx1ZSgpOw0KICAgICAgICAgIHRoaXMuY2hvb3NlRGF5KHRoaXMuZGF5U2hvcnRUZXh0LGRheSk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuc3RhcnRDaG9pY2VIb3VyKCk7DQogICAgICB9LA0KICAgICAgY2hvaWNlSG91cihoLGV2ZW50KXsNCiAgICAgICAgICBpZih0aGlzLmlsbGVnYWwoZXZlbnQpKXsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5ob3VyID0gaDsNCiAgICAgICAgICBpZih0aGlzLnR5cGUgPT0gImhvdXIiKXsNCiAgICAgICAgICAgIHRoaXMuaG91clNob3J0VGV4dCA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NLWRkIGhoJyk7DQogICAgICAgICAgICBsZXQgZGF5ID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aGlzLnllYXIsIHRoaXMubW9udGgsIHRoaXMuZGF5LCB0aGlzLmhvdXIsIHRoaXMubWludXRlLCB0aGlzLnNlY29uZCwgJ3l5eXktTU0tZGQnKTsNCiAgICAgICAgICAgIHRoaXMubG9hZFZhbHVlKCk7DQogICAgICAgICAgICB0aGlzLmNob29zZUhvdXIodGhpcy5ob3VyU2hvcnRUZXh0LGRheSk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc3RhcnRDaG9pY2VNaW51dGUoKTsNCiAgICAgIH0sDQogICAgICBjaG9pY2VNaW51dGUoTSxldmVudCl7DQogICAgICAgICAgaWYodGhpcy5pbGxlZ2FsKGV2ZW50KSl7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMubWludXRlID0gTTsNCiAgICAgICAgICBpZih0aGlzLnR5cGUgPT0gIm1pbnV0ZSIpew0KICAgICAgICAgICAgdGhpcy5taW51dGVTaG9ydFRleHQgPSB0aGlzLmRhdGVUaW1lRm9ybWF0KHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCAneXl5eS1NTS1kZCBoaDptbScpOw0KICAgICAgICAgICAgbGV0IGRheSA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NLWRkJyk7DQogICAgICAgICAgICB0aGlzLmxvYWRWYWx1ZSgpOw0KICAgICAgICAgICAgdGhpcy5jaG9vc2VNaW51dGUodGhpcy5taW51dGVTaG9ydFRleHQsZGF5KTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICB9LA0KICAgICAgY2hvb3NlTW9udGgoZGF0ZSxkYXkpew0KICAgICAgICBsZXQgdGltZSA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NLWRkIGhoOm1tOnNzJyk7DQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIGRhdGUsDQogICAgICAgICAgZGF5LA0KICAgICAgICAgIHRpbWUNCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0LXRpbWUnLCdtb250aCcsIGRhdGEpOw0KICAgICAgfSwNCiAgICAgIGNob29zZVdlZWsocyxlLHcpew0KICAgICAgICBsZXQgdGltZSA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NLWRkIGhoOm1tOnNzJyk7DQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIHdlZWtJbmRleDp3LA0KICAgICAgICAgIG1vbmRheTpzLA0KICAgICAgICAgIHN1bmRheTplLA0KICAgICAgICAgIHRpbWUNCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0LXRpbWUnLCd3ZWVrJywgZGF0YSk7DQogICAgICB9LA0KICAgICAgY2hvb3NlRGF5KGRhdGUsZGF5KXsNCiAgICAgICAgbGV0IHRpbWUgPSB0aGlzLmRhdGVUaW1lRm9ybWF0KHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCAneXl5eS1NTS1kZCBoaDptbTpzcycpOw0KICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICBkYXRlLA0KICAgICAgICAgIGRheSwNCiAgICAgICAgICB0aW1lDQogICAgICAgIH07DQogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC10aW1lJywnZGF5JywgZGF0YSk7DQogICAgICB9LA0KICAgICAgY2hvb3NlSG91cihkYXRlLGRheSl7DQogICAgICAgIGxldCB0aW1lID0gdGhpcy5kYXRlVGltZUZvcm1hdCh0aGlzLnllYXIsIHRoaXMubW9udGgsIHRoaXMuZGF5LCB0aGlzLmhvdXIsIHRoaXMubWludXRlLCB0aGlzLnNlY29uZCwgJ3l5eXktTU0tZGQgaGg6bW06c3MnKTsNCiAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgZGF0ZSwNCiAgICAgICAgICBkYXksDQogICAgICAgICAgdGltZQ0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLiRlbWl0KCdzZWxlY3QtdGltZScsJ2hvdXInLCBkYXRhKTsNCiAgICAgIH0sDQogICAgICBjaG9vc2VNaW51dGUoZGF0ZSxkYXkpew0KICAgICAgICBsZXQgdGltZSA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQodGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsICd5eXl5LU1NLWRkIGhoOm1tOnNzJyk7DQogICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgIGRhdGUsDQogICAgICAgICAgZGF5LA0KICAgICAgICAgIHRpbWUNCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0LXRpbWUnLCdtaW51dGUnLCBkYXRhKTsNCiAgICAgIH0sDQogICAgICBsb2FkVmFsdWUoKXsNCiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmRhdGVUaW1lRm9ybWF0KHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kKSk7DQogICAgICAgIHRoaXMuaW1tRW5kQ2hvaWNlKCk7DQogICAgICB9LA0KICAgIC8vIOW5tOS7vSvmnIjku73pgInmi6kNCiAgICBzdGFydENob2ljZU1vbnRoKCkgew0KICAgICAgdGhpcy5tb250aFBhbmVsSXNTaG93ID0gdHJ1ZTsNCiAgICAgIHRoaXMuZGF5UGFuZWxJc1Nob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMuaG91clBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLm1pbnV0ZVBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLndlZWtQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgIH0sDQogICAgc3RhcnRDaG9pY2VXZWVrKCkgew0KICAgICAgdGhpcy5tb250aFBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLndlZWtQYW5lbElzU2hvdyA9IHRydWU7DQogICAgICB0aGlzLmRheVBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLmhvdXJQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgICAgdGhpcy5taW51dGVQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgIH0sDQogICAgc3RhcnRDaG9pY2VEYXRlKCkgew0KICAgICAgdGhpcy5tb250aFBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLmRheVBhbmVsSXNTaG93ID0gdHJ1ZTsNCiAgICAgIHRoaXMuaG91clBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLm1pbnV0ZVBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLndlZWtQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgIH0sDQogICAgc3RhcnRDaG9pY2VIb3VyKCkgew0KICAgICAgdGhpcy5tb250aFBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLmRheVBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLmhvdXJQYW5lbElzU2hvdyA9IHRydWU7DQogICAgICB0aGlzLm1pbnV0ZVBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLndlZWtQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgIH0sDQogICAgc3RhcnRDaG9pY2VNaW51dGUoKSB7DQogICAgICB0aGlzLm1vbnRoUGFuZWxJc1Nob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMuZGF5UGFuZWxJc1Nob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMuaG91clBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLm1pbnV0ZVBhbmVsSXNTaG93ID0gdHJ1ZTsNCiAgICAgIHRoaXMud2Vla1BhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgfSwNCiAgICAvLyDmoLflvI8NCiAgICBjbGFzc01vbnRoKG0pIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgew0KICAgICAgICAgIG1vbnRoLA0KICAgICAgICAgIHllYXIsDQogICAgICAgICAgY3Vycg0KICAgICAgICB9ID0gdGhhdDsNCiAgICAgIHJldHVybiB7DQogICAgICAgICd6LW9uJzogbSA9PSAobW9udGgtMSkgJiYgY3Vyci55ZWFyID09IHllYXIsDQogICAgICAgICd6LWV4aXN0ZWQnOiB0cnVlLA0KICAgICAgICAnei1pbnZhbGlkJzp0aGlzLmdldFppbnZhbGlkKHttOm19KQ0KICAgICAgfTsNCiAgICB9LA0KICAgIGNsYXNzRGF5KGQpIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgew0KICAgICAgICAgIG1vbnRoLA0KICAgICAgICAgIHllYXIsDQogICAgICAgICAgY3Vycg0KICAgICAgICB9ID0gdGhhdDsNCiAgICAgIHJldHVybiB7DQogICAgICAgICd6LW9uJzogY3Vyci5kYXkgPT0gZCAmJiBjdXJyLm1vbnRoID09IG1vbnRoICYmIGN1cnIueWVhciA9PSB5ZWFyLA0KICAgICAgICAnei1leGlzdGVkJzogZCAhPSAnJywNCiAgICAgICAgJ3otaW52YWxpZCc6dGhpcy5nZXRaaW52YWxpZCh7ZDpkfSkNCiAgICAgIH07DQogICAgfSwNCiAgICBjbGFzc0hvdXIoaCl7DQogICAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgICB7DQogICAgICAgICAgICBtb250aCwNCiAgICAgICAgICAgIHllYXIsDQogICAgICAgICAgICBkYXksDQogICAgICAgICAgICBjdXJyDQogICAgICAgICAgfSA9IHRoYXQ7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgJ3otb24nOiBjdXJyLmhvdXIgPT0gaCAmJiBjdXJyLmRheSA9PSBkYXkgJiYgY3Vyci5tb250aCA9PSBtb250aCAmJiBjdXJyLnllYXIgPT0geWVhciwNCiAgICAgICAgICAnei1leGlzdGVkJzogdHJ1ZSwNCiAgICAgICAgICAnei1pbnZhbGlkJzp0aGlzLmdldFppbnZhbGlkKHtoOmh9KQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgY2xhc3NXZWVrKFcpew0KICAgICAgaWYodGhpcy53ZWVrID09IFcpew0KICAgICAgICByZXR1cm4gInNlbGVjdCI7DQogICAgICB9DQogICAgICByZXR1cm4gIiI7DQogICAgfSwNCiAgICBnZXRXZWVrU2hvcnRUZXh0KHRpbWVzdHJhbXApew0KICAgICAgbGV0IGxlbiA9IHRoaXMud2Vla0RhdGEubGVuZ3RoLA0KICAgICAgICAgIGl0ZW0gPSBudWxsLA0KICAgICAgICAgIHByZXZJdGVtID0gbnVsbCwNCiAgICAgICAgICBzaG9ydFRleHQgPSAiIjsNCiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsZW47IGkrKyl7DQogICAgICAgIGl0ZW0gPSB0aGlzLndlZWtEYXRhW2ldOw0KICAgICAgICBpZihpID4gMCl7DQogICAgICAgICAgcHJldkl0ZW0gPSB0aGlzLndlZWtEYXRhW2kgLSAxXTsNCiAgICAgICAgfQ0KICAgICAgICBpZih0aW1lc3RyYW1wIDwgaXRlbS53ZWVrU3RhcnREYXRlICYmIHByZXZJdGVtICE9IG51bGwpew0KICAgICAgICAgIHRoaXMud2VlayA9IHByZXZJdGVtLndlZWtJbmRleDsNCiAgICAgICAgICBzaG9ydFRleHQgPSBwcmV2SXRlbS53ZWVrU2hvcnRUZXh0Ow0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gc2hvcnRUZXh0Ow0KICAgIH0sDQogICAgY2xhc3NNaW51dGUoTSl7DQogICAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgICB7DQogICAgICAgICAgICBtb250aCwNCiAgICAgICAgICAgIHllYXIsDQogICAgICAgICAgICBob3VyLA0KICAgICAgICAgICAgZGF5LA0KICAgICAgICAgICAgY3Vycg0KICAgICAgICAgIH0gPSB0aGF0Ow0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICd6LW9uJzogY3Vyci5taW51dGUgPT0gTSAmJiBjdXJyLmhvdXIgPT0gaG91ciAmJiBjdXJyLmRheSA9PSBkYXkgJiYgY3Vyci5tb250aCA9PSBtb250aCAmJiBjdXJyLnllYXIgPT0geWVhciwNCiAgICAgICAgICAnei1leGlzdGVkJzogdHJ1ZSwNCiAgICAgICAgICAnei1pbnZhbGlkJzp0aGlzLmdldFppbnZhbGlkKHtNOk19KQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgZ2V0WmludmFsaWQgKG9wdGlvbnMpIHsNCiAgICAgIGlmKCF0aGlzLm1heGRhdGUgJiYgIXRoaXMubWluZGF0ZSl7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGxldCB0aGF0ID0gdGhpcywNCiAgICAgICAgew0KICAgICAgICAgIHllYXIsDQogICAgICAgICAgbW9udGgsDQogICAgICAgICAgZGF5LA0KICAgICAgICAgIGhvdXIsDQogICAgICAgICAgbWludXRlDQogICAgICAgIH0gPSB0aGF0Ow0KICAgICAgbGV0IHJlZ3VsYXJNYXhEYXRlID0gIiIsDQogICAgICAgICAgcmVndWxhck1pbkRhdGUgPSAiIiwNCiAgICAgICAgICBtYXhEYXRlVGltZSA9IG51bGwsDQogICAgICAgICAgbWluRGF0ZVRpbWUgPSBudWxsOw0KICAgICAgaWYodGhpcy5tYXhkYXRlICAhPSBudWxsKXsNCiAgICAgICAgcmVndWxhck1heERhdGUgPSB0aGlzLm1heGRhdGUucmVwbGFjZSgvLS9nLCAiLyIpOw0KICAgICAgICBtYXhEYXRlVGltZSA9IG5ldyBEYXRlKHJlZ3VsYXJNYXhEYXRlKS5nZXRUaW1lKCk7DQogICAgICB9DQogICAgICBpZih0aGlzLm1pbmRhdGUgICE9IG51bGwpew0KICAgICAgICByZWd1bGFyTWluRGF0ZSA9IHRoaXMubWluZGF0ZS5yZXBsYWNlKC8tL2csICIvIik7DQogICAgICAgIG1pbkRhdGVUaW1lID0gbmV3IERhdGUocmVndWxhck1pbkRhdGUpLmdldFRpbWUoKTsNCiAgICAgIH0NCiAgICAgIGlmKG9wdGlvbnMubSAhPSBudWxsKXsNCiAgICAgICAgbGV0IGN1cnJEYXRlID0gIG5ldyBEYXRlKCk7DQogICAgICAgIGN1cnJEYXRlLnNldEZ1bGxZZWFyKHllYXIpOw0KICAgICAgICBjdXJyRGF0ZS5zZXRNb250aChvcHRpb25zLm0pOw0KICAgICAgICBpZighIXRoaXMubWF4ZGF0ZSl7DQogICAgICAgICAgY3VyckRhdGUuc2V0RGF0ZSgxKTsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXRIb3VycygwKTsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXRNaW51dGVzKDApOw0KICAgICAgICAgIGN1cnJEYXRlLnNldFNlY29uZHMoMCk7DQogICAgICAgICAgbGV0IGN1cnJEYXRlVGltZSA9IG5ldyBEYXRlKGN1cnJEYXRlKS5nZXRUaW1lKCk7DQogICAgICAgICAgaWYoY3VyckRhdGVUaW1lID4gbWF4RGF0ZVRpbWUpew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKCEhdGhpcy5taW5kYXRlKXsNCiAgICAgICAgICBsZXQgbGFzdERhdGUgPSBuZXcgRGF0ZSh5ZWFyLG9wdGlvbnMubSwwKTsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXREYXRlKGxhc3REYXRlLmdldERhdGUoKSk7DQogICAgICAgICAgY3VyckRhdGUuc2V0SG91cnMoMjMpOw0KICAgICAgICAgIGN1cnJEYXRlLnNldE1pbnV0ZXMoNTkpOw0KICAgICAgICAgIGN1cnJEYXRlLnNldFNlY29uZHMoNTkpOw0KICAgICAgICAgIGxldCBjdXJyRGF0ZVRpbWUgPSBuZXcgRGF0ZShjdXJyRGF0ZSkuZ2V0VGltZSgpOw0KICAgICAgICAgIGlmKGN1cnJEYXRlVGltZSA8IG1pbkRhdGVUaW1lKXsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYob3B0aW9ucy5kICAhPSBudWxsKXsNCiAgICAgICAgbGV0IGN1cnJEYXRlID0gIG5ldyBEYXRlKCk7DQogICAgICAgIGN1cnJEYXRlLnNldEZ1bGxZZWFyKHllYXIpOw0KICAgICAgICBjdXJyRGF0ZS5zZXRNb250aChtb250aC0xKTsNCiAgICAgICAgY3VyckRhdGUuc2V0RGF0ZShvcHRpb25zLmQpOw0KICAgICAgICBpZighIXRoaXMubWF4ZGF0ZSl7DQogICAgICAgICAgY3VyckRhdGUuc2V0SG91cnMoMCk7DQogICAgICAgICAgY3VyckRhdGUuc2V0TWludXRlcygwKTsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXRTZWNvbmRzKDApOw0KICAgICAgICAgIGxldCBjdXJyRGF0ZVRpbWUgPSBuZXcgRGF0ZShjdXJyRGF0ZSkuZ2V0VGltZSgpOw0KICAgICAgICAgIGlmKGN1cnJEYXRlVGltZSA+IG1heERhdGVUaW1lKXsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZighIXRoaXMubWluZGF0ZSl7DQogICAgICAgICAgY3VyckRhdGUuc2V0SG91cnMoMjMpOw0KICAgICAgICAgIGN1cnJEYXRlLnNldE1pbnV0ZXMoNTkpOw0KICAgICAgICAgIGN1cnJEYXRlLnNldFNlY29uZHMoNTkpOw0KICAgICAgICAgIGxldCBjdXJyRGF0ZVRpbWUgPSBuZXcgRGF0ZShjdXJyRGF0ZSkuZ2V0VGltZSgpOw0KICAgICAgICAgIGlmKGN1cnJEYXRlVGltZSA8IG1pbkRhdGVUaW1lKXsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYob3B0aW9ucy5oICE9IG51bGwpew0KICAgICAgICBsZXQgY3VyckRhdGUgPSAgbmV3IERhdGUoKTsNCiAgICAgICAgY3VyckRhdGUuc2V0RnVsbFllYXIoeWVhcik7DQogICAgICAgIGN1cnJEYXRlLnNldE1vbnRoKG1vbnRoLTEpOw0KICAgICAgICBjdXJyRGF0ZS5zZXREYXRlKGRheSk7DQogICAgICAgIGN1cnJEYXRlLnNldEhvdXJzKG9wdGlvbnMuaCk7DQogICAgICAgIGlmKCEhdGhpcy5tYXhkYXRlKXsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXRNaW51dGVzKDApOw0KICAgICAgICAgIGN1cnJEYXRlLnNldFNlY29uZHMoMCk7DQogICAgICAgICAgbGV0IGN1cnJEYXRlVGltZSA9IG5ldyBEYXRlKGN1cnJEYXRlKS5nZXRUaW1lKCk7DQogICAgICAgICAgaWYoY3VyckRhdGVUaW1lID4gbWF4RGF0ZVRpbWUpew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKCEhdGhpcy5taW5kYXRlKXsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXRNaW51dGVzKDU5KTsNCiAgICAgICAgICBjdXJyRGF0ZS5zZXRTZWNvbmRzKDU5KTsNCiAgICAgICAgICBsZXQgY3VyckRhdGVUaW1lID0gbmV3IERhdGUoY3VyckRhdGUpLmdldFRpbWUoKTsNCiAgICAgICAgICBpZihjdXJyRGF0ZVRpbWUgPCBtaW5EYXRlVGltZSl7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmKG9wdGlvbnMuTSAgIT0gbnVsbCl7DQogICAgICAgIGxldCBjdXJyRGF0ZSA9ICBuZXcgRGF0ZSgpOw0KICAgICAgICBjdXJyRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTsNCiAgICAgICAgY3VyckRhdGUuc2V0TW9udGgobW9udGgtMSk7DQogICAgICAgIGN1cnJEYXRlLnNldERhdGUoZGF5KTsNCiAgICAgICAgY3VyckRhdGUuc2V0SG91cnMoaG91cik7DQogICAgICAgIGN1cnJEYXRlLnNldE1pbnV0ZXMob3B0aW9ucy5NKTsNCiAgICAgICAgY3VyckRhdGUuc2V0U2Vjb25kcygwKTsNCiAgICAgICAgbGV0IGN1cnJEYXRlVGltZSA9IG5ldyBEYXRlKGN1cnJEYXRlKS5nZXRUaW1lKCk7DQogICAgICAgIGlmKCEhdGhpcy5tYXhkYXRlICYmIGN1cnJEYXRlVGltZSA+IG1heERhdGVUaW1lKXsNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBpZighIXRoaXMubWluZGF0ZSAmJiBjdXJyRGF0ZVRpbWUgPCBtaW5EYXRlVGltZSl7DQogICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9LA0KICAgIC8v5YmN5LiA5bm0DQogICAgcHJldlllYXIoKSB7DQogICAgICB0aGlzLnllYXItLTsNCiAgICAgIGlmKHRoaXMudHlwZSA9PSAid2VlayIpew0KICAgICAgICB0aGlzLndlZWtEYXRhID0gZ2V0V2Vla0RhdGEodGhpcy55ZWFyKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5ZCO5LiA5bm0DQogICAgbmV4dFllYXIoKSB7DQogICAgICB0aGlzLnllYXIrKzsNCiAgICAgIGlmKHRoaXMudHlwZSA9PSAid2VlayIpew0KICAgICAgICB0aGlzLndlZWtEYXRhID0gZ2V0V2Vla0RhdGEodGhpcy55ZWFyKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5YmN5LiA5pyIDQogICAgcHJldk1vbnRoKCkgew0KICAgICAgbGV0IHsNCiAgICAgICAgeWVhciwNCiAgICAgICAgbW9udGgNCiAgICAgIH0gPSB0aGlzOw0KICAgICAgaWYgKG1vbnRoID4gMSkgew0KICAgICAgICB0aGlzLm1vbnRoLS07DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnllYXItLTsNCiAgICAgICAgdGhpcy5tb250aCA9IDEyOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/lkI7kuIDmnIgNCiAgICBuZXh0TW9udGgoKSB7DQogICAgICBsZXQgew0KICAgICAgICB5ZWFyLA0KICAgICAgICBtb250aA0KICAgICAgfSA9IHRoaXM7DQogICAgICBpZiAobW9udGggPCAxMikgew0KICAgICAgICB0aGlzLm1vbnRoKys7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnllYXIrKzsNCiAgICAgICAgdGhpcy5tb250aCA9IDE7DQogICAgICB9DQogICAgfSwNCiAgICBwcmV2RGF5KCl7DQogICAgICAgIHRoaXMuYWRkRGF0ZSgtMSk7DQogICAgfSwNCiAgICBuZXh0RGF5KCl7DQogICAgICAgIHRoaXMuYWRkRGF0ZSgxKTsNCiAgICB9LA0KICAgIHByZXZIb3VyKCl7DQogICAgICAgIHRoaXMuYWRkSG91cnMoLTEpOw0KICAgIH0sDQogICAgbmV4dEhvdXIoKXsNCiAgICAgICAgdGhpcy5hZGRIb3VycygxKTsNCiAgICB9LA0KICAgIC8v56uL5Y2z5YWz6Zet5pel5pyf6Z2i5p2/DQogICAgaW1tRW5kQ2hvaWNlKCkgew0KICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IHRydWU7DQogICAgICB0aGlzLmRheVBhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLm1vbnRoUGFuZWxJc1Nob3cgPSBmYWxzZTsNCiAgICAgIHRoaXMud2Vla1BhbmVsSXNTaG93ID0gZmFsc2U7DQogICAgICB0aGlzLmhvdXJQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgICAgdGhpcy5taW51dGVQYW5lbElzU2hvdyA9IGZhbHNlOw0KICAgIH0sDQogICAgLy/ngrnlh7vpnaLmnb8NCiAgICBwYW5lbENsaWNrOiBmdW5jdGlvbigpIHsNCiAgICB9LA0KICAgIC8v5pel5pyf5Yqg5YePDQogICAgYWRkRGF0ZTpmdW5jdGlvbihkYXlzKXsNCiAgICAgICBsZXQgZGF0ZSA9IHRoaXMueWVhciArICItIiArIHRoaXMubW9udGggKyAiLSIgKyB0aGlzLmRheTsNCiAgICAgICBsZXQgZCA9IG5ldyBEYXRlKGRhdGUucmVwbGFjZSgvLS9nLCAiLyIpKTsNCiAgICAgICBkLnNldERhdGUoZC5nZXREYXRlKCkrZGF5cyk7DQogICAgICAgdGhpcy55ZWFyID0gZC5nZXRGdWxsWWVhcigpOw0KICAgICAgIHRoaXMubW9udGggPSBkLmdldE1vbnRoKCkrMTsNCiAgICAgICB0aGlzLmRheSA9IGQuZ2V0RGF0ZSgpOw0KICAgICB9LA0KICAgICAvL+aXtumXtOWKoOWHjw0KICAgICBhZGRIb3VyczpmdW5jdGlvbihob3VyKXsNCiAgICAgICAgbGV0IGRhdGUgPSB0aGlzLnllYXIgKyAiLSIgKyB0aGlzLm1vbnRoICsgIi0iICsgdGhpcy5kYXkgKyAiICIgKyB0aGlzLmhvdXIgKyAiOiIgKyB0aGlzLm1pbnV0ZSArICI6IiArIHRoaXMuc2Vjb25kOw0KICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKGRhdGUucmVwbGFjZSgvLS9nLCAiLyIpKTsNCiAgICAgICAgZC5zZXRIb3VycyhkLmdldEhvdXJzKCkraG91cik7DQogICAgICAgIHRoaXMueWVhciA9IGQuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgdGhpcy5tb250aCA9IGQuZ2V0TW9udGgoKSsxOw0KICAgICAgICB0aGlzLmRheSA9IGQuZ2V0RGF0ZSgpOw0KICAgICAgICB0aGlzLmhvdXIgPSBkLmdldEhvdXJzKCk7DQogICAgfSwNCiAgICAvL+a4hemZpOaXpeacnw0KICAgIGNsZWFyRGF0YTogZnVuY3Rpb24oKSB7DQogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsICIiKTsNCiAgICAgIC8vdGhpcy5pY29uQ2xhc3MgPSAiZWwtaWNvbi1kYXRlIjsNCiAgICB9LA0KICAgIC8v6YeN572u5pel5pyfDQogICAgcmVzZXREYXRhOiBmdW5jdGlvbigpIHsNCiAgICAgIGlmICghIXRoaXMudmFsdWUpIHsNCiAgICAgICAgdmFyIGRhdGVPYmogPSBuZXcgRGF0ZSh0aGlzLnZhbHVlLnJlcGxhY2UoLy0vZywgIi8iKSkNCiAgICAgICAgdGhpcy55ZWFyID0gZGF0ZU9iai5nZXRGdWxsWWVhcigpOw0KICAgICAgICB0aGlzLm1vbnRoID0gZGF0ZU9iai5nZXRNb250aCgpKzE7DQogICAgICAgIHRoaXMuZGF5ID0gZGF0ZU9iai5nZXREYXRlKCk7DQogICAgICAgIHRoaXMuaG91ciA9IGRhdGVPYmouZ2V0SG91cnMoKTsNCiAgICAgICAgdGhpcy5taW51dGUgPSBkYXRlT2JqLmdldE1pbnV0ZXMoKTsNCiAgICAgICAgdGhpcy5zZWNvbmQgPSBkYXRlT2JqLmdldFNlY29uZHMoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5pel5pyf5pe26Ze05qC85byP5YyW6L6T5Ye6DQogICAgZGF0ZVRpbWVGb3JtYXQ6ZnVuY3Rpb24oeSwgTSwgZCwgaCwgbSwgcywgZm0pIHsNCiAgICAgIGlmICghZm0pIHsNCiAgICAgICAgZm0gPSAneXl5eS1NTS1kZCBoaDptbTpzcyc7DQogICAgICB9DQogICAgICBNID0gKCcwJyArIChwYXJzZUludChNKSkpLnNsaWNlKC0yKTsNCiAgICAgIGQgPSAoJzAnICsgZCkuc2xpY2UoLTIpOw0KICAgICAgaCA9ICgnMCcgKyBoKS5zbGljZSgtMik7DQogICAgICBtID0gKCcwJyArIG0pLnNsaWNlKC0yKTsNCiAgICAgIHMgPSAoJzAnICsgcykuc2xpY2UoLTIpOw0KICAgICAgcmV0dXJuIGZtLnJlcGxhY2UoJ3l5eXknLCB5KQ0KICAgICAgICAucmVwbGFjZSgnWVlZWScsIHkpDQogICAgICAgIC5yZXBsYWNlKCdNTScsIE0pDQogICAgICAgIC5yZXBsYWNlKCdkZCcsIGQpDQogICAgICAgIC5yZXBsYWNlKCdoaCcsIGgpDQogICAgICAgIC5yZXBsYWNlKCdtbScsIG0pDQogICAgICAgIC5yZXBsYWNlKCdzcycsIHMpOw0KICAgIH0sDQogICAgY2hhbmdlSWNvbkNsb3NlICh0eXBlKSB7DQogICAgICBpZighIXRoaXMudmFsdWUgJiYgJ2luJyl7DQogICAgICAgIHRoaXMuaWNvblN0YXRlID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pY29uQ2xhc3MgPSAiZWwtaWNvbi1jbG9zZSI7DQogICAgICB9DQogICAgfSwNCiAgICBjaGFuZ2VJY29uRGF0ZSAodHlwZSkgew0KICAgICAgdGhpcy5pY29uU3RhdGUgPSBmYWxzZTsNCiAgICAgIHRoaXMuaWNvbkNsYXNzID0gImVsLWljb24tZGF0ZSI7DQogICAgfQ0KICB9DQp9DQpBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihpdGVtKSB7DQogIHZhciBpc0V4c2l0ID0gZmFsc2U7DQogIHZhciBMZW4gPSB0aGlzLmxlbmd0aDsNCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBMZW47IGkrKykgew0KICAgIHZhciBhcnJJdGVtID0gdGhpc1tpXTsNCiAgICBpZiAoaXRlbSA9PSBhcnJJdGVtKSB7DQogICAgICBpc0V4c2l0ID0gdHJ1ZTsNCiAgICAgIGJyZWFrOw0KICAgIH0NCiAgfQ0KICByZXR1cm4gaXNFeHNpdDsNCn0NCmZ1bmN0aW9uIGdldERheUFycihsMSwgbDIpIHsNCiAgdmFyIG1haW5BcnIgPSBuZXcgQXJyYXkoKTsNCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsMTsgaSsrKSB7DQogICAgdmFyIHN1YkFyciA9IG5ldyBBcnJheSgpOw0KICAgIGZvciAodmFyIGogPSAwOyBqIDwgbDI7IGorKykgew0KICAgICAgc3ViQXJyLnB1c2goJycpOw0KICAgIH0NCiAgICBtYWluQXJyLnB1c2goc3ViQXJyKTsNCiAgfQ0KICByZXR1cm4gbWFpbkFycjsNCn0NCmZ1bmN0aW9uIGZvcm1hdERpZyhudW0pew0KICAgIHJldHVybiBudW0+OT8nJytudW06JzAnK251bTsNCn0NCmZ1bmN0aW9uIGZvcm1hdERhdGUobWlsbCl7DQogICAgdmFyIHk9bmV3IERhdGUobWlsbCk7DQogICAgbGV0IHJhd3M9IFsNCiAgICAgICAgeS5nZXRGdWxsWWVhcigpLA0KICAgICAgICBmb3JtYXREaWcoeS5nZXRNb250aCgpKzEpLA0KICAgICAgICBmb3JtYXREaWcoeS5nZXREYXRlKCkpLA0KICAgICAgICAvL3kuZ2V0RGF5KCl8fDcNCiAgICBdOw0KICAgIGxldCBmb3JtYXQ9WyctJywnLScsJyddOw0KICAgIHJldHVybiBTdHJpbmcucmF3KHtyYXc6cmF3c30sLi4uZm9ybWF0KTsNCn0NCmZ1bmN0aW9uKiBjcmVhdGVXZWVrcyh5ZWFyKXsNCiAgICBjb25zdCBPTkVfREFZPTI0KjM2MDAqMTAwMDsNCiAgICBsZXQgc3RhcnQ9bmV3IERhdGUoeWVhciwwLDEpLA0KICAgICAgICAgICBlbmQ9bmV3IERhdGUoeWVhciwxMSwzMSk7DQogICAgbGV0IGZpcnN0RGF5PXN0YXJ0LmdldERheSgpfHwgNywNCiAgICAgICAgICAgIGxhc3REYXk9ZW5kLmdldERheSgpfHw3Ow0KICAgIGxldCBzdGFydFRpbWU9K3N0YXJ0LA0KICAgICAgICAgICAgZW5kVGltZT1zdGFydFRpbWUrKDctZmlyc3REYXkpKk9ORV9EQVksDQogICAgICAgICAgICBfZW5kVGltZT1lbmQtKDctbGFzdERheSkqT05FX0RBWTsNCiAgICBpZihmaXJzdERheSA9PSAxKXsvL+S7peW9k+W5tOesrOS4gOS4quWRqOS4gOS4uuesrOS4gOWRqA0KICAgICAgeWllbGQgW3N0YXJ0VGltZSxlbmRUaW1lXTsNCiAgICB9DQogICAgc3RhcnRUaW1lPWVuZFRpbWUrT05FX0RBWTsNCiAgICBlbmRUaW1lPWVuZFRpbWUrNypPTkVfREFZOw0KICAgIHdoaWxlKGVuZFRpbWU8X2VuZFRpbWUpew0KICAgICAgICB5aWVsZCBbc3RhcnRUaW1lLGVuZFRpbWVdOw0KICAgICAgICBzdGFydFRpbWU9ZW5kVGltZStPTkVfREFZOw0KICAgICAgICBlbmRUaW1lPWVuZFRpbWUrNypPTkVfREFZOw0KICAgIH0NCiAgICAvL3lpZWxkIFtzdGFydFRpbWUsK2VuZF07DQogICAgeWllbGQgW3N0YXJ0VGltZSxlbmRUaW1lXTsvL+acgOWQjuS4gOWRqOS4uuW9k+W5tOeahOacgOWQjuS4gOS4quWRqOS4gA0KfQ0KZnVuY3Rpb24gZ2V0V2Vla0RhdGEoeWVhcil7DQogIGxldCBpbmRleD0xOw0KICBsZXQgbGlzdCA9IGNyZWF0ZVdlZWtzKHllYXIpOw0KICBsZXQgd2Vla0xpc3QgPSBbXTsNCiAgZm9yKGxldCBpIG9mIGxpc3Qpew0KICAgICAgbGV0IHN0YXJ0PWlbMF0sDQogICAgICAgICAgICAgIGVuZD1pWzFdOw0KICAgICAgbGV0IHdlZWtJbmRleCA9IGZvcm1hdERpZyhpbmRleCsrKTsNCiAgICAgIGxldCB3ZWVrU3RhcnQgPSBmb3JtYXREYXRlKHN0YXJ0KTsNCiAgICAgIGxldCB3ZWVrRW5kID0gZm9ybWF0RGF0ZShlbmQpOw0KICAgICAgbGV0IHdlZWtTaG9ydFRleHQgPSAi56ysIit3ZWVrSW5kZXgrIuWRqCAiK3dlZWtTdGFydDsNCiAgICAgIGxldCB3ZWVrVGV4dCA9ICLnrKwiK3dlZWtJbmRleCsi5ZGoICIrd2Vla1N0YXJ0KyIgfiAiK3dlZWtFbmQ7DQogICAgICBsZXQgd2Vla1N0YXJ0RGF0ZSA9IHN0YXJ0Ow0KICAgICAgbGV0IHdlZWtFbmREYXRlID0gZW5kOw0KICAgICAgd2Vla0xpc3QucHVzaCh7DQogICAgICAgIHdlZWtJbmRleCwNCiAgICAgICAgd2Vla1N0YXJ0LA0KICAgICAgICB3ZWVrRW5kLA0KICAgICAgICB3ZWVrU2hvcnRUZXh0LA0KICAgICAgICB3ZWVrVGV4dCwNCiAgICAgICAgd2Vla1N0YXJ0RGF0ZSwNCiAgICAgICAgd2Vla0VuZERhdGUNCiAgICAgIH0pOw0KICB9DQogIHJldHVybiB3ZWVrTGlzdDsNCn0NCg=="},{"version":3,"sources":["Datepicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Datepicker.vue","sourceRoot":"src/components/gantt","sourcesContent":["<template>\r\n<div  @mouseenter=\"changeIconClose()\" @mouseleave=\"changeIconDate()\" @click.stop=\"panelClick\" class=\"vue-datepicker\">\r\n  <i v-show=\"iconState\" @click=\"clearData()\" class=\"zm_data_ic\" :class=\"iconClass\"></i>\r\n  <span v-show=\"this.type == 'week'\"  @click=\"startChoice\" class=\"week-input\">{{weekShortText}}</span>\r\n  <span v-show=\"this.type == 'month'\"  @click=\"startChoice\" class=\"month-input\">{{monthShortText}}</span>\r\n  <span v-show=\"this.type == 'day'\"  @click=\"startChoice\" class=\"day-input\">{{dayShortText}}</span>\r\n  <span v-show=\"this.type == 'hour'\"  @click=\"startChoice\" class=\"hour-input\">{{hourShortText}}</span>\r\n  <span v-show=\"this.type == 'minute'\"  @click=\"startChoice\" class=\"minute-input\">{{minuteShortText}}</span>\r\n  <input  readonly=\"readonly\" type=\"text\" class=\"form-control  backWhite\" autocomplete=\"off\" disableautocomplete :name=\"field\" :id=\"field\" :value=\"value\" :placeholder=\"placeholder\" @focus=\"startChoice\" @click=\"startChoice\"\r\n      ref=\"input\">\r\n  <div class=\"vue-datepicker-panels\" v-show=\"dayPanelIsShow || monthPanelIsShow || weekPanelIsShow || hourPanelIsShow || minutePanelIsShow\">\r\n    <!--年月选择-->\r\n    <div class=\"vue-datepicker-panel\" v-show=\"monthPanelIsShow\">\r\n      <div class=\"vue-datepicker-month\">\r\n        <a class=\"vue-datepicker-prev\" @click=\"prevYear\"> &lt; </a>\r\n        <span>{{ year }}年</span>\r\n        <a class=\"vue-datepicker-next\" @click=\"nextYear\"> &gt; </a>\r\n      </div>\r\n      <table class=\"vue-datepicker-tb2\">\r\n        <col width=\"33%\" />\r\n        <col width=\"33%\" />\r\n        <col width=\"33%\" />\r\n        <tbody>\r\n          <tr :key=\"monthArr.indexOf(season)\" v-for=\"season in monthArr\" track-by=\"$index\">\r\n            <td :key=\"season.indexOf(m)\"  v-for=\"m in season\" track-by=\"$index\" @click=\"choiceMonth(m.id, $event)\" :class=\"classMonth(m.id)\">\r\n              <span>{{ m.name }}</span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--周选择-->\r\n    <div class=\"vue-datepicker-panel\" v-show=\"weekPanelIsShow\">\r\n      <div class=\"vue-datepicker-month\">\r\n        <a class=\"vue-datepicker-prev\" @click=\"prevYear\"> &lt; </a>\r\n        <span>{{ year }}年</span>\r\n        <a class=\"vue-datepicker-next\" @click=\"nextYear\"> &gt; </a>\r\n      </div>\r\n      <div class=\"week-content\">\r\n        <div v-for=\"(item,index) in weekData\" :key=\"index\" :class=\"classWeek(item.weekIndex)\" @click=\"choiceWeek(item.weekIndex,$event,item.weekStartDate,item.weekEndDate,item.weekShortText)\" :id=\"'week'+item.weekIndex\" class=\"week-item\">\r\n          {{item.weekText}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--日期选择-->\r\n    <div class=\"vue-datepicker-panel\" v-show=\"dayPanelIsShow\">\r\n      <div class=\"vue-datepicker-month\">\r\n        <a class=\"vue-datepicker-prev\" @click=\"prevMonth\"> &lt; </a>\r\n        <span class=\"vue-datepicker-btn\" @click=\"startChoiceMonth\">{{ year }}年 {{ month }}月</span>\r\n        <a class=\"vue-datepicker-next\" @click=\"nextMonth\"> &gt; </a>\r\n      </div>\r\n      <table class=\"vue-datepicker-tb\">\r\n        <thead>\r\n          <tr>\r\n            <th :key=\"langConf.week.indexOf(d)\" v-for=\"d in langConf.week\">{{ d }}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr :key=\"mIndex\" v-for=\"(m, mIndex) in monthDays\" track-by=\"$index\">\r\n            <td :key=\"dIndex\" v-for=\"(d, dIndex) in m\" track-by=\"$index\" @click=\"choiceDay(d, $event)\" :class=\"classDay(d)\">\r\n              <span>{{ d }}</span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--小时选择-->\r\n    <div class=\"vue-datepicker-panel\" v-show=\"hourPanelIsShow\">\r\n      <div class=\"vue-datepicker-month\">\r\n        <a class=\"vue-datepicker-prev\" @click=\"prevDay\"> &lt; </a>\r\n        <span class=\"vue-datepicker-btn\" @click=\"startChoiceDate\">{{ year }}年 {{ month }}月 {{day}}日</span>\r\n        <a class=\"vue-datepicker-next\" @click=\"nextDay\"> &gt; </a>\r\n      </div>\r\n      <table class=\"vue-datepicker-tb2\">\r\n        <tbody>\r\n            <thead></thead>\r\n          <tr>\r\n             <td :class=\"classHour(0)\"><span @click=\"choiceHour(0, $event)\"> 0:00 </span></td>\r\n             <td :class=\"classHour(1)\"><span @click=\"choiceHour(1, $event)\"> 1:00 </span></td>\r\n             <td :class=\"classHour(2)\"><span @click=\"choiceHour(2, $event)\"> 2:00 </span></td>\r\n             <td :class=\"classHour(3)\"><span @click=\"choiceHour(3, $event)\"> 3:00 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classHour(4)\"><span @click=\"choiceHour(4, $event)\"> 4:00 </span></td>\r\n              <td :class=\"classHour(5)\"><span @click=\"choiceHour(5, $event)\"> 5:00 </span></td>\r\n              <td :class=\"classHour(6)\"><span @click=\"choiceHour(6, $event)\"> 6:00 </span></td>\r\n              <td :class=\"classHour(7)\"><span @click=\"choiceHour(7, $event)\"> 7:00 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classHour(8)\"><span @click=\"choiceHour(8, $event)\"> 8:00 </span></td>\r\n              <td :class=\"classHour(9)\"><span @click=\"choiceHour(9, $event)\"> 9:00 </span></td>\r\n              <td :class=\"classHour(10)\"><span @click=\"choiceHour(10, $event)\"> 10:00 </span></td>\r\n              <td :class=\"classHour(11)\"><span @click=\"choiceHour(11, $event)\"> 11:00 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classHour(12)\"><span @click=\"choiceHour(12, $event)\"> 12:00 </span></td>\r\n              <td :class=\"classHour(13)\"><span @click=\"choiceHour(13, $event)\"> 13:00 </span></td>\r\n              <td :class=\"classHour(14)\"><span @click=\"choiceHour(14, $event)\"> 14:00 </span></td>\r\n              <td :class=\"classHour(15)\"><span @click=\"choiceHour(15, $event)\"> 15:00 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classHour(16)\"><span @click=\"choiceHour(16, $event)\"> 16:00 </span></td>\r\n              <td :class=\"classHour(17)\"><span @click=\"choiceHour(17, $event)\"> 17:00 </span></td>\r\n              <td :class=\"classHour(18)\"><span @click=\"choiceHour(18, $event)\"> 18:00 </span></td>\r\n              <td :class=\"classHour(19)\"><span @click=\"choiceHour(19, $event)\"> 19:00 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classHour(20)\"><span @click=\"choiceHour(20, $event)\"> 20:00 </span></td>\r\n              <td :class=\"classHour(21)\"><span @click=\"choiceHour(21, $event)\"> 21:00 </span></td>\r\n              <td :class=\"classHour(22)\"><span @click=\"choiceHour(22, $event)\"> 22:00 </span></td>\r\n              <td :class=\"classHour(23)\"><span @click=\"choiceHour(23, $event)\"> 23:00 </span></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--分钟选择-->\r\n    <div class=\"vue-datepicker-panel\" v-show=\"minutePanelIsShow\">\r\n      <div class=\"vue-datepicker-month\">\r\n        <a class=\"vue-datepicker-prev\" @click=\"prevHour\"> &lt; </a>\r\n        <span class=\"vue-datepicker-btn\" @click=\"startChoiceHour\">{{ year }}年 {{ month }}月 {{ day }}日 {{ hour }}时</span>\r\n        <a class=\"vue-datepicker-next\" @click=\"nextHour\"> &gt; </a>\r\n      </div>\r\n      <table class=\"vue-datepicker-tb2\">\r\n        <tbody>\r\n            <thead></thead>\r\n          <tr>\r\n             <td :class=\"classMinute(0)\"><span @click=\"choiceMinute(0, $event)\"> 00 </span></td>\r\n             <td :class=\"classMinute(5)\"><span @click=\"choiceMinute(5, $event)\"> 05 </span></td>\r\n             <td :class=\"classMinute(10)\"><span @click=\"choiceMinute(10, $event)\"> 10 </span></td>\r\n             <td :class=\"classMinute(15)\"><span @click=\"choiceMinute(15, $event)\"> 15 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classMinute(20)\"><span @click=\"choiceMinute(20, $event)\"> 20 </span></td>\r\n              <td :class=\"classMinute(25)\"><span @click=\"choiceMinute(25, $event)\"> 25 </span></td>\r\n              <td :class=\"classMinute(30)\"><span @click=\"choiceMinute(30, $event)\"> 30 </span></td>\r\n              <td :class=\"classMinute(35)\"><span @click=\"choiceMinute(35, $event)\"> 35 </span></td>\r\n          </tr>\r\n          <tr>\r\n              <td :class=\"classMinute(40)\"><span @click=\"choiceMinute(40, $event)\"> 40 </span></td>\r\n              <td :class=\"classMinute(45)\"><span @click=\"choiceMinute(45, $event)\"> 45 </span></td>\r\n              <td :class=\"classMinute(50)\"><span @click=\"choiceMinute(50, $event)\"> 50 </span></td>\r\n              <td :class=\"classMinute(55)\"><span @click=\"choiceMinute(55, $event)\"> 55 </span></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    field: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: '',\r\n      twoWay: true\r\n    },\r\n    maxdate:{\r\n      type: String,\r\n      default: ''\r\n    },\r\n    mindate:{\r\n      type: String,\r\n      default: ''\r\n    },\r\n    format: {\r\n      type: String,\r\n      default: 'yyyy-mm-dd'\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    weektype:{\r\n      type: String,\r\n      default: 'start'\r\n    },\r\n    type:{\r\n      type: String,\r\n      default: 'minute' //minute表示选择到分钟,hour表示选择到小时,day表示选择到天,month表示选择到月\r\n    },\r\n    conf: {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    let {\r\n      value,\r\n      conf\r\n    } = this,\r\n    dateObj, year, month, day, hour, minute, second,\r\n    langConf = {\r\n      week: ['日', '一', '二', '三', '四', '五', '六'],\r\n      month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']\r\n    };\r\n    if (value) {\r\n      dateObj = new Date(value.replace(/-/g, \"/\"));\r\n    } else {\r\n      dateObj = new Date();\r\n    }\r\n    if (conf) {\r\n      langConf = Object.assign(langConf, conf);\r\n    }\r\n    year = dateObj.getFullYear();\r\n    month = dateObj.getMonth()+1;\r\n    day = dateObj.getDate();\r\n    hour = dateObj.getHours();\r\n    minute = dateObj.getMinutes();\r\n    second = dateObj.getSeconds();\r\n    return {\r\n      langConf,\r\n      dayPanelIsShow: false,\r\n      weekPanelIsShow:false,\r\n      monthPanelIsShow: false,\r\n      hourPanelIsShow:false,\r\n      minutePanelIsShow:false,\r\n      isMouseOver: false,\r\n      iconClass:'el-icon-date',\r\n      iconState:false,\r\n      week:null,\r\n      weekShortText:\"\",\r\n      monthShortText:\"\",\r\n      dayShortText:\"\",\r\n      hourShortText:\"\",\r\n      minuteShortText:\"\",\r\n      weekData:[],\r\n      year,\r\n      month,\r\n      day,\r\n      hour,\r\n      minute,\r\n      second\r\n    };\r\n  },\r\n  watch:{\r\n    type(val){\r\n      if(val == \"week\"){\r\n        this.weekData = getWeekData(this.year);\r\n        let time = new Date(this.value);\r\n        this.weekShortText = this.getWeekShortText(time.getTime());\r\n      }\r\n    },\r\n    value(val){\r\n      if(!!val){\r\n        let time = new Date(val);\r\n        let timeDate = this.dateTimeFormat(time.getFullYear(),time.getMonth()+1,time.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),'yyyy-MM-dd hh:mm:ss');\r\n        this.monthShortText = this.dateTimeFormat(time.getFullYear(),time.getMonth()+1,time.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),'yyyy-MM');\r\n        this.dayShortText = this.dateTimeFormat(time.getFullYear(),time.getMonth()+1,time.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),'yyyy-MM-dd');\r\n        this.hourShortText = this.dateTimeFormat(time.getFullYear(),time.getMonth()+1,time.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),'yyyy-MM-dd hh');\r\n        this.minuteShortText = this.dateTimeFormat(time.getFullYear(),time.getMonth()+1,time.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),'yyyy-MM-dd hh:mm');\r\n        this.weekShortText = this.getWeekShortText(time.getTime());\r\n        this.year = time.getFullYear();\r\n        this.month = time.getMonth()+1;\r\n        this.day = time.getDate();\r\n        this.hour = time.getHours();\r\n        this.minute = time.getMinutes();\r\n        this.second = time.getSeconds();\r\n      }else{\r\n        this.monthShortText = this.placeholder;\r\n        this.dayShortText = this.placeholder;\r\n        this.hourShortText = this.placeholder;\r\n        this.minuteShortText = this.placeholder;\r\n        this.weekShortText = this.placeholder;\r\n        this.year = -1;\r\n        this.month = -1;\r\n        this.day = -1;\r\n        this.hour = -1;\r\n        this.minute = -1;\r\n        this.second = -1;\r\n      }\r\n    }\r\n  },\r\n  mounted: function() {\r\n      if(this.type == \"week\"){\r\n        this.weekData = getWeekData(this.year);\r\n      }\r\n      let that = this;\r\n      document.body.addEventListener(\"click\",function(){\r\n          that.immEndChoice();\r\n      });\r\n      this.weekShortText = this.placeholder;\r\n      this.monthShortText = this.placeholder;\r\n      this.dayShortText = this.placeholder;\r\n      this.hourShortText = this.placeholder;\r\n      this.minuteShortText = this.placeholder;\r\n  },\r\n  computed: {\r\n    //\t日期二维数组（3*4），渲染用\r\n    monthArr() {\r\n      let {\r\n        month\r\n      } = this.langConf,\r\n        res = [];\r\n      for (let i = 0; i <= 3; i++) {\r\n        let temp = [];\r\n        for (let j = 1; j <= 3; j++) {\r\n          let id = i * 3 + j - 1;\r\n          temp.push({\r\n            id,\r\n            name: month[id]\r\n          });\r\n        }\r\n        res.push(temp);\r\n      }\r\n      return res;\r\n    },\r\n    // 当前日期\r\n    curr() {\r\n      let {\r\n        value\r\n      } = this,\r\n      dateObj,\r\n      year = \"\",\r\n      month = \"\",\r\n      day = \"\",\r\n      hour = \"\",\r\n      minute = \"\",\r\n      second = \"\";\r\n      if (value) {\r\n        dateObj = new Date(value.replace(/-/g, \"/\"));\r\n      } else {\r\n        dateObj = new Date();\r\n      }\r\n      year = dateObj.getFullYear();\r\n      month = dateObj.getMonth()+1;\r\n      day = dateObj.getDate();\r\n      hour = dateObj.getHours();\r\n      minute = dateObj.getMinutes();\r\n      second = dateObj.getSeconds();\r\n      return {\r\n        year,\r\n        month,\r\n        day,\r\n        hour,\r\n        minute,\r\n        second\r\n      };\r\n    },\r\n    // 返回当前月的天数数组\r\n    monthDays() {\r\n      let {\r\n        year,\r\n        month\r\n      } = this,\r\n      dayNum;\r\n      //month++;\r\n      // 判断一个月有几天\r\n      if (month == 2) {\r\n        if (year % 4 == 0 && !(year % 100 == 0 && year % 400 != 0)) {\r\n          dayNum = 29;\r\n        } else {\r\n          dayNum = 28;\r\n        }\r\n      } else {\r\n        if ([1, 3, 5, 7, 8, 10, 12].includes(month)) {\r\n          dayNum = 31;\r\n        } else {\r\n          dayNum = 30;\r\n        }\r\n      }\r\n      // 生成对应星期的日期数组\r\n      let firstDay = new Date(year, month - 1, 1).getDay(),\r\n        dayArr = getDayArr(6, 7),\r\n        row = 0,\r\n        col = firstDay;\r\n      for (let d = 1; d <= dayNum; d++) {\r\n        dayArr[row][col] = d;\r\n        if (col < 6) {\r\n          col++;\r\n        } else {\r\n          col = 0;\r\n          row++;\r\n        }\r\n      }\r\n      return dayArr;\r\n    },\r\n    now() {\r\n      let dateObj = new Date()\r\n      let year = dateObj.getFullYear()\r\n      let month = dateObj.getMonth()+1\r\n      let day = dateObj.getDate()\r\n      return {\r\n        year,\r\n        month,\r\n        day\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n      //点击文本框弹出日期选择\r\n      startChoice(e) {\r\n        if (e && e.type == 'keypress') {\r\n          e.returnValue = false;\r\n        }\r\n        if (!this.dayPanelIsShow && !this.monthPanelIsShow && !this.weekPanelIsShow && !this.hourPanelIsShow && !this.minutePanelIsShow) {\r\n          switch (this.type) {\r\n            case \"month\":\r\n              this.startChoiceMonth();\r\n              break;\r\n            case \"week\":\r\n              this.startChoiceWeek();\r\n              break;\r\n            case \"date\":\r\n            case \"hour\":\r\n            case \"minute\":\r\n              this.startChoiceDate();\r\n              break;\r\n            default:\r\n              this.startChoiceDate();\r\n          }\r\n        }\r\n      },\r\n      illegal (event) {\r\n        let target = event.target.parentNode;\r\n        let className = target.getAttribute('class');\r\n        if(!!className){\r\n          return className.toString().indexOf('z-invalid') != -1;\r\n        }\r\n        return false;\r\n      },\r\n      choiceMonth(m,event) {\r\n        if(this.illegal(event)){\r\n          return;\r\n        }\r\n        this.month = m+1;\r\n        if(this.day != 1){\r\n          //说明是最后用户希望取办呢与最后一天\r\n          let myDate = new Date(this.year, this.month, 0);\r\n          this.day = myDate.getDate();\r\n        }\r\n        console.log(\"FGHDD:\",this.day)\r\n        if(this.type == \"month\"){\r\n          this.monthShortText = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM');\r\n          let day = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd');\r\n          this.loadValue();\r\n          this.chooseMonth(this.monthShortText,day);\r\n          return;\r\n        }\r\n        this.startChoiceDate();\r\n      },\r\n      choiceWeek(w,event,sDate,eDate,shortText) {\r\n        if(this.illegal(event)){\r\n          return;\r\n        }\r\n        this.week = w;\r\n        this.weekShortText = shortText;\r\n        let startDate = {},\r\n            startDatetime = new Date(sDate);\r\n        startDate.year = startDatetime.getFullYear();\r\n        startDate.month = startDatetime.getMonth()+1;\r\n        startDate.day = startDatetime.getDate();\r\n        startDate.hour = startDatetime.getHours();\r\n        startDate.minute = startDatetime.getMinutes();\r\n        startDate.second = startDatetime.getSeconds();\r\n        let endDate = {},\r\n            endDatetime = new Date(eDate);\r\n        endDate.year = endDatetime.getFullYear();\r\n        endDate.month = endDatetime.getMonth()+1;\r\n        endDate.day = endDatetime.getDate();\r\n        endDate.hour = endDatetime.getHours();\r\n        endDate.minute = endDatetime.getMinutes();\r\n        endDate.second = endDatetime.getSeconds();\r\n        if(this.weektype == \"start\"){\r\n          this.year = startDate.year;\r\n          this.month = startDate.month;\r\n          this.day = startDate.day;\r\n          this.hour = 0;\r\n          this.minute = 0;\r\n          this.second = 0;\r\n          console.log(this.year, this.month, this.day, this.hour, this.minute, this.second)\r\n        }\r\n        if(this.weektype == \"end\"){\r\n          this.year = endDate.year;\r\n          this.month = endDate.month;\r\n          this.day = endDate.day;\r\n          this.hour = 23;\r\n          this.minute = 59;\r\n          this.second = 59;\r\n        }\r\n        let sday = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd');\r\n        let eday = this.dateTimeFormat(endDate.year, endDate.month, endDate.day, endDate.hour, endDate.minute, endDate.second, 'yyyy-MM-dd');\r\n        this.loadValue();\r\n        this.chooseWeek(sday,eday,w);\r\n      },\r\n      clearHolder(){\r\n        this.weekShortText = this.placeholder;\r\n        this.monthShortText = this.placeholder;\r\n        this.dayShortText = this.placeholder;\r\n        this.hourShortText = this.placeholder;\r\n        this.minuteShortText = this.placeholder;\r\n      },\r\n      choiceDay(d,event) {\r\n        if(this.illegal(event)){\r\n          return;\r\n        }\r\n        this.day = d;\r\n        if(this.type == \"day\"){\r\n          this.dayShortText = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd');\r\n          let day = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd');\r\n          this.loadValue();\r\n          this.chooseDay(this.dayShortText,day);\r\n          return;\r\n        }\r\n        this.startChoiceHour();\r\n      },\r\n      choiceHour(h,event){\r\n          if(this.illegal(event)){\r\n            return;\r\n          }\r\n          this.hour = h;\r\n          if(this.type == \"hour\"){\r\n            this.hourShortText = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh');\r\n            let day = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd');\r\n            this.loadValue();\r\n            this.chooseHour(this.hourShortText,day);\r\n            return;\r\n          }\r\n          this.startChoiceMinute();\r\n      },\r\n      choiceMinute(M,event){\r\n          if(this.illegal(event)){\r\n            return;\r\n          }\r\n          this.minute = M;\r\n          if(this.type == \"minute\"){\r\n            this.minuteShortText = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh:mm');\r\n            let day = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd');\r\n            this.loadValue();\r\n            this.chooseMinute(this.minuteShortText,day);\r\n            return;\r\n          }\r\n      },\r\n      chooseMonth(date,day){\r\n        let time = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh:mm:ss');\r\n        let data = {\r\n          date,\r\n          day,\r\n          time\r\n        };\r\n        this.$emit('select-time','month', data);\r\n      },\r\n      chooseWeek(s,e,w){\r\n        let time = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh:mm:ss');\r\n        let data = {\r\n          weekIndex:w,\r\n          monday:s,\r\n          sunday:e,\r\n          time\r\n        };\r\n        this.$emit('select-time','week', data);\r\n      },\r\n      chooseDay(date,day){\r\n        let time = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh:mm:ss');\r\n        let data = {\r\n          date,\r\n          day,\r\n          time\r\n        };\r\n        this.$emit('select-time','day', data);\r\n      },\r\n      chooseHour(date,day){\r\n        let time = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh:mm:ss');\r\n        let data = {\r\n          date,\r\n          day,\r\n          time\r\n        };\r\n        this.$emit('select-time','hour', data);\r\n      },\r\n      chooseMinute(date,day){\r\n        let time = this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second, 'yyyy-MM-dd hh:mm:ss');\r\n        let data = {\r\n          date,\r\n          day,\r\n          time\r\n        };\r\n        this.$emit('select-time','minute', data);\r\n      },\r\n      loadValue(){\r\n        this.$emit('input', this.dateTimeFormat(this.year, this.month, this.day, this.hour, this.minute, this.second));\r\n        this.immEndChoice();\r\n      },\r\n    // 年份+月份选择\r\n    startChoiceMonth() {\r\n      this.monthPanelIsShow = true;\r\n      this.dayPanelIsShow = false;\r\n      this.hourPanelIsShow = false;\r\n      this.minutePanelIsShow = false;\r\n      this.weekPanelIsShow = false;\r\n    },\r\n    startChoiceWeek() {\r\n      this.monthPanelIsShow = false;\r\n      this.weekPanelIsShow = true;\r\n      this.dayPanelIsShow = false;\r\n      this.hourPanelIsShow = false;\r\n      this.minutePanelIsShow = false;\r\n    },\r\n    startChoiceDate() {\r\n      this.monthPanelIsShow = false;\r\n      this.dayPanelIsShow = true;\r\n      this.hourPanelIsShow = false;\r\n      this.minutePanelIsShow = false;\r\n      this.weekPanelIsShow = false;\r\n    },\r\n    startChoiceHour() {\r\n      this.monthPanelIsShow = false;\r\n      this.dayPanelIsShow = false;\r\n      this.hourPanelIsShow = true;\r\n      this.minutePanelIsShow = false;\r\n      this.weekPanelIsShow = false;\r\n    },\r\n    startChoiceMinute() {\r\n      this.monthPanelIsShow = false;\r\n      this.dayPanelIsShow = false;\r\n      this.hourPanelIsShow = false;\r\n      this.minutePanelIsShow = true;\r\n      this.weekPanelIsShow = false;\r\n    },\r\n    // 样式\r\n    classMonth(m) {\r\n      let that = this,\r\n        {\r\n          month,\r\n          year,\r\n          curr\r\n        } = that;\r\n      return {\r\n        'z-on': m == (month-1) && curr.year == year,\r\n        'z-existed': true,\r\n        'z-invalid':this.getZinvalid({m:m})\r\n      };\r\n    },\r\n    classDay(d) {\r\n      let that = this,\r\n        {\r\n          month,\r\n          year,\r\n          curr\r\n        } = that;\r\n      return {\r\n        'z-on': curr.day == d && curr.month == month && curr.year == year,\r\n        'z-existed': d != '',\r\n        'z-invalid':this.getZinvalid({d:d})\r\n      };\r\n    },\r\n    classHour(h){\r\n        let that = this,\r\n          {\r\n            month,\r\n            year,\r\n            day,\r\n            curr\r\n          } = that;\r\n        return {\r\n          'z-on': curr.hour == h && curr.day == day && curr.month == month && curr.year == year,\r\n          'z-existed': true,\r\n          'z-invalid':this.getZinvalid({h:h})\r\n        };\r\n    },\r\n    classWeek(W){\r\n      if(this.week == W){\r\n        return \"select\";\r\n      }\r\n      return \"\";\r\n    },\r\n    getWeekShortText(timestramp){\r\n      let len = this.weekData.length,\r\n          item = null,\r\n          prevItem = null,\r\n          shortText = \"\";\r\n      for(let i = 0; i < len; i++){\r\n        item = this.weekData[i];\r\n        if(i > 0){\r\n          prevItem = this.weekData[i - 1];\r\n        }\r\n        if(timestramp < item.weekStartDate && prevItem != null){\r\n          this.week = prevItem.weekIndex;\r\n          shortText = prevItem.weekShortText;\r\n          break;\r\n        }\r\n      }\r\n      return shortText;\r\n    },\r\n    classMinute(M){\r\n        let that = this,\r\n          {\r\n            month,\r\n            year,\r\n            hour,\r\n            day,\r\n            curr\r\n          } = that;\r\n        return {\r\n          'z-on': curr.minute == M && curr.hour == hour && curr.day == day && curr.month == month && curr.year == year,\r\n          'z-existed': true,\r\n          'z-invalid':this.getZinvalid({M:M})\r\n        };\r\n    },\r\n    getZinvalid (options) {\r\n      if(!this.maxdate && !this.mindate){\r\n        return false;\r\n      }\r\n      let that = this,\r\n        {\r\n          year,\r\n          month,\r\n          day,\r\n          hour,\r\n          minute\r\n        } = that;\r\n      let regularMaxDate = \"\",\r\n          regularMinDate = \"\",\r\n          maxDateTime = null,\r\n          minDateTime = null;\r\n      if(this.maxdate  != null){\r\n        regularMaxDate = this.maxdate.replace(/-/g, \"/\");\r\n        maxDateTime = new Date(regularMaxDate).getTime();\r\n      }\r\n      if(this.mindate  != null){\r\n        regularMinDate = this.mindate.replace(/-/g, \"/\");\r\n        minDateTime = new Date(regularMinDate).getTime();\r\n      }\r\n      if(options.m != null){\r\n        let currDate =  new Date();\r\n        currDate.setFullYear(year);\r\n        currDate.setMonth(options.m);\r\n        if(!!this.maxdate){\r\n          currDate.setDate(1);\r\n          currDate.setHours(0);\r\n          currDate.setMinutes(0);\r\n          currDate.setSeconds(0);\r\n          let currDateTime = new Date(currDate).getTime();\r\n          if(currDateTime > maxDateTime){\r\n            return true;\r\n          }\r\n        }\r\n        if(!!this.mindate){\r\n          let lastDate = new Date(year,options.m,0);\r\n          currDate.setDate(lastDate.getDate());\r\n          currDate.setHours(23);\r\n          currDate.setMinutes(59);\r\n          currDate.setSeconds(59);\r\n          let currDateTime = new Date(currDate).getTime();\r\n          if(currDateTime < minDateTime){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      if(options.d  != null){\r\n        let currDate =  new Date();\r\n        currDate.setFullYear(year);\r\n        currDate.setMonth(month-1);\r\n        currDate.setDate(options.d);\r\n        if(!!this.maxdate){\r\n          currDate.setHours(0);\r\n          currDate.setMinutes(0);\r\n          currDate.setSeconds(0);\r\n          let currDateTime = new Date(currDate).getTime();\r\n          if(currDateTime > maxDateTime){\r\n            return true;\r\n          }\r\n        }\r\n        if(!!this.mindate){\r\n          currDate.setHours(23);\r\n          currDate.setMinutes(59);\r\n          currDate.setSeconds(59);\r\n          let currDateTime = new Date(currDate).getTime();\r\n          if(currDateTime < minDateTime){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      if(options.h != null){\r\n        let currDate =  new Date();\r\n        currDate.setFullYear(year);\r\n        currDate.setMonth(month-1);\r\n        currDate.setDate(day);\r\n        currDate.setHours(options.h);\r\n        if(!!this.maxdate){\r\n          currDate.setMinutes(0);\r\n          currDate.setSeconds(0);\r\n          let currDateTime = new Date(currDate).getTime();\r\n          if(currDateTime > maxDateTime){\r\n            return true;\r\n          }\r\n        }\r\n        if(!!this.mindate){\r\n          currDate.setMinutes(59);\r\n          currDate.setSeconds(59);\r\n          let currDateTime = new Date(currDate).getTime();\r\n          if(currDateTime < minDateTime){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      if(options.M  != null){\r\n        let currDate =  new Date();\r\n        currDate.setFullYear(year);\r\n        currDate.setMonth(month-1);\r\n        currDate.setDate(day);\r\n        currDate.setHours(hour);\r\n        currDate.setMinutes(options.M);\r\n        currDate.setSeconds(0);\r\n        let currDateTime = new Date(currDate).getTime();\r\n        if(!!this.maxdate && currDateTime > maxDateTime){\r\n          return true;\r\n        }\r\n        if(!!this.mindate && currDateTime < minDateTime){\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    //前一年\r\n    prevYear() {\r\n      this.year--;\r\n      if(this.type == \"week\"){\r\n        this.weekData = getWeekData(this.year);\r\n      }\r\n    },\r\n    //后一年\r\n    nextYear() {\r\n      this.year++;\r\n      if(this.type == \"week\"){\r\n        this.weekData = getWeekData(this.year);\r\n      }\r\n    },\r\n    //前一月\r\n    prevMonth() {\r\n      let {\r\n        year,\r\n        month\r\n      } = this;\r\n      if (month > 1) {\r\n        this.month--;\r\n      } else {\r\n        this.year--;\r\n        this.month = 12;\r\n      }\r\n    },\r\n    //后一月\r\n    nextMonth() {\r\n      let {\r\n        year,\r\n        month\r\n      } = this;\r\n      if (month < 12) {\r\n        this.month++;\r\n      } else {\r\n        this.year++;\r\n        this.month = 1;\r\n      }\r\n    },\r\n    prevDay(){\r\n        this.addDate(-1);\r\n    },\r\n    nextDay(){\r\n        this.addDate(1);\r\n    },\r\n    prevHour(){\r\n        this.addHours(-1);\r\n    },\r\n    nextHour(){\r\n        this.addHours(1);\r\n    },\r\n    //立即关闭日期面板\r\n    immEndChoice() {\r\n      this.isMouseOver = true;\r\n      this.dayPanelIsShow = false;\r\n      this.monthPanelIsShow = false;\r\n      this.weekPanelIsShow = false;\r\n      this.hourPanelIsShow = false;\r\n      this.minutePanelIsShow = false;\r\n    },\r\n    //点击面板\r\n    panelClick: function() {\r\n    },\r\n    //日期加减\r\n    addDate:function(days){\r\n       let date = this.year + \"-\" + this.month + \"-\" + this.day;\r\n       let d = new Date(date.replace(/-/g, \"/\"));\r\n       d.setDate(d.getDate()+days);\r\n       this.year = d.getFullYear();\r\n       this.month = d.getMonth()+1;\r\n       this.day = d.getDate();\r\n     },\r\n     //时间加减\r\n     addHours:function(hour){\r\n        let date = this.year + \"-\" + this.month + \"-\" + this.day + \" \" + this.hour + \":\" + this.minute + \":\" + this.second;\r\n        let d = new Date(date.replace(/-/g, \"/\"));\r\n        d.setHours(d.getHours()+hour);\r\n        this.year = d.getFullYear();\r\n        this.month = d.getMonth()+1;\r\n        this.day = d.getDate();\r\n        this.hour = d.getHours();\r\n    },\r\n    //清除日期\r\n    clearData: function() {\r\n      this.$emit('input', \"\");\r\n      //this.iconClass = \"el-icon-date\";\r\n    },\r\n    //重置日期\r\n    resetData: function() {\r\n      if (!!this.value) {\r\n        var dateObj = new Date(this.value.replace(/-/g, \"/\"))\r\n        this.year = dateObj.getFullYear();\r\n        this.month = dateObj.getMonth()+1;\r\n        this.day = dateObj.getDate();\r\n        this.hour = dateObj.getHours();\r\n        this.minute = dateObj.getMinutes();\r\n        this.second = dateObj.getSeconds();\r\n      }\r\n    },\r\n    //日期时间格式化输出\r\n    dateTimeFormat:function(y, M, d, h, m, s, fm) {\r\n      if (!fm) {\r\n        fm = 'yyyy-MM-dd hh:mm:ss';\r\n      }\r\n      M = ('0' + (parseInt(M))).slice(-2);\r\n      d = ('0' + d).slice(-2);\r\n      h = ('0' + h).slice(-2);\r\n      m = ('0' + m).slice(-2);\r\n      s = ('0' + s).slice(-2);\r\n      return fm.replace('yyyy', y)\r\n        .replace('YYYY', y)\r\n        .replace('MM', M)\r\n        .replace('dd', d)\r\n        .replace('hh', h)\r\n        .replace('mm', m)\r\n        .replace('ss', s);\r\n    },\r\n    changeIconClose (type) {\r\n      if(!!this.value && 'in'){\r\n        this.iconState = true;\r\n        this.iconClass = \"el-icon-close\";\r\n      }\r\n    },\r\n    changeIconDate (type) {\r\n      this.iconState = false;\r\n      this.iconClass = \"el-icon-date\";\r\n    }\r\n  }\r\n}\r\nArray.prototype.includes = function(item) {\r\n  var isExsit = false;\r\n  var Len = this.length;\r\n  for (var i = 0; i < Len; i++) {\r\n    var arrItem = this[i];\r\n    if (item == arrItem) {\r\n      isExsit = true;\r\n      break;\r\n    }\r\n  }\r\n  return isExsit;\r\n}\r\nfunction getDayArr(l1, l2) {\r\n  var mainArr = new Array();\r\n  for (var i = 0; i < l1; i++) {\r\n    var subArr = new Array();\r\n    for (var j = 0; j < l2; j++) {\r\n      subArr.push('');\r\n    }\r\n    mainArr.push(subArr);\r\n  }\r\n  return mainArr;\r\n}\r\nfunction formatDig(num){\r\n    return num>9?''+num:'0'+num;\r\n}\r\nfunction formatDate(mill){\r\n    var y=new Date(mill);\r\n    let raws= [\r\n        y.getFullYear(),\r\n        formatDig(y.getMonth()+1),\r\n        formatDig(y.getDate()),\r\n        //y.getDay()||7\r\n    ];\r\n    let format=['-','-',''];\r\n    return String.raw({raw:raws},...format);\r\n}\r\nfunction* createWeeks(year){\r\n    const ONE_DAY=24*3600*1000;\r\n    let start=new Date(year,0,1),\r\n           end=new Date(year,11,31);\r\n    let firstDay=start.getDay()|| 7,\r\n            lastDay=end.getDay()||7;\r\n    let startTime=+start,\r\n            endTime=startTime+(7-firstDay)*ONE_DAY,\r\n            _endTime=end-(7-lastDay)*ONE_DAY;\r\n    if(firstDay == 1){//以当年第一个周一为第一周\r\n      yield [startTime,endTime];\r\n    }\r\n    startTime=endTime+ONE_DAY;\r\n    endTime=endTime+7*ONE_DAY;\r\n    while(endTime<_endTime){\r\n        yield [startTime,endTime];\r\n        startTime=endTime+ONE_DAY;\r\n        endTime=endTime+7*ONE_DAY;\r\n    }\r\n    //yield [startTime,+end];\r\n    yield [startTime,endTime];//最后一周为当年的最后一个周一\r\n}\r\nfunction getWeekData(year){\r\n  let index=1;\r\n  let list = createWeeks(year);\r\n  let weekList = [];\r\n  for(let i of list){\r\n      let start=i[0],\r\n              end=i[1];\r\n      let weekIndex = formatDig(index++);\r\n      let weekStart = formatDate(start);\r\n      let weekEnd = formatDate(end);\r\n      let weekShortText = \"第\"+weekIndex+\"周 \"+weekStart;\r\n      let weekText = \"第\"+weekIndex+\"周 \"+weekStart+\" ~ \"+weekEnd;\r\n      let weekStartDate = start;\r\n      let weekEndDate = end;\r\n      weekList.push({\r\n        weekIndex,\r\n        weekStart,\r\n        weekEnd,\r\n        weekShortText,\r\n        weekText,\r\n        weekStartDate,\r\n        weekEndDate\r\n      });\r\n  }\r\n  return weekList;\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@-webkit-keyframes vueDatePicker {\r\n    0% {\r\n        opacity: 0;\r\n        -webkit-transform: translate(-50%, -50%) scale(0);\r\n        transform: translate(-50%, -50%) scale(0);\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        -webkit-transform: translate(0) scale(1);\r\n        transform: translate(0) scale(1);\r\n    }\r\n}\r\n@keyframes vueDatePicker {\r\n    0% {\r\n        opacity: 0;\r\n        -webkit-transform: translate(-50%, -50%) scale(0);\r\n        transform: translate(-50%, -50%) scale(0);\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        -webkit-transform: translate(0) scale(1);\r\n        transform: translate(0) scale(1);\r\n    }\r\n}\r\n.vue-datepicker {\r\n    position: relative;\r\n    margin: 0;\r\n    padding: 0;\r\n    font-size: 12px;\r\n    color: #666;\r\n    width: 160px;\r\n    display: inline-block;\r\n}\r\n.vue-datepicker * {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.vue-datepicker input {\r\n    display: block;\r\n    width: 245px;\r\n    padding-left: 6px;\r\n    outline: none;\r\n}\r\n.vue-datepicker .vue-datepicker-panels {\r\n    position: absolute;\r\n    z-index: 99999;\r\n    left: 0;\r\n    background-color: white;\r\n    margin-top: 4px;\r\n    width: 252px;\r\n    border: 1px solid #DDD;\r\n    -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.18);\r\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.18);\r\n    padding: 10px 6px;\r\n    -webkit-animation: vueDatePicker 0.1s ease-out;\r\n    animation: vueDatePicker 0.1s ease-out;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-month {\r\n    padding-bottom: 4px;\r\n    height: 35px;\r\n    line-height: 35px;\r\n    overflow: hidden;\r\n    text-align: center;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-month a {\r\n    float: left;\r\n    display: block;\r\n    width: 35px;\r\n    cursor: pointer;\r\n    color: #999;\r\n    font-size: 12px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-month a:hover {\r\n    background-color: #F5F6F7;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-month span {\r\n    float: left;\r\n    display: block;\r\n    width: 168px;\r\n    font-size: 14px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-month span.vue-datepicker-btn:hover {\r\n    background-color: #F5F6F7;\r\n    cursor: pointer;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 {\r\n    width: 228px;\r\n    margin-left: 5px;\r\n    border-collapse: collapse;\r\n    text-align: center;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb thead,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 thead {\r\n    height: 35px;\r\n    line-height: 35px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb thead tr,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 thead tr {\r\n    border: none;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb thead tr th,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 thead tr th {\r\n    width: 35px;\r\n    font-size: 12px;\r\n    border: none;\r\n    font-weight: normal;\r\n    color:#8391a5;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr {\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td {\r\n    height: 31.5px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed {\r\n    cursor: pointer;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed span,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed span {\r\n    display: block;\r\n    height: 31.7px;\r\n    line-height: 31.7px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed:hover,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed:hover {\r\n    background-color: #e4e8f1;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed.z-on span,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed.z-on span {\r\n    color: #FFF;\r\n    background-color: #007fff;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed.z-invalid,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed.z-invalid {\r\n    cursor: default;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed.z-invalid span,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed.z-invalid span {\r\n    color: #ccc;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb tbody tr td.z-existed.z-invalid:hover,\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed.z-invalid:hover {\r\n    background-color: transparent;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr {\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td {\r\n    height: 31.5px;\r\n    font-size: 12px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed {\r\n    cursor: pointer;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-tb2 tbody tr td.z-existed span {\r\n    display: block;\r\n    height: 39.75px;\r\n    line-height: 39.75px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-time-panel{\r\n  height: 128px;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-time{\r\n  padding-top: 4px;\r\n  height: 35px;\r\n  line-height: 35px;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  background-color: #F5F6F7;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-time a{\r\n  display: inline-block;\r\n    width: 50%;\r\n    height: 35px;\r\n    line-height: 27px;\r\n    float: left;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-timeUnit{\r\n  width: 33.3%;\r\n  float: left;\r\n  height: 100%;\r\n  text-align: center;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-timeUnit .timeBtn{\r\n  height: 40%;\r\n  width: 100%;\r\n  position: relative;\r\n  cursor: pointer;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-timeUnit .timeBtn i{\r\n  position: absolute;\r\n  top:50%;\r\n  left: 50%;\r\n  transform: translate(-50%,-50%);\r\n  width: 100%;\r\n  -webkit-transform: translate(-50%,-50%);\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-timeUnit .numPanel{\r\n  height: 20%;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n.vue-datepicker .vue-datepicker-panel .vue-datepicker-timeUnit .numPanel span{\r\n  position: absolute;\r\n  top:50%;\r\n  left: 50%;\r\n  transform: translate(-50%,-50%);\r\n  -webkit-transform: translate(-50%,-50%);\r\n}\r\n.closeIcon{\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  color: black;\r\n  top: 0;\r\n  right: 0;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n.dateInputPanel {\r\n  width: 25px;\r\n  text-align: center;\r\n  padding: 0;\r\n  border: 0px solid red;\r\n}\r\n.vue-datepicker input{\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border-left: none;\r\n    border-right: none;\r\n    border-top: none;\r\n    border-bottom: 1px solid #ededed;\r\n    box-sizing: border-box;\r\n    color: #808080;\r\n    display: block;\r\n    font-size: inherit;\r\n    height: 30px;\r\n    line-height: 1;\r\n    outline: 0;\r\n    padding: 3px 10px;\r\n    transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    padding-right: 35px;\r\n    background-image: none;\r\n    width: 100%;\r\n    border-bottom-width:0px;\r\n}\r\n.zm_data_ic{\r\n  position:absolute;\r\n  width:35px;\r\n  height:30px;\r\n  line-height: 30px;\r\n  right:0;\r\n  top:0;\r\n  text-align:center;\r\n  color:#808080;\r\n  transition:all 0.3s;\r\n}\r\n.week-content{\r\n  height: 300px;\r\n  overflow-y: auto;\r\n  text-align: center;\r\n}\r\n.week-item{\r\n  height: 30px;\r\n  line-height: 30px;\r\n  cursor: pointer;\r\n}\r\n.week-item.select{\r\n  color: #FFF;\r\n  background-color: #007fff;\r\n}\r\n.week-item:hover{\r\n  background-color: #F5F6F7;\r\n  color: #666;\r\n}\r\n.week-input,.month-input,.day-input,.hour-input,.minute-input{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  background-color: white;\r\n  cursor: text;\r\n  text-align: center;\r\n  color:#B4BCCC;\r\n}\r\n</style>"]}]}