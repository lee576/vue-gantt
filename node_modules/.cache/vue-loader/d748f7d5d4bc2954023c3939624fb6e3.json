{"remainingRequest":"D:\\IloveCode\\Gantt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IloveCode\\Gantt\\src\\components\\gantt\\Gantt.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IloveCode\\Gantt\\src\\components\\gantt\\Gantt.vue","mtime":1646453249532},{"path":"D:\\IloveCode\\Gantt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IloveCode\\Gantt\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IloveCode\\Gantt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IloveCode\\Gantt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICcuL0RhdGVQaWNrZXIudnVlJw0KaW1wb3J0IFNwbGl0UGFuZSBmcm9tICcuL1NwbGl0UGFuZS52dWUnDQppbXBvcnQgR2FudHRUYWJsZSBmcm9tICcuL1RhYmxlLnZ1ZScNCmltcG9ydCBUYXNrVGFibGUgZnJvbSAnLi90YXNrL1Rhc2tUYWJsZS52dWUnDQppbXBvcnQgeyBtdXRhdGlvbnMgfSBmcm9tICdAL2NvbXBvbmVudHMvZ2FudHQvc3RvcmUuanMnDQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHMgOiB7DQogICAgaGVhZGVyc0hlaWdodCA6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDUwDQogICAgfSwNCiAgICByb3dIZWlnaHQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIHRhc2tzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdDQogICAgfSwNCiAgICBtYXBGaWVsZHM6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDku7vliqHooajlpLQNCiAgICAgIHRhc2tIZWFkZXJzIDogWyAgICAgIA0KICAgICAgICB7dGl0bGU6ICdJRCcsIHdpZHRoOiAyMCwgcHJvcGVydHk6J2lkJyxzaG93OiBmYWxzZX0sDQogICAgICAgIHt0aXRsZTogJ+S7u+WKoeWQjeensCcsIHdpZHRoOiAxOTAsIHByb3BlcnR5Oid0YXNrJyxzaG93OiB0cnVlfSwNCiAgICAgICAge3RpdGxlOiAn5LyY5YWI57qnJywgd2lkdGg6IDkwLCBwcm9wZXJ0eTogJ3ByaW9yaXR5JyxzaG93OiB0cnVlfSwNCiAgICAgICAge3RpdGxlOiAn5byA5aeL5pe26Ze0Jywgd2lkdGg6IDE1MCwgcHJvcGVydHk6ICdzdGFydGRhdGUnLHNob3c6IHRydWV9LA0KICAgICAgICB7dGl0bGU6ICfnu5PmnZ/ml7bpl7QnLCB3aWR0aDogMTUwLCBwcm9wZXJ0eTogJ2VuZGRhdGUnLHNob3c6IHRydWV9LA0KICAgICAgICB7dGl0bGU6ICfogJfml7YnLCB3aWR0aDogOTAsIHByb3BlcnR5OiAndGFrZXN0aW1lJyxzaG93OiB0cnVlfQ0KICAgICAgXSwNCiAgICAgIHBhbmVMZW5ndGhQZXJjZW50OiAzNSwNCiAgICAgIGJ1dHRvbkNsYXNzOiBbImJ1dHRvbiBpcy1hY3RpdmUiLCJidXR0b24iLCJidXR0b24iXSwNCiAgICAgIG1vZGU6ICfmnIgnLA0KICAgICAgLy8g5byA5aeL5pel5pyf6buY6K6k5YC8DQogICAgICBzdGFydERhdGU6IHRoaXMuJG1vbWVudCgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwNCiAgICAgIG1pblN0YXJ0RGF0ZTogdGhpcy4kbW9tZW50KCkubG9jYWxlKCd6aC1jbicpLmFkZCgtNSwgJ3knKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwNCiAgICAgIG1heFN0YXJ0RGF0ZTogdGhpcy4kbW9tZW50KCkubG9jYWxlKCd6aC1jbicpLmFkZCg1LCAneScpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLA0KICAgICAgc2hvd1N0YXJ0RGF0ZVBpY2tlcjogZmFsc2UsDQogICAgICBzZWxlY3RlZFN0YXJ0RGF0ZTogJ+eCueWHu+mAieaLqeaXpeacnycsDQogICAgICAvLyDnu5PmnZ/ml6XmnJ/pu5jorqTlgLwNCiAgICAgIGVuZERhdGU6IHRoaXMuJG1vbWVudCgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwNCiAgICAgIG1pbkVuZERhdGU6IHRoaXMuc3RhcnREYXRlLA0KICAgICAgbWF4RW5kRGF0ZTogdGhpcy4kbW9tZW50KHRoaXMuc3RhcnREYXRlKS5sb2NhbGUoJ3poLWNuJykuYWRkKDUsICd5JykuZm9ybWF0KCdZWVlZLU1NLUREJyksDQogICAgICBzaG93RW5kRGF0ZVBpY2tlcjogZmFsc2UsDQogICAgICBzZWxlY3RlZEVuZERhdGU6ICfngrnlh7vpgInmi6nml6XmnJ8nLA0KICAgICAgLy8g5pyI5bqm6KGo5aS0DQogICAgICBtb250aEhlYWRlcnM6IFtdLA0KICAgICAgLy8g5pel6KGo5aS0DQogICAgICBkYXlIZWFkZXJzIDogW10sDQogICAgICAvLyDlsI/ml7booajlpLQNCiAgICAgIGhvdXJIZWFkZXJzIDogW10sDQogICAgICAvLyDooajlpLTmnIDlsI/ljZXkvY3lrr3luqYNCiAgICAgIHNjYWxlIDogMCwNCiAgICAgIC8vIOaXtumXtOWIu+W6puS4gOihjOacieWkmuWwkeS4quWNleWFg+agvA0KICAgICAgdGltZWxpbmVDZWxsQ291bnQ6IDAsDQogICAgICAvLyDnlJjnibnlm77lvIDlp4vml7bpl7QNCiAgICAgIHN0YXJ0R2FudHREYXRlOiBudWxsLA0KICAgICAgLy8g55SY54m55Zu+57uT5p2f5pe26Ze0DQogICAgICBlbmRHYW50dERhdGU6IG51bGwNCiAgICB9DQogIH0sDQoJY29tcG9uZW50czogeyBHYW50dFRhYmxlLCBUYXNrVGFibGUsIFNwbGl0UGFuZSwgRGF0ZVBpY2tlciB9LA0KCXdhdGNoOiB7DQogICAgLy8g5pe26Ze06KGo5aS05pyA5bCP5Y2V5L2N5a695bqmLOaJgOacieihqOWktOeahOWuveW6pumDveaYr+S7lueahOWAjeaVsA0KICAgIHNjYWxlOiBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIGlmIChuZXdWYWwgIT0gb2xkVmFsKSB7DQogICAgICAgIHRoaXMuc2V0U2NhbGUobmV3VmFsKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5Lu75Yqh6KGo5aS0DQogICAgdGFza0hlYWRlcnM6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCAhPSBvbGRWYWwpIHsNCiAgICAgICAgdGhpcy5zZXRUYXNrSGVhZGVycyhuZXdWYWwpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmnIjluqbooajlpLQNCiAgICBtb250aEhlYWRlcnM6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCAhPSBvbGRWYWwpIHsNCiAgICAgICAgdGhpcy5zZXRNb250aEhlYWRlcnMobmV3VmFsKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5pel6KGo5aS0DQogICAgZGF5SGVhZGVyczogZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICBpZiAobmV3VmFsICE9IG9sZFZhbCkgew0KICAgICAgICB0aGlzLnNldERheUhlYWRlcnMobmV3VmFsKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5bCP5pe26KGo5aS0DQogICAgaG91ckhlYWRlcnM6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCAhPSBvbGRWYWwpIHsNCiAgICAgICAgdGhpcy5zZXRIb3VySGVhZGVycyhuZXdWYWwpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDpgInmi6nlvIDlp4vml6XmnJ8NCiAgICBzZWxlY3RlZFN0YXJ0RGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgIHRoaXMuc2V0VGltZUxpbmVIZWFkZXJzKHRoaXMubW9kZSkNCiAgICB9LA0KICAgIC8vIOmAieaLqee7k+adn+aXpeacnw0KICAgIHNlbGVjdGVkRW5kRGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgIHRoaXMuc2V0VGltZUxpbmVIZWFkZXJzKHRoaXMubW9kZSkNCiAgICB9LA0KICAgIC8vIOWIh+aNoue8qeaUvuWNleS9jSjmnIgv5pelL+aXtikNCiAgICBtb2RlOiBmdW5jdGlvbiAobmV3VmFsKSB7DQogICAgICB0aGlzLnNldE1vZGUobmV3VmFsKQ0KICAgICAgdGhpcy5zZXRUaW1lTGluZUhlYWRlcnMobmV3VmFsKQ0KICAgIH0sDQogICAgLy8g5Lu75YqhDQogICAgdGFza3M6IGZ1bmN0aW9uIChuZXdWYWwpIHsNCiAgICAgIHRoaXMuc2V0VGFza3MobmV3VmFsKQ0KICAgIH0sDQogICAgLy8g5a2X5q615pig5bCEDQogICAgbWFwRmllbGRzOiBmdW5jdGlvbiAobmV3VmFsKSB7DQogICAgICB0aGlzLnNldE1hcEZpZWxkcyhuZXdWYWwpDQogICAgfSwNCiAgICAvLyDml7bpl7TliLvluqbkuIDooYzmnInlpJrlsJHkuKrljZXlhYPmoLwNCiAgICB0aW1lbGluZUNlbGxDb3VudDogZnVuY3Rpb24gKG5ld1ZhbCkgew0KICAgICAgdGhpcy5zZXRUaW1lbGluZUNlbGxDb3VudChuZXdWYWwpDQogICAgfSwNCiAgICAvLyDnlJjnibnlm77lvIDlp4vml7bpl7QNCiAgICBzdGFydEdhbnR0RGF0ZTogZnVuY3Rpb24gKG5ld1ZhbCkgew0KICAgICAgdGhpcy5zZXRTdGFydEdhbnR0RGF0ZShuZXdWYWwpDQogICAgfSwNCiAgICAvLyDnlJjnibnlm77nu5PmnZ/ml7bpl7QNCiAgICBlbmRHYW50dERhdGU6IGZ1bmN0aW9uIChuZXdWYWwpIHsNCiAgICAgIHRoaXMuc2V0RW5kR2FudHREYXRlKG5ld1ZhbCkNCiAgICB9DQogIH0sDQoJY3JlYXRlZCgpIHsNCiAgICB0aGlzLnNldE1vbnRoSGVhZGVycyh0aGlzLm1vbnRoSGVhZGVycykNCiAgICB0aGlzLnNldERheUhlYWRlcnModGhpcy5kYXlIZWFkZXJzKQ0KICAgIHRoaXMuc2V0SG91ckhlYWRlcnModGhpcy5ob3VySGVhZGVycykNCiAgICB0aGlzLnNldFRhc2tIZWFkZXJzKHRoaXMudGFza0hlYWRlcnMpDQogICAgdGhpcy5zZXRUYXNrcyh0aGlzLnRhc2tzKQ0KICAgIHRoaXMuc2V0TWFwRmllbGRzKHRoaXMubWFwRmllbGRzKQ0KICAgIHRoaXMuc2V0VGltZWxpbmVDZWxsQ291bnQodGhpcy50aW1lbGluZUNlbGxDb3VudCkNCiAgICB0aGlzLnNldE1vZGUodGhpcy5tb2RlKQ0KICB9LA0KCW1vdW50ZWQoKSB7DQogICAgdGhpcy5tb250aEhlYWRlcnMgPSBbXQ0KICAgIHRoaXMuZGF5SGVhZGVycyA9IFtdDQogICAgdGhpcy5ob3VySGVhZGVycyA9IFtdDQogICAgdGhpcy5tb2RlID0gJ+aciCcNCgl9LA0KICBtZXRob2RzOnsNCiAgICBzZXREYXlIZWFkZXJzOiBtdXRhdGlvbnMuc2V0RGF5SGVhZGVycywNCiAgICBzZXRUYXNrSGVhZGVyczogbXV0YXRpb25zLnNldFRhc2tIZWFkZXJzLA0KICAgIHNldE1vbnRoSGVhZGVyczogbXV0YXRpb25zLnNldE1vbnRoSGVhZGVycywNCiAgICBzZXRIb3VySGVhZGVyczogbXV0YXRpb25zLnNldEhvdXJIZWFkZXJzLA0KICAgIHNldFNjYWxlOiBtdXRhdGlvbnMuc2V0U2NhbGUsDQogICAgc2V0VGFza3M6IG11dGF0aW9ucy5zZXRUYXNrcywNCiAgICBzZXRNYXBGaWVsZHM6IG11dGF0aW9ucy5zZXRNYXBGaWVsZHMsDQogICAgc2V0VGltZWxpbmVDZWxsQ291bnQ6IG11dGF0aW9ucy5zZXRUaW1lbGluZUNlbGxDb3VudCwNCiAgICBzZXRTdGFydEdhbnR0RGF0ZTogbXV0YXRpb25zLnNldFN0YXJ0R2FudHREYXRlLA0KICAgIHNldEVuZEdhbnR0RGF0ZTogbXV0YXRpb25zLnNldEVuZEdhbnR0RGF0ZSwNCiAgICBzZXRNb2RlOiBtdXRhdGlvbnMuc2V0TW9kZSwNCiAgICAvLyDkv67mlLnmjInpkq7moLflvI8NCiAgICB0aW1lTW9kZSAobW9kZSkgew0KICAgICAgZm9yKGxldCBidXR0b24gb2YgdGhpcy5idXR0b25DbGFzcyl7DQogICAgICAgIFZ1ZS5zZXQodGhpcy5idXR0b25DbGFzcyx0aGlzLmJ1dHRvbkNsYXNzLmluZGV4T2YoYnV0dG9uKSwnYnV0dG9uJykNCiAgICAgIH0NCiAgICAgIHN3aXRjaCAobW9kZSkNCiAgICAgIHsNCiAgICAgICAgY2FzZSAn5pyIJzogew0KICAgICAgICAgIFZ1ZS5zZXQodGhpcy5idXR0b25DbGFzcywwLCdidXR0b24gaXMtYWN0aXZlJykNCiAgICAgICAgICBicmVhazsgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAn5pelJzogew0KICAgICAgICAgIFZ1ZS5zZXQodGhpcy5idXR0b25DbGFzcywxLCdidXR0b24gaXMtYWN0aXZlJykNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICfml7YnOiB7DQogICAgICAgICAgVnVlLnNldCh0aGlzLmJ1dHRvbkNsYXNzLDIsJ2J1dHRvbiBpcy1hY3RpdmUnKQ0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLm1vZGUgPSBtb2RlDQogICAgfSwNCiAgICBzZXRUaW1lTGluZUhlYWRlcnMobmV3VmFsKSB7DQogICAgICAvLyDlvIDlp4vml7bpl7TmoLzlvI/mmK/lkKblkIjms5UNCiAgICAgIGlmKCF0aGlzLiRtb21lbnQodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZSwgJ1lZWVktTU0tREQnLCB0cnVlKS5pc1ZhbGlkKCkpDQogICAgICAgIHJldHVybg0KICAgICAgLy8g57uT5p2f5pe26Ze05qC85byP5piv5ZCm5ZCI5rOVDQogICAgICBpZighdGhpcy4kbW9tZW50KHRoaXMuc2VsZWN0ZWRFbmREYXRlLCAnWVlZWS1NTS1ERCcsIHRydWUpLmlzVmFsaWQoKSkNCiAgICAgICAgcmV0dXJuDQogICAgICAvLyDmo4DpqozlvIDlp4vml7bpl7Tnu5PmnZ/ml7bpl7TojIPlm7TnmoTlkIjms5XmgKcNCiAgICAgIGxldCBkYXlzID0gdGhpcy4kbW9tZW50KHRoaXMuc2VsZWN0ZWRFbmREYXRlKS5kaWZmKHRoaXMuJG1vbWVudCh0aGlzLnNlbGVjdGVkU3RhcnREYXRlKSwnZGF5cycpDQogICAgICBpZihkYXlzIDwgMCkNCiAgICAgICAgcmV0dXJuDQogICAgICB0aGlzLnN0YXJ0R2FudHREYXRlID0gdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZSArICcgMDA6MDA6MDAnDQogICAgICB0aGlzLmVuZEdhbnR0RGF0ZSA9IHRoaXMuc2VsZWN0ZWRFbmREYXRlICsgJyAyMzo1OTo1OScNCiAgICAgIHRoaXMuZGF5SGVhZGVycyA9IFtdDQogICAgICB0aGlzLm1vbnRoSGVhZGVycyA9IFtdDQogICAgICB0aGlzLmhvdXJIZWFkZXJzID0gW10NCiAgICAgIHN3aXRjaCAobmV3VmFsKQ0KICAgICAgew0KICAgICAgICBjYXNlICfmnIgnOiB7DQogICAgICAgICAgdGhpcy5zY2FsZSA9IDgwDQogICAgICAgICAgbGV0IHJlY3VycmVuY2UgPSB0aGlzLiRtb21lbnQoKS5yZWN1cih0aGlzLnNlbGVjdGVkU3RhcnREYXRlLCB0aGlzLnNlbGVjdGVkRW5kRGF0ZSkuZXZlcnkoMSkubW9udGhzKCk7DQogICAgICAgICAgbGV0IG1vbnRocyA9IHJlY3VycmVuY2UuYWxsKCJMIikubWFwKHggPT4gdGhpcy4kbW9tZW50KHgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkNCg0KICAgICAgICAgIGxldCBmaW5kSW5kZXggPSBtb250aHMuZmluZEluZGV4KChpdGVtKSA9PiB7IA0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1vbWVudChpdGVtKS5sb2NhbGUoJ3poLWNuJykuZm9ybWF0KCdZWVlZLU1NJykgPT09IHRoaXMuJG1vbWVudCh0aGlzLnNlbGVjdGVkRW5kRGF0ZSkubG9jYWxlKCd6aC1jbicpLmZvcm1hdCgnWVlZWS1NTScpIA0KICAgICAgICAgIH0pDQogICAgICAgICAgaWYoZmluZEluZGV4ID09PSAtMSkgew0KICAgICAgICAgICAgbW9udGhzLnB1c2godGhpcy4kbW9tZW50KHRoaXMuc2VsZWN0ZWRFbmREYXRlKS5sb2NhbGUoJ3poLWNuJykuZm9ybWF0KCdZWVlZLU1NLUREJykpDQogICAgICAgICAgfQ0KICAgICAgICAgIC8vIOaXtumXtOi3qOW6puWPquacieS4gOS4quaciA0KICAgICAgICAgIGlmKG1vbnRocy5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgbGV0IGRheXMgPSB0aGlzLiRtb21lbnQodGhpcy5zZWxlY3RlZEVuZERhdGUpLmRpZmYodGhpcy4kbW9tZW50KHRoaXMuc2VsZWN0ZWRTdGFydERhdGUpLCAnZGF5cycpICsgMQ0KICAgICAgICAgICAgdGhpcy5tb250aEhlYWRlcnMucHVzaCh7dGl0bGU6IHRoaXMuJG1vbWVudChtb250aHNbMF0pLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ01NTU0nKSwgd2lkdGg6IGRheXMgKiB0aGlzLnNjYWxlfSkNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBmb3IobGV0IG1vbnRoIG9mIG1vbnRocykgew0KICAgICAgICAgICAgICBsZXQgaW5kZXggPSBtb250aHMuaW5kZXhPZihtb250aCkNCiAgICAgICAgICAgICAgLy8g56ys5LiA5pyIDQogICAgICAgICAgICAgIGlmKGluZGV4ID09PSAwKSB7DQogICAgICAgICAgICAgICAgbGV0IGVuZE9mTW9udGggPSB0aGlzLiRtb21lbnQodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZSkuZW5kT2YoJ21vbnRoJykuZm9ybWF0KCJZWVlZLU1NLUREIikNCiAgICAgICAgICAgICAgICBsZXQgZGF5cyA9IHRoaXMuJG1vbWVudChlbmRPZk1vbnRoKS5kaWZmKHRoaXMuJG1vbWVudCh0aGlzLnNlbGVjdGVkU3RhcnREYXRlKSwgJ2RheXMnKSArIDENCiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoSGVhZGVycy5wdXNoKHt0aXRsZTogdGhpcy4kbW9tZW50KG1vbnRoKS5sb2NhbGUoJ3poLWNuJykuZm9ybWF0KCdNTU1NJyksIHdpZHRoOiBkYXlzICogdGhpcy5zY2FsZX0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgLy8g5pyA5ZCO5LiA5Liq5pyIDQogICAgICAgICAgICAgIGVsc2UgaWYoaW5kZXggPT09IG1vbnRocy5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgbGV0IHN0YXJ0T2ZNb250aCA9IHRoaXMuJG1vbWVudCh0aGlzLnNlbGVjdGVkRW5kRGF0ZSkuc3RhcnRPZignbW9udGgnKS5mb3JtYXQoIllZWVktTU0tREQiKQ0KICAgICAgICAgICAgICAgIGxldCBkYXlzID0gdGhpcy4kbW9tZW50KHRoaXMuc2VsZWN0ZWRFbmREYXRlKS5kaWZmKHRoaXMuJG1vbWVudChzdGFydE9mTW9udGgpLCAnZGF5cycpICsgMQ0KICAgICAgICAgICAgICAgIHRoaXMubW9udGhIZWFkZXJzLnB1c2goe3RpdGxlOiB0aGlzLiRtb21lbnQobW9udGgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ01NTU0nKSwgd2lkdGg6IGRheXMgKiB0aGlzLnNjYWxlfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAvLyDkuK3pl7TnmoTmnIgNCiAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgbGV0IGRheXMgPSB0aGlzLiRtb21lbnQobW9udGgsICJZWVlZLU1NIikuZGF5c0luTW9udGgoKQ0KICAgICAgICAgICAgICAgIHRoaXMubW9udGhIZWFkZXJzLnB1c2goe3RpdGxlOiB0aGlzLiRtb21lbnQobW9udGgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ01NTU0nKSwgd2lkdGg6IGRheXMgKiB0aGlzLnNjYWxlfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHJlY3VycmVuY2UgPSB0aGlzLiRtb21lbnQoKS5yZWN1cih0aGlzLnNlbGVjdGVkU3RhcnREYXRlLCB0aGlzLnNlbGVjdGVkRW5kRGF0ZSkuZXZlcnkoMSkuZGF5cygpOw0KICAgICAgICAgIGxldCBjYXB0aW9ucyA9IHJlY3VycmVuY2UuYWxsKCJMIikubWFwKHggPT4gdGhpcy4kbW9tZW50KHgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ0RE5pelJykpDQogICAgICAgICAgZm9yKGxldCBjYXB0aW9uIG9mIGNhcHRpb25zKSB7DQogICAgICAgICAgICB0aGlzLmRheUhlYWRlcnMucHVzaCh7dGl0bGU6IGNhcHRpb24sIHdpZHRoOiB0aGlzLnNjYWxlfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy50aW1lbGluZUNlbGxDb3VudCA9IHRoaXMuZGF5SGVhZGVycy5sZW5ndGgNCiAgICAgICAgICBicmVhazsgICAgICAgDQogICAgICAgIH0NCiAgICAgICAgY2FzZSAn5pelJzogew0KICAgICAgICAgIHRoaXMuc2NhbGUgPSA4MA0KICAgICAgICAgIGxldCByZWN1cnJlbmNlID0gdGhpcy4kbW9tZW50KCkucmVjdXIodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZSwgdGhpcy5zZWxlY3RlZEVuZERhdGUpLmV2ZXJ5KDEpLmRheXMoKTsNCiAgICAgICAgICBsZXQgY2FwdGlvbnMgPSByZWN1cnJlbmNlLmFsbCgiTCIpLm1hcCh4ID0+IHRoaXMuJG1vbWVudCh4KS5sb2NhbGUoJ3poLWNuJykuZm9ybWF0KCdNTU1NIERE5pelJykpDQogICAgICAgICAgZm9yKGxldCBjYXB0aW9uIG9mIGNhcHRpb25zKSB7DQogICAgICAgICAgICB0aGlzLmRheUhlYWRlcnMucHVzaCh7dGl0bGU6IGNhcHRpb24sIHdpZHRoOiB0aGlzLnNjYWxlfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy50aW1lbGluZUNlbGxDb3VudCA9IHRoaXMuZGF5SGVhZGVycy5sZW5ndGgNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgICBjYXNlICfml7YnOiB7DQogICAgICAgICAgdGhpcy5zY2FsZSA9IDMwDQogICAgICAgICAgbGV0IHJlY3VycmVuY2UgPSB0aGlzLiRtb21lbnQoKS5yZWN1cih0aGlzLnNlbGVjdGVkU3RhcnREYXRlLCB0aGlzLnNlbGVjdGVkRW5kRGF0ZSkuZXZlcnkoMSkuZGF5cygpOw0KICAgICAgICAgIGxldCBjYXB0aW9ucyA9IHJlY3VycmVuY2UuYWxsKCJMIikubWFwKHggPT4gdGhpcy4kbW9tZW50KHgpLmxvY2FsZSgnemgtY24nKS5mb3JtYXQoJ01NTU0gRETml6UnKSkNCiAgICAgICAgICBmb3IobGV0IGNhcHRpb24gb2YgY2FwdGlvbnMpIHsNCiAgICAgICAgICAgIHRoaXMuZGF5SGVhZGVycy5wdXNoKHt0aXRsZTogY2FwdGlvbiwgd2lkdGg6IDI0ICogdGhpcy5zY2FsZX0pDQogICAgICAgICAgICBmb3IobGV0IGk9IDA7aSA8PSAyMztpKyspew0KICAgICAgICAgICAgICB0aGlzLmhvdXJIZWFkZXJzLnB1c2goe3RpdGxlOiBpICsgJ+eCuScsIHdpZHRoOiB0aGlzLnNjYWxlfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy50aW1lbGluZUNlbGxDb3VudCA9IHRoaXMuaG91ckhlYWRlcnMubGVuZ3RoDQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIG9wZW5FbmREYXRlUGlja2VyKCkgew0KICAgICAgdGhpcy5zaG93RW5kRGF0ZVBpY2tlciA9IHRydWU7DQogICAgfSwNCiAgICBvcGVuU3RhcnREYXRlUGlja2VyKCkgew0KICAgICAgdGhpcy5zaG93U3RhcnREYXRlUGlja2VyID0gdHJ1ZTsNCiAgICB9LA0KICAgIGNvbmZpcm1FbmQodmFsdWUpIHsNCiAgICAgIGxldCBkYXlzID0gdGhpcy4kbW9tZW50KHZhbHVlLmRhdGUpLmRpZmYodGhpcy4kbW9tZW50KHRoaXMuc3RhcnREYXRlKSwnZGF5cycpDQogICAgICBpZihkYXlzIDwgMCkgew0KICAgICAgICB0aGlzLnNlbGVjdGVkU3RhcnREYXRlID0gdmFsdWUuZGF0ZTsNCiAgICAgICAgdGhpcy5zdGFydERhdGUgPSB2YWx1ZS5kYXRlOw0KICAgICAgfQ0KICAgICAgdGhpcy5zaG93RW5kRGF0ZVBpY2tlciA9IGZhbHNlOw0KICAgICAgdGhpcy5zZWxlY3RlZEVuZERhdGUgPSB2YWx1ZS5kYXRlOw0KICAgICAgdGhpcy5lbmREYXRlID0gdmFsdWUuZGF0ZTsNCiAgICB9LA0KICAgIGNvbmZpcm1TdGFydCh2YWx1ZSkgew0KICAgICAgbGV0IGRheXMgPSB0aGlzLiRtb21lbnQodGhpcy5lbmREYXRlKS5kaWZmKHRoaXMuJG1vbWVudCh2YWx1ZS5kYXRlKSwnZGF5cycpDQogICAgICBpZihkYXlzIDwgMCkgew0KICAgICAgICB0aGlzLnNlbGVjdGVkRW5kRGF0ZSA9IHZhbHVlLmRhdGU7DQogICAgICAgIHRoaXMuZW5kRGF0ZSA9IHZhbHVlLmRhdGU7DQogICAgICB9DQogICAgICB0aGlzLnNob3dTdGFydERhdGVQaWNrZXIgPSBmYWxzZTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGUgPSB2YWx1ZS5kYXRlOw0KICAgICAgdGhpcy5zdGFydERhdGUgPSB2YWx1ZS5kYXRlOw0KICAgIH0sDQogICAgY2FuY2VsRW5kKCkgew0KICAgICAgdGhpcy5zaG93RW5kRGF0ZVBpY2tlciA9IGZhbHNlOw0KICAgIH0sDQogICAgY2FuY2VsU3RhcnQoKSB7DQogICAgICB0aGlzLnNob3dTdGFydERhdGVQaWNrZXIgPSBmYWxzZTsNCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["Gantt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Gantt.vue","sourceRoot":"src/components/gantt","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class=\"toolbar\">\r\n      <div class=\"dateInput\">\r\n        <div @click=\"openStartDatePicker\">{{selectedStartDate}}</div>\r\n        <span style=\"margin-right:20px;margin-left:20px;color:#606266\">至</span>\r\n        <div @click=\"openEndDatePicker\">{{selectedEndDate}}</div>\r\n      </div>\r\n      <date-picker\r\n        v-if=\"showEndDatePicker\"\r\n        :date=\"endDate\"\r\n        :min-date=\"minEndDate\"\r\n        :max-date=\"maxEndDate\"\r\n        @confirm=\"confirmEnd\"\r\n        @cancel=\"cancelEnd\">\r\n      </date-picker>\r\n      <date-picker\r\n        v-if=\"showStartDatePicker\"\r\n        :date=\"startDate\"\r\n        :min-date=\"minStartDate\"\r\n        :max-date=\"maxStartDate\"\r\n        @confirm=\"confirmStart\"\r\n        @cancel=\"cancelStart\">\r\n      </date-picker>\r\n      <div class=\"buttonGroup\">\r\n        <div :class=\"buttonClass[0]\" style=\"border-radius:10px 0 0 10px;\" @click=\"timeMode('月')\"><div class=\"text\">月</div></div>\r\n        <div :class=\"buttonClass[1]\" style=\"border-left:0;border-right:0\" @click=\"timeMode('日')\"><div class=\"text\">日</div></div>\r\n        <div :class=\"buttonClass[2]\" style=\"border-radius:0 10px 10px 0;\" @click=\"timeMode('时')\"><div class=\"text\">时</div></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"gantt\">\r\n      <SplitPane direction=\"row\" :min=\"10\" :max=\"80\" :triggerLength=\"10\" :paneLengthPercent.sync=\"paneLengthPercent\">\r\n        <template v-slot:one>\r\n          <task-table :headersHeight='headersHeight' :rowHeight='rowHeight'></task-table>      \r\n        </template>\r\n        <template v-slot:two>\r\n          <gantt-table :headersHeight='headersHeight' :rowHeight='rowHeight'></gantt-table>\r\n        </template>\r\n      </SplitPane>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DatePicker from './DatePicker.vue'\r\nimport SplitPane from './SplitPane.vue'\r\nimport GanttTable from './Table.vue'\r\nimport TaskTable from './task/TaskTable.vue'\r\nimport { mutations } from '@/components/gantt/store.js'\r\nimport Vue from 'vue'\r\nexport default {\r\n  props : {\r\n    headersHeight : {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    rowHeight: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    tasks: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    mapFields: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 任务表头\r\n      taskHeaders : [      \r\n        {title: 'ID', width: 20, property:'id',show: false},\r\n        {title: '任务名称', width: 190, property:'task',show: true},\r\n        {title: '优先级', width: 90, property: 'priority',show: true},\r\n        {title: '开始时间', width: 150, property: 'startdate',show: true},\r\n        {title: '结束时间', width: 150, property: 'enddate',show: true},\r\n        {title: '耗时', width: 90, property: 'takestime',show: true}\r\n      ],\r\n      paneLengthPercent: 35,\r\n      buttonClass: [\"button is-active\",\"button\",\"button\"],\r\n      mode: '月',\r\n      // 开始日期默认值\r\n      startDate: this.$moment().locale('zh-cn').format('YYYY-MM-DD'),\r\n      minStartDate: this.$moment().locale('zh-cn').add(-5, 'y').format('YYYY-MM-DD'),\r\n      maxStartDate: this.$moment().locale('zh-cn').add(5, 'y').format('YYYY-MM-DD'),\r\n      showStartDatePicker: false,\r\n      selectedStartDate: '点击选择日期',\r\n      // 结束日期默认值\r\n      endDate: this.$moment().locale('zh-cn').format('YYYY-MM-DD'),\r\n      minEndDate: this.startDate,\r\n      maxEndDate: this.$moment(this.startDate).locale('zh-cn').add(5, 'y').format('YYYY-MM-DD'),\r\n      showEndDatePicker: false,\r\n      selectedEndDate: '点击选择日期',\r\n      // 月度表头\r\n      monthHeaders: [],\r\n      // 日表头\r\n      dayHeaders : [],\r\n      // 小时表头\r\n      hourHeaders : [],\r\n      // 表头最小单位宽度\r\n      scale : 0,\r\n      // 时间刻度一行有多少个单元格\r\n      timelineCellCount: 0,\r\n      // 甘特图开始时间\r\n      startGanttDate: null,\r\n      // 甘特图结束时间\r\n      endGanttDate: null\r\n    }\r\n  },\r\n\tcomponents: { GanttTable, TaskTable, SplitPane, DatePicker },\r\n\twatch: {\r\n    // 时间表头最小单位宽度,所有表头的宽度都是他的倍数\r\n    scale: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setScale(newVal)\r\n      }\r\n    },\r\n    // 任务表头\r\n    taskHeaders: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setTaskHeaders(newVal)\r\n      }\r\n    },\r\n    // 月度表头\r\n    monthHeaders: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setMonthHeaders(newVal)\r\n      }\r\n    },\r\n    // 日表头\r\n    dayHeaders: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setDayHeaders(newVal)\r\n      }\r\n    },\r\n    // 小时表头\r\n    hourHeaders: function (newVal, oldVal) {\r\n      if (newVal != oldVal) {\r\n        this.setHourHeaders(newVal)\r\n      }\r\n    },\r\n    // 选择开始日期\r\n    selectedStartDate: function () {\r\n       this.setTimeLineHeaders(this.mode)\r\n    },\r\n    // 选择结束日期\r\n    selectedEndDate: function () {\r\n       this.setTimeLineHeaders(this.mode)\r\n    },\r\n    // 切换缩放单位(月/日/时)\r\n    mode: function (newVal) {\r\n      this.setMode(newVal)\r\n      this.setTimeLineHeaders(newVal)\r\n    },\r\n    // 任务\r\n    tasks: function (newVal) {\r\n      this.setTasks(newVal)\r\n    },\r\n    // 字段映射\r\n    mapFields: function (newVal) {\r\n      this.setMapFields(newVal)\r\n    },\r\n    // 时间刻度一行有多少个单元格\r\n    timelineCellCount: function (newVal) {\r\n      this.setTimelineCellCount(newVal)\r\n    },\r\n    // 甘特图开始时间\r\n    startGanttDate: function (newVal) {\r\n      this.setStartGanttDate(newVal)\r\n    },\r\n    // 甘特图结束时间\r\n    endGanttDate: function (newVal) {\r\n      this.setEndGanttDate(newVal)\r\n    }\r\n  },\r\n\tcreated() {\r\n    this.setMonthHeaders(this.monthHeaders)\r\n    this.setDayHeaders(this.dayHeaders)\r\n    this.setHourHeaders(this.hourHeaders)\r\n    this.setTaskHeaders(this.taskHeaders)\r\n    this.setTasks(this.tasks)\r\n    this.setMapFields(this.mapFields)\r\n    this.setTimelineCellCount(this.timelineCellCount)\r\n    this.setMode(this.mode)\r\n  },\r\n\tmounted() {\r\n    this.monthHeaders = []\r\n    this.dayHeaders = []\r\n    this.hourHeaders = []\r\n    this.mode = '月'\r\n\t},\r\n  methods:{\r\n    setDayHeaders: mutations.setDayHeaders,\r\n    setTaskHeaders: mutations.setTaskHeaders,\r\n    setMonthHeaders: mutations.setMonthHeaders,\r\n    setHourHeaders: mutations.setHourHeaders,\r\n    setScale: mutations.setScale,\r\n    setTasks: mutations.setTasks,\r\n    setMapFields: mutations.setMapFields,\r\n    setTimelineCellCount: mutations.setTimelineCellCount,\r\n    setStartGanttDate: mutations.setStartGanttDate,\r\n    setEndGanttDate: mutations.setEndGanttDate,\r\n    setMode: mutations.setMode,\r\n    // 修改按钮样式\r\n    timeMode (mode) {\r\n      for(let button of this.buttonClass){\r\n        Vue.set(this.buttonClass,this.buttonClass.indexOf(button),'button')\r\n      }\r\n      switch (mode)\r\n      {\r\n        case '月': {\r\n          Vue.set(this.buttonClass,0,'button is-active')\r\n          break;       \r\n        }\r\n        case '日': {\r\n          Vue.set(this.buttonClass,1,'button is-active')\r\n          break;\r\n        }\r\n        case '时': {\r\n          Vue.set(this.buttonClass,2,'button is-active')\r\n          break;\r\n        }\r\n      }\r\n      this.mode = mode\r\n    },\r\n    setTimeLineHeaders(newVal) {\r\n      // 开始时间格式是否合法\r\n      if(!this.$moment(this.selectedStartDate, 'YYYY-MM-DD', true).isValid())\r\n        return\r\n      // 结束时间格式是否合法\r\n      if(!this.$moment(this.selectedEndDate, 'YYYY-MM-DD', true).isValid())\r\n        return\r\n      // 检验开始时间结束时间范围的合法性\r\n      let days = this.$moment(this.selectedEndDate).diff(this.$moment(this.selectedStartDate),'days')\r\n      if(days < 0)\r\n        return\r\n      this.startGanttDate = this.selectedStartDate + ' 00:00:00'\r\n      this.endGanttDate = this.selectedEndDate + ' 23:59:59'\r\n      this.dayHeaders = []\r\n      this.monthHeaders = []\r\n      this.hourHeaders = []\r\n      switch (newVal)\r\n      {\r\n        case '月': {\r\n          this.scale = 80\r\n          let recurrence = this.$moment().recur(this.selectedStartDate, this.selectedEndDate).every(1).months();\r\n          let months = recurrence.all(\"L\").map(x => this.$moment(x).locale('zh-cn').format('YYYY-MM-DD'))\r\n\r\n          let findIndex = months.findIndex((item) => { \r\n            return this.$moment(item).locale('zh-cn').format('YYYY-MM') === this.$moment(this.selectedEndDate).locale('zh-cn').format('YYYY-MM') \r\n          })\r\n          if(findIndex === -1) {\r\n            months.push(this.$moment(this.selectedEndDate).locale('zh-cn').format('YYYY-MM-DD'))\r\n          }\r\n          // 时间跨度只有一个月\r\n          if(months.length == 1) {\r\n            let days = this.$moment(this.selectedEndDate).diff(this.$moment(this.selectedStartDate), 'days') + 1\r\n            this.monthHeaders.push({title: this.$moment(months[0]).locale('zh-cn').format('MMMM'), width: days * this.scale})\r\n          }\r\n          else {\r\n            for(let month of months) {\r\n              let index = months.indexOf(month)\r\n              // 第一月\r\n              if(index === 0) {\r\n                let endOfMonth = this.$moment(this.selectedStartDate).endOf('month').format(\"YYYY-MM-DD\")\r\n                let days = this.$moment(endOfMonth).diff(this.$moment(this.selectedStartDate), 'days') + 1\r\n                this.monthHeaders.push({title: this.$moment(month).locale('zh-cn').format('MMMM'), width: days * this.scale})\r\n              }\r\n              // 最后一个月\r\n              else if(index === months.length - 1) {\r\n                let startOfMonth = this.$moment(this.selectedEndDate).startOf('month').format(\"YYYY-MM-DD\")\r\n                let days = this.$moment(this.selectedEndDate).diff(this.$moment(startOfMonth), 'days') + 1\r\n                this.monthHeaders.push({title: this.$moment(month).locale('zh-cn').format('MMMM'), width: days * this.scale})\r\n              }\r\n              // 中间的月\r\n              else {\r\n                let days = this.$moment(month, \"YYYY-MM\").daysInMonth()\r\n                this.monthHeaders.push({title: this.$moment(month).locale('zh-cn').format('MMMM'), width: days * this.scale})\r\n              }\r\n            }\r\n          }\r\n\r\n          recurrence = this.$moment().recur(this.selectedStartDate, this.selectedEndDate).every(1).days();\r\n          let captions = recurrence.all(\"L\").map(x => this.$moment(x).locale('zh-cn').format('DD日'))\r\n          for(let caption of captions) {\r\n            this.dayHeaders.push({title: caption, width: this.scale})\r\n          }\r\n          this.timelineCellCount = this.dayHeaders.length\r\n          break;       \r\n        }\r\n        case '日': {\r\n          this.scale = 80\r\n          let recurrence = this.$moment().recur(this.selectedStartDate, this.selectedEndDate).every(1).days();\r\n          let captions = recurrence.all(\"L\").map(x => this.$moment(x).locale('zh-cn').format('MMMM DD日'))\r\n          for(let caption of captions) {\r\n            this.dayHeaders.push({title: caption, width: this.scale})\r\n          }\r\n          this.timelineCellCount = this.dayHeaders.length\r\n          break;\r\n        }\r\n        case '时': {\r\n          this.scale = 30\r\n          let recurrence = this.$moment().recur(this.selectedStartDate, this.selectedEndDate).every(1).days();\r\n          let captions = recurrence.all(\"L\").map(x => this.$moment(x).locale('zh-cn').format('MMMM DD日'))\r\n          for(let caption of captions) {\r\n            this.dayHeaders.push({title: caption, width: 24 * this.scale})\r\n            for(let i= 0;i <= 23;i++){\r\n              this.hourHeaders.push({title: i + '点', width: this.scale})\r\n            }\r\n          }\r\n          this.timelineCellCount = this.hourHeaders.length\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    openEndDatePicker() {\r\n      this.showEndDatePicker = true;\r\n    },\r\n    openStartDatePicker() {\r\n      this.showStartDatePicker = true;\r\n    },\r\n    confirmEnd(value) {\r\n      let days = this.$moment(value.date).diff(this.$moment(this.startDate),'days')\r\n      if(days < 0) {\r\n        this.selectedStartDate = value.date;\r\n        this.startDate = value.date;\r\n      }\r\n      this.showEndDatePicker = false;\r\n      this.selectedEndDate = value.date;\r\n      this.endDate = value.date;\r\n    },\r\n    confirmStart(value) {\r\n      let days = this.$moment(this.endDate).diff(this.$moment(value.date),'days')\r\n      if(days < 0) {\r\n        this.selectedEndDate = value.date;\r\n        this.endDate = value.date;\r\n      }\r\n      this.showStartDatePicker = false;\r\n      this.selectedStartDate = value.date;\r\n      this.startDate = value.date;\r\n    },\r\n    cancelEnd() {\r\n      this.showEndDatePicker = false;\r\n    },\r\n    cancelStart() {\r\n      this.showStartDatePicker = false;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@toolbarHeight: 70px;\r\n.page {\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .toolbar {\r\n    height: @toolbarHeight;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-items: flex-start;\r\n    padding: (@toolbarHeight / 2);\r\n    .dateInput {\r\n      cursor: pointer;\r\n      border: 1px solid #dcdfe6;\r\n      height: (@toolbarHeight / 1.5);\r\n      width: 250px;\r\n      display: flex;\r\n      flex-direction: row;\r\n      display: -webkit-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-right: 20px;\r\n      border-radius: 5px;\r\n      color:#00BCD4;\r\n      font-size: 14px;\r\n    }\r\n    .buttonGroup {\r\n      height: (@toolbarHeight / 1.5);\r\n      display: flex;\r\n      flex-direction: row;\r\n      .is-active:not(.text), :active:not(.text) {\r\n        background:#3a8ee6;\r\n        border-color:#3a8ee6;\r\n        color:#FFF\r\n      }\r\n      :hover:not(.text) {\r\n        background:#66b1ff;\r\n        border-color:#66b1ff;\r\n        color:#FFF\r\n      }\r\n      .button {\r\n        width: 80px;\r\n        font-size: 15px;\r\n        height: (@toolbarHeight / 1.5);\r\n        border: 1px solid #dcdfe6;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n  .gantt {\r\n    height: calc(100% - @toolbarHeight);\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"]}]}